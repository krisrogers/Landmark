var Wg=Object.defineProperty;var Hg=(e,t,n)=>t in e?Wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Nn=(e,t,n)=>Hg(e,typeof t!="symbol"?t+"":t,n);function Zg(e,t){for(var n=0;n<t.length;n++){const o=t[n];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(o,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ua(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function qg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function o(){return this instanceof o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(o){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,i.get?i:{enumerable:!0,get:function(){return e[o]}})}),n}var im={exports:{}},ru={},om={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=Symbol.for("react.element"),Gg=Symbol.for("react.portal"),Vg=Symbol.for("react.fragment"),$g=Symbol.for("react.strict_mode"),Yg=Symbol.for("react.profiler"),Xg=Symbol.for("react.provider"),Qg=Symbol.for("react.context"),Kg=Symbol.for("react.forward_ref"),Jg=Symbol.for("react.suspense"),ey=Symbol.for("react.memo"),ty=Symbol.for("react.lazy"),hf=Symbol.iterator;function ny(e){return e===null||typeof e!="object"?null:(e=hf&&e[hf]||e["@@iterator"],typeof e=="function"?e:null)}var sm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},am=Object.assign,lm={};function Uo(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}Uo.prototype.isReactComponent={};Uo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Uo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function um(){}um.prototype=Uo.prototype;function zd(e,t,n){this.props=e,this.context=t,this.refs=lm,this.updater=n||sm}var Ad=zd.prototype=new um;Ad.constructor=zd;am(Ad,Uo.prototype);Ad.isPureReactComponent=!0;var ff=Array.isArray,cm=Object.prototype.hasOwnProperty,Rd={current:null},dm={key:!0,ref:!0,__self:!0,__source:!0};function hm(e,t,n){var o,i={},s=null,l=null;if(t!=null)for(o in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)cm.call(t,o)&&!dm.hasOwnProperty(o)&&(i[o]=t[o]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:ca,type:e,key:s,ref:l,props:i,_owner:Rd.current}}function ry(e,t){return{$$typeof:ca,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ca}function iy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pf=/\/+/g;function Xu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iy(""+e.key):t.toString(36)}function pl(e,t,n,o,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ca:case Gg:l=!0}}if(l)return l=e,i=i(l),e=o===""?"."+Xu(l,0):o,ff(i)?(n="",e!=null&&(n=e.replace(pf,"$&/")+"/"),pl(i,t,n,"",function(f){return f})):i!=null&&(jd(i)&&(i=ry(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(pf,"$&/")+"/")+e)),t.push(i)),1;if(l=0,o=o===""?".":o+":",ff(e))for(var u=0;u<e.length;u++){s=e[u];var d=o+Xu(s,u);l+=pl(s,t,n,d,i)}else if(d=ny(e),typeof d=="function")for(e=d.call(e),u=0;!(s=e.next()).done;)s=s.value,d=o+Xu(s,u++),l+=pl(s,t,n,d,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ga(e,t,n){if(e==null)return e;var o=[],i=0;return pl(e,o,"","",function(s){return t.call(n,s,i++)}),o}function oy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},ml={transition:null},sy={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:ml,ReactCurrentOwner:Rd};function fm(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!jd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ge.Component=Uo;Ge.Fragment=Vg;Ge.Profiler=Yg;Ge.PureComponent=zd;Ge.StrictMode=$g;Ge.Suspense=Jg;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sy;Ge.act=fm;Ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=am({},e.props),i=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=Rd.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)cm.call(t,d)&&!dm.hasOwnProperty(d)&&(o[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];o.children=u}return{$$typeof:ca,type:e.type,key:i,ref:s,props:o,_owner:l}};Ge.createContext=function(e){return e={$$typeof:Qg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xg,_context:e},e.Consumer=e};Ge.createElement=hm;Ge.createFactory=function(e){var t=hm.bind(null,e);return t.type=e,t};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(e){return{$$typeof:Kg,render:e}};Ge.isValidElement=jd;Ge.lazy=function(e){return{$$typeof:ty,_payload:{_status:-1,_result:e},_init:oy}};Ge.memo=function(e,t){return{$$typeof:ey,type:e,compare:t===void 0?null:t}};Ge.startTransition=function(e){var t=ml.transition;ml.transition={};try{e()}finally{ml.transition=t}};Ge.unstable_act=fm;Ge.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Ge.useContext=function(e){return Xt.current.useContext(e)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Ge.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Ge.useId=function(){return Xt.current.useId()};Ge.useImperativeHandle=function(e,t,n){return Xt.current.useImperativeHandle(e,t,n)};Ge.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Ge.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Ge.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Ge.useReducer=function(e,t,n){return Xt.current.useReducer(e,t,n)};Ge.useRef=function(e){return Xt.current.useRef(e)};Ge.useState=function(e){return Xt.current.useState(e)};Ge.useSyncExternalStore=function(e,t,n){return Xt.current.useSyncExternalStore(e,t,n)};Ge.useTransition=function(){return Xt.current.useTransition()};Ge.version="18.3.1";om.exports=Ge;var H=om.exports;const Po=ua(H),ay=Zg({__proto__:null,default:Po},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=H,uy=Symbol.for("react.element"),cy=Symbol.for("react.fragment"),dy=Object.prototype.hasOwnProperty,hy=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fy={key:!0,ref:!0,__self:!0,__source:!0};function pm(e,t,n){var o,i={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(o in t)dy.call(t,o)&&!fy.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)i[o]===void 0&&(i[o]=t[o]);return{$$typeof:uy,type:e,key:s,ref:l,props:i,_owner:hy.current}}ru.Fragment=cy;ru.jsx=pm;ru.jsxs=pm;im.exports=ru;var E=im.exports,Nc={},mm={exports:{}},En={},vm={exports:{}},_m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(J,ie){var Q=J.length;J.push(ie);e:for(;0<Q;){var W=Q-1>>>1,Z=J[W];if(0<i(Z,ie))J[W]=ie,J[Q]=Z,Q=W;else break e}}function n(J){return J.length===0?null:J[0]}function o(J){if(J.length===0)return null;var ie=J[0],Q=J.pop();if(Q!==ie){J[0]=Q;e:for(var W=0,Z=J.length,we=Z>>>1;W<we;){var me=2*(W+1)-1,le=J[me],Le=me+1,Ue=J[Le];if(0>i(le,Q))Le<Z&&0>i(Ue,le)?(J[W]=Ue,J[Le]=Q,W=Le):(J[W]=le,J[me]=Q,W=me);else if(Le<Z&&0>i(Ue,Q))J[W]=Ue,J[Le]=Q,W=Le;else break e}}return ie}function i(J,ie){var Q=J.sortIndex-ie.sortIndex;return Q!==0?Q:J.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],_=1,m=null,w=3,b=!1,P=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(J){for(var ie=n(f);ie!==null;){if(ie.callback===null)o(f);else if(ie.startTime<=J)o(f),ie.sortIndex=ie.expirationTime,t(d,ie);else break;ie=n(f)}}function I(J){if(k=!1,T(J),!P)if(n(d)!==null)P=!0,xe(z);else{var ie=n(f);ie!==null&&de(I,ie.startTime-J)}}function z(J,ie){P=!1,k&&(k=!1,g(V),V=-1),b=!0;var Q=w;try{for(T(ie),m=n(d);m!==null&&(!(m.expirationTime>ie)||J&&!se());){var W=m.callback;if(typeof W=="function"){m.callback=null,w=m.priorityLevel;var Z=W(m.expirationTime<=ie);ie=e.unstable_now(),typeof Z=="function"?m.callback=Z:m===n(d)&&o(d),T(ie)}else o(d);m=n(d)}if(m!==null)var we=!0;else{var me=n(f);me!==null&&de(I,me.startTime-ie),we=!1}return we}finally{m=null,w=Q,b=!1}}var q=!1,U=null,V=-1,$=5,ne=-1;function se(){return!(e.unstable_now()-ne<$)}function j(){if(U!==null){var J=e.unstable_now();ne=J;var ie=!0;try{ie=U(!0,J)}finally{ie?X():(q=!1,U=null)}}else q=!1}var X;if(typeof y=="function")X=function(){y(j)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ue=N.port2;N.port1.onmessage=j,X=function(){ue.postMessage(null)}}else X=function(){M(j,0)};function xe(J){U=J,q||(q=!0,X())}function de(J,ie){V=M(function(){J(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){P||b||(P=!0,xe(z))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var Q=w;w=ie;try{return J()}finally{w=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,ie){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Q=w;w=J;try{return ie()}finally{w=Q}},e.unstable_scheduleCallback=function(J,ie,Q){var W=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?W+Q:W):Q=W,J){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=Q+Z,J={id:_++,callback:ie,priorityLevel:J,startTime:Q,expirationTime:Z,sortIndex:-1},Q>W?(J.sortIndex=Q,t(f,J),n(d)===null&&J===n(f)&&(k?(g(V),V=-1):k=!0,de(I,Q-W))):(J.sortIndex=Z,t(d,J),P||b||(P=!0,xe(z))),J},e.unstable_shouldYield=se,e.unstable_wrapCallback=function(J){var ie=w;return function(){var Q=w;w=ie;try{return J.apply(this,arguments)}finally{w=Q}}}})(_m);vm.exports=_m;var py=vm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my=H,kn=py;function _e(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gm=new Set,Ws={};function Gi(e,t){Mo(e,t),Mo(e+"Capture",t)}function Mo(e,t){for(Ws[e]=t,e=0;e<t.length;e++)gm.add(t[e])}var Nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oc=Object.prototype.hasOwnProperty,vy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mf={},vf={};function _y(e){return Oc.call(vf,e)?!0:Oc.call(mf,e)?!1:vy.test(e)?vf[e]=!0:(mf[e]=!0,!1)}function gy(e,t,n,o){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yy(e,t,n,o){if(t===null||typeof t>"u"||gy(e,t,n,o))return!0;if(o)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,n,o,i,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fd=/[\-:]([a-z])/g;function Bd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Fd,Bd);Rt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Fd,Bd);Rt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Fd,Bd);Rt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ud(e,t,n,o){var i=Rt.hasOwnProperty(t)?Rt[t]:null;(i!==null?i.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yy(t,n,i,o)&&(n=null),o||i===null?_y(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,o=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,o?e.setAttributeNS(o,t,n):e.setAttribute(t,n))))}var zr=my.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Va=Symbol.for("react.element"),lo=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),Dc=Symbol.for("react.profiler"),ym=Symbol.for("react.provider"),wm=Symbol.for("react.context"),Hd=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),zc=Symbol.for("react.suspense_list"),Zd=Symbol.for("react.memo"),Jr=Symbol.for("react.lazy"),xm=Symbol.for("react.offscreen"),_f=Symbol.iterator;function vs(e){return e===null||typeof e!="object"?null:(e=_f&&e[_f]||e["@@iterator"],typeof e=="function"?e:null)}var yt=Object.assign,Qu;function Ps(e){if(Qu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qu=t&&t[1]||""}return`
`+Qu+e}var Ku=!1;function Ju(e,t){if(!e||Ku)return"";Ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var o=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){o=f}e.call(t.prototype)}else{try{throw Error()}catch(f){o=f}e()}}catch(f){if(f&&o&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=o.stack.split(`
`),l=i.length-1,u=s.length-1;1<=l&&0<=u&&i[l]!==s[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==s[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==s[u]){var d=`
`+i[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{Ku=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ps(e):""}function wy(e){switch(e.tag){case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 2:case 15:return e=Ju(e.type,!1),e;case 11:return e=Ju(e.type.render,!1),e;case 1:return e=Ju(e.type,!0),e;default:return""}}function Ac(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case uo:return"Fragment";case lo:return"Portal";case Dc:return"Profiler";case Wd:return"StrictMode";case Ic:return"Suspense";case zc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case wm:return(e.displayName||"Context")+".Consumer";case ym:return(e._context.displayName||"Context")+".Provider";case Hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zd:return t=e.displayName||null,t!==null?t:Ac(e.type)||"Memo";case Jr:t=e._payload,e=e._init;try{return Ac(e(t))}catch{}}return null}function xy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ac(t);case 8:return t===Wd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function by(e){var t=bm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){o=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $a(e){e._valueTracker||(e._valueTracker=by(e))}function Lm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),o="";return e&&(o=bm(e)?e.checked?"true":"false":e.value),e=o,e!==n?(t.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rc(e,t){var n=t.checked;return yt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function gf(e,t){var n=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;n=mi(t.value!=null?t.value:n),e._wrapperState={initialChecked:o,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function km(e,t){t=t.checked,t!=null&&Ud(e,"checked",t,!1)}function jc(e,t){km(e,t);var n=mi(t.value),o=t.type;if(n!=null)o==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Fc(e,t.type,n):t.hasOwnProperty("defaultValue")&&Fc(e,t.type,mi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yf(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Fc(e,t,n){(t!=="number"||Tl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Ms=Array.isArray;function Lo(e,t,n,o){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&o&&(e[n].defaultSelected=!0)}else{for(n=""+mi(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,o&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(_e(91));return yt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function wf(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(_e(92));if(Ms(n)){if(1<n.length)throw Error(_e(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mi(n)}}function Em(e,t){var n=mi(t.value),o=mi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),o!=null&&(e.defaultValue=""+o)}function xf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ya,Tm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,o,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,o,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ya=Ya||document.createElement("div"),Ya.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ya.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Hs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ly=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(e){Ly.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ds[t]=Ds[e]})});function Cm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ds.hasOwnProperty(e)&&Ds[e]?(""+t).trim():t+"px"}function Pm(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var o=n.indexOf("--")===0,i=Cm(n,t[n],o);n==="float"&&(n="cssFloat"),o?e.setProperty(n,i):e[n]=i}}var ky=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wc(e,t){if(t){if(ky[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(_e(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(_e(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(_e(61))}if(t.style!=null&&typeof t.style!="object")throw Error(_e(62))}}function Hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function qd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qc=null,ko=null,Eo=null;function bf(e){if(e=fa(e)){if(typeof qc!="function")throw Error(_e(280));var t=e.stateNode;t&&(t=lu(t),qc(e.stateNode,e.type,t))}}function Mm(e){ko?Eo?Eo.push(e):Eo=[e]:ko=e}function Nm(){if(ko){var e=ko,t=Eo;if(Eo=ko=null,bf(e),t)for(e=0;e<t.length;e++)bf(t[e])}}function Om(e,t){return e(t)}function Dm(){}var ec=!1;function Im(e,t,n){if(ec)return e(t,n);ec=!0;try{return Om(e,t,n)}finally{ec=!1,(ko!==null||Eo!==null)&&(Dm(),Nm())}}function Zs(e,t){var n=e.stateNode;if(n===null)return null;var o=lu(n);if(o===null)return null;n=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(_e(231,t,typeof n));return n}var Gc=!1;if(Nr)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){Gc=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{Gc=!1}function Ey(e,t,n,o,i,s,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(_){this.onError(_)}}var Is=!1,Cl=null,Pl=!1,Vc=null,Sy={onError:function(e){Is=!0,Cl=e}};function Ty(e,t,n,o,i,s,l,u,d){Is=!1,Cl=null,Ey.apply(Sy,arguments)}function Cy(e,t,n,o,i,s,l,u,d){if(Ty.apply(this,arguments),Is){if(Is){var f=Cl;Is=!1,Cl=null}else throw Error(_e(198));Pl||(Pl=!0,Vc=f)}}function Vi(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lf(e){if(Vi(e)!==e)throw Error(_e(188))}function Py(e){var t=e.alternate;if(!t){if(t=Vi(e),t===null)throw Error(_e(188));return t!==e?null:e}for(var n=e,o=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(o=i.return,o!==null){n=o;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Lf(i),e;if(s===o)return Lf(i),t;s=s.sibling}throw Error(_e(188))}if(n.return!==o.return)n=i,o=s;else{for(var l=!1,u=i.child;u;){if(u===n){l=!0,n=i,o=s;break}if(u===o){l=!0,o=i,n=s;break}u=u.sibling}if(!l){for(u=s.child;u;){if(u===n){l=!0,n=s,o=i;break}if(u===o){l=!0,o=s,n=i;break}u=u.sibling}if(!l)throw Error(_e(189))}}if(n.alternate!==o)throw Error(_e(190))}if(n.tag!==3)throw Error(_e(188));return n.stateNode.current===n?e:t}function Am(e){return e=Py(e),e!==null?Rm(e):null}function Rm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Rm(e);if(t!==null)return t;e=e.sibling}return null}var jm=kn.unstable_scheduleCallback,kf=kn.unstable_cancelCallback,My=kn.unstable_shouldYield,Ny=kn.unstable_requestPaint,xt=kn.unstable_now,Oy=kn.unstable_getCurrentPriorityLevel,Gd=kn.unstable_ImmediatePriority,Fm=kn.unstable_UserBlockingPriority,Ml=kn.unstable_NormalPriority,Dy=kn.unstable_LowPriority,Bm=kn.unstable_IdlePriority,iu=null,ur=null;function Iy(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(iu,e,void 0,(e.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:Ry,zy=Math.log,Ay=Math.LN2;function Ry(e){return e>>>=0,e===0?32:31-(zy(e)/Ay|0)|0}var Xa=64,Qa=4194304;function Ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var o=0,i=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var u=l&~i;u!==0?o=Ns(u):(s&=l,s!==0&&(o=Ns(s)))}else l=n&~i,l!==0?o=Ns(l):s!==0&&(o=Ns(s));if(o===0)return 0;if(t!==0&&t!==o&&!(t&i)&&(i=o&-o,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(o&4&&(o|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)n=31-$n(t),i=1<<n,o|=e[n],t&=~i;return o}function jy(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fy(e,t){for(var n=e.suspendedLanes,o=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-$n(s),u=1<<l,d=i[l];d===-1?(!(u&n)||u&o)&&(i[l]=jy(u,t)):d<=t&&(e.expiredLanes|=u),s&=~u}}function $c(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Um(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function tc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function da(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$n(t),e[t]=n}function By(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-$n(n),s=1<<i;t[i]=0,o[i]=-1,e[i]=-1,n&=~s}}function Vd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var o=31-$n(n),i=1<<o;i&t|e[o]&t&&(e[o]|=t),n&=~i}}var et=0;function Wm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Hm,$d,Zm,qm,Gm,Yc=!1,Ka=[],si=null,ai=null,li=null,qs=new Map,Gs=new Map,ti=[],Uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ef(e,t){switch(e){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":qs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gs.delete(t.pointerId)}}function gs(e,t,n,o,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:o,nativeEvent:s,targetContainers:[i]},t!==null&&(t=fa(t),t!==null&&$d(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Wy(e,t,n,o,i){switch(t){case"focusin":return si=gs(si,e,t,n,o,i),!0;case"dragenter":return ai=gs(ai,e,t,n,o,i),!0;case"mouseover":return li=gs(li,e,t,n,o,i),!0;case"pointerover":var s=i.pointerId;return qs.set(s,gs(qs.get(s)||null,e,t,n,o,i)),!0;case"gotpointercapture":return s=i.pointerId,Gs.set(s,gs(Gs.get(s)||null,e,t,n,o,i)),!0}return!1}function Vm(e){var t=Ai(e.target);if(t!==null){var n=Vi(t);if(n!==null){if(t=n.tag,t===13){if(t=zm(n),t!==null){e.blockedOn=t,Gm(e.priority,function(){Zm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var o=new n.constructor(n.type,n);Zc=o,n.target.dispatchEvent(o),Zc=null}else return t=fa(n),t!==null&&$d(t),e.blockedOn=n,!1;t.shift()}return!0}function Sf(e,t,n){vl(e)&&n.delete(t)}function Hy(){Yc=!1,si!==null&&vl(si)&&(si=null),ai!==null&&vl(ai)&&(ai=null),li!==null&&vl(li)&&(li=null),qs.forEach(Sf),Gs.forEach(Sf)}function ys(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,kn.unstable_scheduleCallback(kn.unstable_NormalPriority,Hy)))}function Vs(e){function t(i){return ys(i,e)}if(0<Ka.length){ys(Ka[0],e);for(var n=1;n<Ka.length;n++){var o=Ka[n];o.blockedOn===e&&(o.blockedOn=null)}}for(si!==null&&ys(si,e),ai!==null&&ys(ai,e),li!==null&&ys(li,e),qs.forEach(t),Gs.forEach(t),n=0;n<ti.length;n++)o=ti[n],o.blockedOn===e&&(o.blockedOn=null);for(;0<ti.length&&(n=ti[0],n.blockedOn===null);)Vm(n),n.blockedOn===null&&ti.shift()}var So=zr.ReactCurrentBatchConfig,Ol=!0;function Zy(e,t,n,o){var i=et,s=So.transition;So.transition=null;try{et=1,Yd(e,t,n,o)}finally{et=i,So.transition=s}}function qy(e,t,n,o){var i=et,s=So.transition;So.transition=null;try{et=4,Yd(e,t,n,o)}finally{et=i,So.transition=s}}function Yd(e,t,n,o){if(Ol){var i=Xc(e,t,n,o);if(i===null)dc(e,t,o,Dl,n),Ef(e,o);else if(Wy(i,e,t,n,o))o.stopPropagation();else if(Ef(e,o),t&4&&-1<Uy.indexOf(e)){for(;i!==null;){var s=fa(i);if(s!==null&&Hm(s),s=Xc(e,t,n,o),s===null&&dc(e,t,o,Dl,n),s===i)break;i=s}i!==null&&o.stopPropagation()}else dc(e,t,o,null,n)}}var Dl=null;function Xc(e,t,n,o){if(Dl=null,e=qd(o),e=Ai(e),e!==null)if(t=Vi(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Dl=e,null}function $m(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oy()){case Gd:return 1;case Fm:return 4;case Ml:case Dy:return 16;case Bm:return 536870912;default:return 16}default:return 16}}var ri=null,Xd=null,_l=null;function Ym(){if(_l)return _l;var e,t=Xd,n=t.length,o,i="value"in ri?ri.value:ri.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(o=1;o<=l&&t[n-o]===i[s-o];o++);return _l=i.slice(e,1<o?1-o:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ja(){return!0}function Tf(){return!1}function Sn(e){function t(n,o,i,s,l){this._reactName=n,this._targetInst=i,this.type=o,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ja:Tf,this.isPropagationStopped=Tf,this}return yt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),t}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qd=Sn(Wo),ha=yt({},Wo,{view:0,detail:0}),Gy=Sn(ha),nc,rc,ws,ou=yt({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(nc=e.screenX-ws.screenX,rc=e.screenY-ws.screenY):rc=nc=0,ws=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:rc}}),Cf=Sn(ou),Vy=yt({},ou,{dataTransfer:0}),$y=Sn(Vy),Yy=yt({},ha,{relatedTarget:0}),ic=Sn(Yy),Xy=yt({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Qy=Sn(Xy),Ky=yt({},Wo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jy=Sn(Ky),e0=yt({},Wo,{data:0}),Pf=Sn(e0),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function i0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=r0[e])?!!t[e]:!1}function Kd(){return i0}var o0=yt({},ha,{key:function(e){if(e.key){var t=t0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kd,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),s0=Sn(o0),a0=yt({},ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mf=Sn(a0),l0=yt({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kd}),u0=Sn(l0),c0=yt({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),d0=Sn(c0),h0=yt({},ou,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),f0=Sn(h0),p0=[9,13,27,32],Jd=Nr&&"CompositionEvent"in window,zs=null;Nr&&"documentMode"in document&&(zs=document.documentMode);var m0=Nr&&"TextEvent"in window&&!zs,Xm=Nr&&(!Jd||zs&&8<zs&&11>=zs),Nf=" ",Of=!1;function Qm(e,t){switch(e){case"keyup":return p0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Km(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function v0(e,t){switch(e){case"compositionend":return Km(t);case"keypress":return t.which!==32?null:(Of=!0,Nf);case"textInput":return e=t.data,e===Nf&&Of?null:e;default:return null}}function _0(e,t){if(co)return e==="compositionend"||!Jd&&Qm(e,t)?(e=Ym(),_l=Xd=ri=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xm&&t.locale!=="ko"?null:t.data;default:return null}}var g0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g0[e.type]:t==="textarea"}function Jm(e,t,n,o){Mm(o),t=Il(t,"onChange"),0<t.length&&(n=new Qd("onChange","change",null,n,o),e.push({event:n,listeners:t}))}var As=null,$s=null;function y0(e){cv(e,0)}function su(e){var t=po(e);if(Lm(t))return e}function w0(e,t){if(e==="change")return t}var ev=!1;if(Nr){var oc;if(Nr){var sc="oninput"in document;if(!sc){var If=document.createElement("div");If.setAttribute("oninput","return;"),sc=typeof If.oninput=="function"}oc=sc}else oc=!1;ev=oc&&(!document.documentMode||9<document.documentMode)}function zf(){As&&(As.detachEvent("onpropertychange",tv),$s=As=null)}function tv(e){if(e.propertyName==="value"&&su($s)){var t=[];Jm(t,$s,e,qd(e)),Im(y0,t)}}function x0(e,t,n){e==="focusin"?(zf(),As=t,$s=n,As.attachEvent("onpropertychange",tv)):e==="focusout"&&zf()}function b0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return su($s)}function L0(e,t){if(e==="click")return su(t)}function k0(e,t){if(e==="input"||e==="change")return su(t)}function E0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xn=typeof Object.is=="function"?Object.is:E0;function Ys(e,t){if(Xn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(o=0;o<n.length;o++){var i=n[o];if(!Oc.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function Af(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Rf(e,t){var n=Af(e);e=0;for(var o;n;){if(n.nodeType===3){if(o=e+n.textContent.length,e<=t&&o>=t)return{node:n,offset:t-e};e=o}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Af(n)}}function nv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rv(){for(var e=window,t=Tl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Tl(e.document)}return t}function eh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function S0(e){var t=rv(),n=e.focusedElem,o=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&nv(n.ownerDocument.documentElement,n)){if(o!==null&&eh(n)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(o.start,i);o=o.end===void 0?s:Math.min(o.end,i),!e.extend&&s>o&&(i=o,o=s,s=i),i=Rf(n,s);var l=Rf(n,o);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>o?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var T0=Nr&&"documentMode"in document&&11>=document.documentMode,ho=null,Qc=null,Rs=null,Kc=!1;function jf(e,t,n){var o=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kc||ho==null||ho!==Tl(o)||(o=ho,"selectionStart"in o&&eh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Rs&&Ys(Rs,o)||(Rs=o,o=Il(Qc,"onSelect"),0<o.length&&(t=new Qd("onSelect","select",null,t,n),e.push({event:t,listeners:o}),t.target=ho)))}function el(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fo={animationend:el("Animation","AnimationEnd"),animationiteration:el("Animation","AnimationIteration"),animationstart:el("Animation","AnimationStart"),transitionend:el("Transition","TransitionEnd")},ac={},iv={};Nr&&(iv=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function au(e){if(ac[e])return ac[e];if(!fo[e])return e;var t=fo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in iv)return ac[e]=t[n];return e}var ov=au("animationend"),sv=au("animationiteration"),av=au("animationstart"),lv=au("transitionend"),uv=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gi(e,t){uv.set(e,t),Gi(t,[e])}for(var lc=0;lc<Ff.length;lc++){var uc=Ff[lc],C0=uc.toLowerCase(),P0=uc[0].toUpperCase()+uc.slice(1);gi(C0,"on"+P0)}gi(ov,"onAnimationEnd");gi(sv,"onAnimationIteration");gi(av,"onAnimationStart");gi("dblclick","onDoubleClick");gi("focusin","onFocus");gi("focusout","onBlur");gi(lv,"onTransitionEnd");Mo("onMouseEnter",["mouseout","mouseover"]);Mo("onMouseLeave",["mouseout","mouseover"]);Mo("onPointerEnter",["pointerout","pointerover"]);Mo("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Os));function Bf(e,t,n){var o=e.type||"unknown-event";e.currentTarget=n,Cy(o,t,void 0,e),e.currentTarget=null}function cv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var o=e[n],i=o.event;o=o.listeners;e:{var s=void 0;if(t)for(var l=o.length-1;0<=l;l--){var u=o[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==s&&i.isPropagationStopped())break e;Bf(i,u,f),s=d}else for(l=0;l<o.length;l++){if(u=o[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==s&&i.isPropagationStopped())break e;Bf(i,u,f),s=d}}}if(Pl)throw e=Vc,Pl=!1,Vc=null,e}function ct(e,t){var n=t[rd];n===void 0&&(n=t[rd]=new Set);var o=e+"__bubble";n.has(o)||(dv(t,e,2,!1),n.add(o))}function cc(e,t,n){var o=0;t&&(o|=4),dv(n,e,o,t)}var tl="_reactListening"+Math.random().toString(36).slice(2);function Xs(e){if(!e[tl]){e[tl]=!0,gm.forEach(function(n){n!=="selectionchange"&&(M0.has(n)||cc(n,!1,e),cc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tl]||(t[tl]=!0,cc("selectionchange",!1,t))}}function dv(e,t,n,o){switch($m(t)){case 1:var i=Zy;break;case 4:i=qy;break;default:i=Yd}n=i.bind(null,t,n,e),i=void 0,!Gc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),o?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function dc(e,t,n,o,i){var s=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;l=l.return}for(;u!==null;){if(l=Ai(u),l===null)return;if(d=l.tag,d===5||d===6){o=s=l;continue e}u=u.parentNode}}o=o.return}Im(function(){var f=s,_=qd(n),m=[];e:{var w=uv.get(e);if(w!==void 0){var b=Qd,P=e;switch(e){case"keypress":if(gl(n)===0)break e;case"keydown":case"keyup":b=s0;break;case"focusin":P="focus",b=ic;break;case"focusout":P="blur",b=ic;break;case"beforeblur":case"afterblur":b=ic;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=u0;break;case ov:case sv:case av:b=Qy;break;case lv:b=d0;break;case"scroll":b=Gy;break;case"wheel":b=f0;break;case"copy":case"cut":case"paste":b=Jy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Mf}var k=(t&4)!==0,M=!k&&e==="scroll",g=k?w!==null?w+"Capture":null:w;k=[];for(var y=f,T;y!==null;){T=y;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,g!==null&&(I=Zs(y,g),I!=null&&k.push(Qs(y,I,T)))),M)break;y=y.return}0<k.length&&(w=new b(w,P,null,n,_),m.push({event:w,listeners:k}))}}if(!(t&7)){e:{if(w=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",w&&n!==Zc&&(P=n.relatedTarget||n.fromElement)&&(Ai(P)||P[Or]))break e;if((b||w)&&(w=_.window===_?_:(w=_.ownerDocument)?w.defaultView||w.parentWindow:window,b?(P=n.relatedTarget||n.toElement,b=f,P=P?Ai(P):null,P!==null&&(M=Vi(P),P!==M||P.tag!==5&&P.tag!==6)&&(P=null)):(b=null,P=f),b!==P)){if(k=Cf,I="onMouseLeave",g="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(k=Mf,I="onPointerLeave",g="onPointerEnter",y="pointer"),M=b==null?w:po(b),T=P==null?w:po(P),w=new k(I,y+"leave",b,n,_),w.target=M,w.relatedTarget=T,I=null,Ai(_)===f&&(k=new k(g,y+"enter",P,n,_),k.target=T,k.relatedTarget=M,I=k),M=I,b&&P)t:{for(k=b,g=P,y=0,T=k;T;T=so(T))y++;for(T=0,I=g;I;I=so(I))T++;for(;0<y-T;)k=so(k),y--;for(;0<T-y;)g=so(g),T--;for(;y--;){if(k===g||g!==null&&k===g.alternate)break t;k=so(k),g=so(g)}k=null}else k=null;b!==null&&Uf(m,w,b,k,!1),P!==null&&M!==null&&Uf(m,M,P,k,!0)}}e:{if(w=f?po(f):window,b=w.nodeName&&w.nodeName.toLowerCase(),b==="select"||b==="input"&&w.type==="file")var z=w0;else if(Df(w))if(ev)z=k0;else{z=b0;var q=x0}else(b=w.nodeName)&&b.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(z=L0);if(z&&(z=z(e,f))){Jm(m,z,n,_);break e}q&&q(e,w,f),e==="focusout"&&(q=w._wrapperState)&&q.controlled&&w.type==="number"&&Fc(w,"number",w.value)}switch(q=f?po(f):window,e){case"focusin":(Df(q)||q.contentEditable==="true")&&(ho=q,Qc=f,Rs=null);break;case"focusout":Rs=Qc=ho=null;break;case"mousedown":Kc=!0;break;case"contextmenu":case"mouseup":case"dragend":Kc=!1,jf(m,n,_);break;case"selectionchange":if(T0)break;case"keydown":case"keyup":jf(m,n,_)}var U;if(Jd)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else co?Qm(e,n)&&(V="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(V="onCompositionStart");V&&(Xm&&n.locale!=="ko"&&(co||V!=="onCompositionStart"?V==="onCompositionEnd"&&co&&(U=Ym()):(ri=_,Xd="value"in ri?ri.value:ri.textContent,co=!0)),q=Il(f,V),0<q.length&&(V=new Pf(V,e,null,n,_),m.push({event:V,listeners:q}),U?V.data=U:(U=Km(n),U!==null&&(V.data=U)))),(U=m0?v0(e,n):_0(e,n))&&(f=Il(f,"onBeforeInput"),0<f.length&&(_=new Pf("onBeforeInput","beforeinput",null,n,_),m.push({event:_,listeners:f}),_.data=U))}cv(m,t)})}function Qs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Il(e,t){for(var n=t+"Capture",o=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Zs(e,n),s!=null&&o.unshift(Qs(e,s,i)),s=Zs(e,t),s!=null&&o.push(Qs(e,s,i))),e=e.return}return o}function so(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uf(e,t,n,o,i){for(var s=t._reactName,l=[];n!==null&&n!==o;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&f!==null&&(u=f,i?(d=Zs(n,s),d!=null&&l.unshift(Qs(n,d,u))):i||(d=Zs(n,s),d!=null&&l.push(Qs(n,d,u)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var N0=/\r\n?/g,O0=/\u0000|\uFFFD/g;function Wf(e){return(typeof e=="string"?e:""+e).replace(N0,`
`).replace(O0,"")}function nl(e,t,n){if(t=Wf(t),Wf(e)!==t&&n)throw Error(_e(425))}function zl(){}var Jc=null,ed=null;function td(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var nd=typeof setTimeout=="function"?setTimeout:void 0,D0=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,I0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(e){return Hf.resolve(null).then(e).catch(z0)}:nd;function z0(e){setTimeout(function(){throw e})}function hc(e,t){var n=t,o=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(o===0){e.removeChild(i),Vs(t);return}o--}else n!=="$"&&n!=="$?"&&n!=="$!"||o++;n=i}while(n);Vs(t)}function ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),lr="__reactFiber$"+Ho,Ks="__reactProps$"+Ho,Or="__reactContainer$"+Ho,rd="__reactEvents$"+Ho,A0="__reactListeners$"+Ho,R0="__reactHandles$"+Ho;function Ai(e){var t=e[lr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Or]||n[lr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zf(e);e!==null;){if(n=e[lr])return n;e=Zf(e)}return t}e=n,n=e.parentNode}return null}function fa(e){return e=e[lr]||e[Or],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function po(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(_e(33))}function lu(e){return e[Ks]||null}var id=[],mo=-1;function yi(e){return{current:e}}function dt(e){0>mo||(e.current=id[mo],id[mo]=null,mo--)}function ot(e,t){mo++,id[mo]=e.current,e.current=t}var vi={},Ht=yi(vi),ln=yi(!1),Ui=vi;function No(e,t){var n=e.type.contextTypes;if(!n)return vi;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function un(e){return e=e.childContextTypes,e!=null}function Al(){dt(ln),dt(Ht)}function qf(e,t,n){if(Ht.current!==vi)throw Error(_e(168));ot(Ht,t),ot(ln,n)}function hv(e,t,n){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return n;o=o.getChildContext();for(var i in o)if(!(i in t))throw Error(_e(108,xy(e)||"Unknown",i));return yt({},n,o)}function Rl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vi,Ui=Ht.current,ot(Ht,e),ot(ln,ln.current),!0}function Gf(e,t,n){var o=e.stateNode;if(!o)throw Error(_e(169));n?(e=hv(e,t,Ui),o.__reactInternalMemoizedMergedChildContext=e,dt(ln),dt(Ht),ot(Ht,e)):dt(ln),ot(ln,n)}var Tr=null,uu=!1,fc=!1;function fv(e){Tr===null?Tr=[e]:Tr.push(e)}function j0(e){uu=!0,fv(e)}function wi(){if(!fc&&Tr!==null){fc=!0;var e=0,t=et;try{var n=Tr;for(et=1;e<n.length;e++){var o=n[e];do o=o(!0);while(o!==null)}Tr=null,uu=!1}catch(i){throw Tr!==null&&(Tr=Tr.slice(e+1)),jm(Gd,wi),i}finally{et=t,fc=!1}}return null}var vo=[],_o=0,jl=null,Fl=0,On=[],Dn=0,Wi=null,Cr=1,Pr="";function Oi(e,t){vo[_o++]=Fl,vo[_o++]=jl,jl=e,Fl=t}function pv(e,t,n){On[Dn++]=Cr,On[Dn++]=Pr,On[Dn++]=Wi,Wi=e;var o=Cr;e=Pr;var i=32-$n(o)-1;o&=~(1<<i),n+=1;var s=32-$n(t)+i;if(30<s){var l=i-i%5;s=(o&(1<<l)-1).toString(32),o>>=l,i-=l,Cr=1<<32-$n(t)+i|n<<i|o,Pr=s+e}else Cr=1<<s|n<<i|o,Pr=e}function th(e){e.return!==null&&(Oi(e,1),pv(e,1,0))}function nh(e){for(;e===jl;)jl=vo[--_o],vo[_o]=null,Fl=vo[--_o],vo[_o]=null;for(;e===Wi;)Wi=On[--Dn],On[Dn]=null,Pr=On[--Dn],On[Dn]=null,Cr=On[--Dn],On[Dn]=null}var Ln=null,bn=null,mt=!1,Vn=null;function mv(e,t){var n=In(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vf(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ln=e,bn=ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ln=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Wi!==null?{id:Cr,overflow:Pr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=In(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ln=e,bn=null,!0):!1;default:return!1}}function od(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sd(e){if(mt){var t=bn;if(t){var n=t;if(!Vf(e,t)){if(od(e))throw Error(_e(418));t=ui(n.nextSibling);var o=Ln;t&&Vf(e,t)?mv(o,n):(e.flags=e.flags&-4097|2,mt=!1,Ln=e)}}else{if(od(e))throw Error(_e(418));e.flags=e.flags&-4097|2,mt=!1,Ln=e}}}function $f(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ln=e}function rl(e){if(e!==Ln)return!1;if(!mt)return $f(e),mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!td(e.type,e.memoizedProps)),t&&(t=bn)){if(od(e))throw vv(),Error(_e(418));for(;t;)mv(e,t),t=ui(t.nextSibling)}if($f(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(_e(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=ui(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=Ln?ui(e.stateNode.nextSibling):null;return!0}function vv(){for(var e=bn;e;)e=ui(e.nextSibling)}function Oo(){bn=Ln=null,mt=!1}function rh(e){Vn===null?Vn=[e]:Vn.push(e)}var F0=zr.ReactCurrentBatchConfig;function xs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(_e(309));var o=n.stateNode}if(!o)throw Error(_e(147,e));var i=o,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var u=i.refs;l===null?delete u[s]:u[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(_e(284));if(!n._owner)throw Error(_e(290,e))}return e}function il(e,t){throw e=Object.prototype.toString.call(t),Error(_e(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yf(e){var t=e._init;return t(e._payload)}function _v(e){function t(g,y){if(e){var T=g.deletions;T===null?(g.deletions=[y],g.flags|=16):T.push(y)}}function n(g,y){if(!e)return null;for(;y!==null;)t(g,y),y=y.sibling;return null}function o(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function i(g,y){return g=fi(g,y),g.index=0,g.sibling=null,g}function s(g,y,T){return g.index=T,e?(T=g.alternate,T!==null?(T=T.index,T<y?(g.flags|=2,y):T):(g.flags|=2,y)):(g.flags|=1048576,y)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function u(g,y,T,I){return y===null||y.tag!==6?(y=wc(T,g.mode,I),y.return=g,y):(y=i(y,T),y.return=g,y)}function d(g,y,T,I){var z=T.type;return z===uo?_(g,y,T.props.children,I,T.key):y!==null&&(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Jr&&Yf(z)===y.type)?(I=i(y,T.props),I.ref=xs(g,y,T),I.return=g,I):(I=El(T.type,T.key,T.props,null,g.mode,I),I.ref=xs(g,y,T),I.return=g,I)}function f(g,y,T,I){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=xc(T,g.mode,I),y.return=g,y):(y=i(y,T.children||[]),y.return=g,y)}function _(g,y,T,I,z){return y===null||y.tag!==7?(y=Bi(T,g.mode,I,z),y.return=g,y):(y=i(y,T),y.return=g,y)}function m(g,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wc(""+y,g.mode,T),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Va:return T=El(y.type,y.key,y.props,null,g.mode,T),T.ref=xs(g,null,y),T.return=g,T;case lo:return y=xc(y,g.mode,T),y.return=g,y;case Jr:var I=y._init;return m(g,I(y._payload),T)}if(Ms(y)||vs(y))return y=Bi(y,g.mode,T,null),y.return=g,y;il(g,y)}return null}function w(g,y,T,I){var z=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return z!==null?null:u(g,y,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Va:return T.key===z?d(g,y,T,I):null;case lo:return T.key===z?f(g,y,T,I):null;case Jr:return z=T._init,w(g,y,z(T._payload),I)}if(Ms(T)||vs(T))return z!==null?null:_(g,y,T,I,null);il(g,T)}return null}function b(g,y,T,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return g=g.get(T)||null,u(y,g,""+I,z);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Va:return g=g.get(I.key===null?T:I.key)||null,d(y,g,I,z);case lo:return g=g.get(I.key===null?T:I.key)||null,f(y,g,I,z);case Jr:var q=I._init;return b(g,y,T,q(I._payload),z)}if(Ms(I)||vs(I))return g=g.get(T)||null,_(y,g,I,z,null);il(y,I)}return null}function P(g,y,T,I){for(var z=null,q=null,U=y,V=y=0,$=null;U!==null&&V<T.length;V++){U.index>V?($=U,U=null):$=U.sibling;var ne=w(g,U,T[V],I);if(ne===null){U===null&&(U=$);break}e&&U&&ne.alternate===null&&t(g,U),y=s(ne,y,V),q===null?z=ne:q.sibling=ne,q=ne,U=$}if(V===T.length)return n(g,U),mt&&Oi(g,V),z;if(U===null){for(;V<T.length;V++)U=m(g,T[V],I),U!==null&&(y=s(U,y,V),q===null?z=U:q.sibling=U,q=U);return mt&&Oi(g,V),z}for(U=o(g,U);V<T.length;V++)$=b(U,g,V,T[V],I),$!==null&&(e&&$.alternate!==null&&U.delete($.key===null?V:$.key),y=s($,y,V),q===null?z=$:q.sibling=$,q=$);return e&&U.forEach(function(se){return t(g,se)}),mt&&Oi(g,V),z}function k(g,y,T,I){var z=vs(T);if(typeof z!="function")throw Error(_e(150));if(T=z.call(T),T==null)throw Error(_e(151));for(var q=z=null,U=y,V=y=0,$=null,ne=T.next();U!==null&&!ne.done;V++,ne=T.next()){U.index>V?($=U,U=null):$=U.sibling;var se=w(g,U,ne.value,I);if(se===null){U===null&&(U=$);break}e&&U&&se.alternate===null&&t(g,U),y=s(se,y,V),q===null?z=se:q.sibling=se,q=se,U=$}if(ne.done)return n(g,U),mt&&Oi(g,V),z;if(U===null){for(;!ne.done;V++,ne=T.next())ne=m(g,ne.value,I),ne!==null&&(y=s(ne,y,V),q===null?z=ne:q.sibling=ne,q=ne);return mt&&Oi(g,V),z}for(U=o(g,U);!ne.done;V++,ne=T.next())ne=b(U,g,V,ne.value,I),ne!==null&&(e&&ne.alternate!==null&&U.delete(ne.key===null?V:ne.key),y=s(ne,y,V),q===null?z=ne:q.sibling=ne,q=ne);return e&&U.forEach(function(j){return t(g,j)}),mt&&Oi(g,V),z}function M(g,y,T,I){if(typeof T=="object"&&T!==null&&T.type===uo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Va:e:{for(var z=T.key,q=y;q!==null;){if(q.key===z){if(z=T.type,z===uo){if(q.tag===7){n(g,q.sibling),y=i(q,T.props.children),y.return=g,g=y;break e}}else if(q.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Jr&&Yf(z)===q.type){n(g,q.sibling),y=i(q,T.props),y.ref=xs(g,q,T),y.return=g,g=y;break e}n(g,q);break}else t(g,q);q=q.sibling}T.type===uo?(y=Bi(T.props.children,g.mode,I,T.key),y.return=g,g=y):(I=El(T.type,T.key,T.props,null,g.mode,I),I.ref=xs(g,y,T),I.return=g,g=I)}return l(g);case lo:e:{for(q=T.key;y!==null;){if(y.key===q)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(g,y.sibling),y=i(y,T.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else t(g,y);y=y.sibling}y=xc(T,g.mode,I),y.return=g,g=y}return l(g);case Jr:return q=T._init,M(g,y,q(T._payload),I)}if(Ms(T))return P(g,y,T,I);if(vs(T))return k(g,y,T,I);il(g,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(g,y.sibling),y=i(y,T),y.return=g,g=y):(n(g,y),y=wc(T,g.mode,I),y.return=g,g=y),l(g)):n(g,y)}return M}var Do=_v(!0),gv=_v(!1),Bl=yi(null),Ul=null,go=null,ih=null;function oh(){ih=go=Ul=null}function sh(e){var t=Bl.current;dt(Bl),e._currentValue=t}function ad(e,t,n){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===n)break;e=e.return}}function To(e,t){Ul=e,ih=go=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sn=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(ih!==e)if(e={context:e,memoizedValue:t,next:null},go===null){if(Ul===null)throw Error(_e(308));go=e,Ul.dependencies={lanes:0,firstContext:e}}else go=go.next=e;return t}var Ri=null;function ah(e){Ri===null?Ri=[e]:Ri.push(e)}function yv(e,t,n,o){var i=t.interleaved;return i===null?(n.next=n,ah(t)):(n.next=i.next,i.next=n),t.interleaved=n,Dr(e,o)}function Dr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ei=!1;function lh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ci(e,t,n){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Ye&2){var i=o.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),o.pending=t,Dr(e,n)}return i=o.interleaved,i===null?(t.next=t,ah(o)):(t.next=i.next,i.next=t),o.interleaved=t,Dr(e,n)}function yl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Vd(e,n)}}function Xf(e,t){var n=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,n===o)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:o.shared,effects:o.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wl(e,t,n,o){var i=e.updateQueue;ei=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?s=f:l.next=f,l=d;var _=e.alternate;_!==null&&(_=_.updateQueue,u=_.lastBaseUpdate,u!==l&&(u===null?_.firstBaseUpdate=f:u.next=f,_.lastBaseUpdate=d))}if(s!==null){var m=i.baseState;l=0,_=f=d=null,u=s;do{var w=u.lane,b=u.eventTime;if((o&w)===w){_!==null&&(_=_.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var P=e,k=u;switch(w=t,b=n,k.tag){case 1:if(P=k.payload,typeof P=="function"){m=P.call(b,m,w);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=k.payload,w=typeof P=="function"?P.call(b,m,w):P,w==null)break e;m=yt({},m,w);break e;case 2:ei=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,w=i.effects,w===null?i.effects=[u]:w.push(u))}else b={eventTime:b,lane:w,tag:u.tag,payload:u.payload,callback:u.callback,next:null},_===null?(f=_=b,d=m):_=_.next=b,l|=w;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;w=u,u=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(_===null&&(d=m),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=_,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Zi|=l,e.lanes=l,e.memoizedState=m}}function Qf(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],i=o.callback;if(i!==null){if(o.callback=null,o=n,typeof i!="function")throw Error(_e(191,i));i.call(o)}}}var pa={},cr=yi(pa),Js=yi(pa),ea=yi(pa);function ji(e){if(e===pa)throw Error(_e(174));return e}function uh(e,t){switch(ot(ea,t),ot(Js,e),ot(cr,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Uc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Uc(t,e)}dt(cr),ot(cr,t)}function Io(){dt(cr),dt(Js),dt(ea)}function xv(e){ji(ea.current);var t=ji(cr.current),n=Uc(t,e.type);t!==n&&(ot(Js,e),ot(cr,n))}function ch(e){Js.current===e&&(dt(cr),dt(Js))}var vt=yi(0);function Hl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pc=[];function dh(){for(var e=0;e<pc.length;e++)pc[e]._workInProgressVersionPrimary=null;pc.length=0}var wl=zr.ReactCurrentDispatcher,mc=zr.ReactCurrentBatchConfig,Hi=0,_t=null,St=null,Mt=null,Zl=!1,js=!1,ta=0,B0=0;function Ft(){throw Error(_e(321))}function hh(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function fh(e,t,n,o,i,s){if(Hi=s,_t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=e===null||e.memoizedState===null?Z0:q0,e=n(o,i),js){s=0;do{if(js=!1,ta=0,25<=s)throw Error(_e(301));s+=1,Mt=St=null,t.updateQueue=null,wl.current=G0,e=n(o,i)}while(js)}if(wl.current=ql,t=St!==null&&St.next!==null,Hi=0,Mt=St=_t=null,Zl=!1,t)throw Error(_e(300));return e}function ph(){var e=ta!==0;return ta=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?_t.memoizedState=Mt=e:Mt=Mt.next=e,Mt}function Rn(){if(St===null){var e=_t.alternate;e=e!==null?e.memoizedState:null}else e=St.next;var t=Mt===null?_t.memoizedState:Mt.next;if(t!==null)Mt=t,St=e;else{if(e===null)throw Error(_e(310));St=e,e={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Mt===null?_t.memoizedState=Mt=e:Mt=Mt.next=e}return Mt}function na(e,t){return typeof t=="function"?t(e):t}function vc(e){var t=Rn(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var o=St,i=o.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}o.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,o=o.baseState;var u=l=null,d=null,f=s;do{var _=f.lane;if((Hi&_)===_)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),o=f.hasEagerState?f.eagerState:e(o,f.action);else{var m={lane:_,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,l=o):d=d.next=m,_t.lanes|=_,Zi|=_}f=f.next}while(f!==null&&f!==s);d===null?l=o:d.next=u,Xn(o,t.memoizedState)||(sn=!0),t.memoizedState=o,t.baseState=l,t.baseQueue=d,n.lastRenderedState=o}if(e=n.interleaved,e!==null){i=e;do s=i.lane,_t.lanes|=s,Zi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _c(e){var t=Rn(),n=t.queue;if(n===null)throw Error(_e(311));n.lastRenderedReducer=e;var o=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);Xn(s,t.memoizedState)||(sn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,o]}function bv(){}function Lv(e,t){var n=_t,o=Rn(),i=t(),s=!Xn(o.memoizedState,i);if(s&&(o.memoizedState=i,sn=!0),o=o.queue,mh(Sv.bind(null,n,o,e),[e]),o.getSnapshot!==t||s||Mt!==null&&Mt.memoizedState.tag&1){if(n.flags|=2048,ra(9,Ev.bind(null,n,o,i,t),void 0,null),Nt===null)throw Error(_e(349));Hi&30||kv(n,t,i)}return i}function kv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ev(e,t,n,o){t.value=n,t.getSnapshot=o,Tv(t)&&Cv(e)}function Sv(e,t,n){return n(function(){Tv(t)&&Cv(e)})}function Tv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch{return!0}}function Cv(e){var t=Dr(e,1);t!==null&&Yn(t,e,1,-1)}function Kf(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t.queue=e,e=e.dispatch=H0.bind(null,_t,e),[t.memoizedState,e]}function ra(e,t,n,o){return e={tag:e,create:t,destroy:n,deps:o,next:null},t=_t.updateQueue,t===null?(t={lastEffect:null,stores:null},_t.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(o=n.next,n.next=e,e.next=o,t.lastEffect=e)),e}function Pv(){return Rn().memoizedState}function xl(e,t,n,o){var i=ar();_t.flags|=e,i.memoizedState=ra(1|t,n,void 0,o===void 0?null:o)}function cu(e,t,n,o){var i=Rn();o=o===void 0?null:o;var s=void 0;if(St!==null){var l=St.memoizedState;if(s=l.destroy,o!==null&&hh(o,l.deps)){i.memoizedState=ra(t,n,s,o);return}}_t.flags|=e,i.memoizedState=ra(1|t,n,s,o)}function Jf(e,t){return xl(8390656,8,e,t)}function mh(e,t){return cu(2048,8,e,t)}function Mv(e,t){return cu(4,2,e,t)}function Nv(e,t){return cu(4,4,e,t)}function Ov(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dv(e,t,n){return n=n!=null?n.concat([e]):null,cu(4,4,Ov.bind(null,t,e),n)}function vh(){}function Iv(e,t){var n=Rn();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&hh(t,o[1])?o[0]:(n.memoizedState=[e,t],e)}function zv(e,t){var n=Rn();t=t===void 0?null:t;var o=n.memoizedState;return o!==null&&t!==null&&hh(t,o[1])?o[0]:(e=e(),n.memoizedState=[e,t],e)}function Av(e,t,n){return Hi&21?(Xn(n,t)||(n=Um(),_t.lanes|=n,Zi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sn=!0),e.memoizedState=n)}function U0(e,t){var n=et;et=n!==0&&4>n?n:4,e(!0);var o=mc.transition;mc.transition={};try{e(!1),t()}finally{et=n,mc.transition=o}}function Rv(){return Rn().memoizedState}function W0(e,t,n){var o=hi(e);if(n={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null},jv(e))Fv(t,n);else if(n=yv(e,t,n,o),n!==null){var i=Yt();Yn(n,e,o,i),Bv(n,t,o)}}function H0(e,t,n){var o=hi(e),i={lane:o,action:n,hasEagerState:!1,eagerState:null,next:null};if(jv(e))Fv(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,u=s(l,n);if(i.hasEagerState=!0,i.eagerState=u,Xn(u,l)){var d=t.interleaved;d===null?(i.next=i,ah(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=yv(e,t,i,o),n!==null&&(i=Yt(),Yn(n,e,o,i),Bv(n,t,o))}}function jv(e){var t=e.alternate;return e===_t||t!==null&&t===_t}function Fv(e,t){js=Zl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bv(e,t,n){if(n&4194240){var o=t.lanes;o&=e.pendingLanes,n|=o,t.lanes=n,Vd(e,n)}}var ql={readContext:An,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Z0={readContext:An,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:An,useEffect:Jf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xl(4194308,4,Ov.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xl(4194308,4,e,t)},useInsertionEffect:function(e,t){return xl(4,2,e,t)},useMemo:function(e,t){var n=ar();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var o=ar();return t=n!==void 0?n(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=W0.bind(null,_t,e),[o.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:Kf,useDebugValue:vh,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=Kf(!1),t=e[0];return e=U0.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var o=_t,i=ar();if(mt){if(n===void 0)throw Error(_e(407));n=n()}else{if(n=t(),Nt===null)throw Error(_e(349));Hi&30||kv(o,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Jf(Sv.bind(null,o,s,e),[e]),o.flags|=2048,ra(9,Ev.bind(null,o,s,n,t),void 0,null),n},useId:function(){var e=ar(),t=Nt.identifierPrefix;if(mt){var n=Pr,o=Cr;n=(o&~(1<<32-$n(o)-1)).toString(32)+n,t=":"+t+"R"+n,n=ta++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=B0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},q0={readContext:An,useCallback:Iv,useContext:An,useEffect:mh,useImperativeHandle:Dv,useInsertionEffect:Mv,useLayoutEffect:Nv,useMemo:zv,useReducer:vc,useRef:Pv,useState:function(){return vc(na)},useDebugValue:vh,useDeferredValue:function(e){var t=Rn();return Av(t,St.memoizedState,e)},useTransition:function(){var e=vc(na)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:bv,useSyncExternalStore:Lv,useId:Rv,unstable_isNewReconciler:!1},G0={readContext:An,useCallback:Iv,useContext:An,useEffect:mh,useImperativeHandle:Dv,useInsertionEffect:Mv,useLayoutEffect:Nv,useMemo:zv,useReducer:_c,useRef:Pv,useState:function(){return _c(na)},useDebugValue:vh,useDeferredValue:function(e){var t=Rn();return St===null?t.memoizedState=e:Av(t,St.memoizedState,e)},useTransition:function(){var e=_c(na)[0],t=Rn().memoizedState;return[e,t]},useMutableSource:bv,useSyncExternalStore:Lv,useId:Rv,unstable_isNewReconciler:!1};function Zn(e,t){if(e&&e.defaultProps){t=yt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ld(e,t,n,o){t=e.memoizedState,n=n(o,t),n=n==null?t:yt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var du={isMounted:function(e){return(e=e._reactInternals)?Vi(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var o=Yt(),i=hi(e),s=Mr(o,i);s.payload=t,n!=null&&(s.callback=n),t=ci(e,s,i),t!==null&&(Yn(t,e,i,o),yl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var o=Yt(),i=hi(e),s=Mr(o,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ci(e,s,i),t!==null&&(Yn(t,e,i,o),yl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yt(),o=hi(e),i=Mr(n,o);i.tag=2,t!=null&&(i.callback=t),t=ci(e,i,o),t!==null&&(Yn(t,e,o,n),yl(t,e,o))}};function ep(e,t,n,o,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,s,l):t.prototype&&t.prototype.isPureReactComponent?!Ys(n,o)||!Ys(i,s):!0}function Uv(e,t,n){var o=!1,i=vi,s=t.contextType;return typeof s=="object"&&s!==null?s=An(s):(i=un(t)?Ui:Ht.current,o=t.contextTypes,s=(o=o!=null)?No(e,i):vi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=du,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function tp(e,t,n,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,o),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function ud(e,t,n,o){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},lh(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=An(s):(s=un(t)?Ui:Ht.current,i.context=No(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ld(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&du.enqueueReplaceState(i,i.state,null),Wl(e,n,i,o),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function zo(e,t){try{var n="",o=t;do n+=wy(o),o=o.return;while(o);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function gc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function cd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var V0=typeof WeakMap=="function"?WeakMap:Map;function Wv(e,t,n){n=Mr(-1,n),n.tag=3,n.payload={element:null};var o=t.value;return n.callback=function(){Vl||(Vl=!0,wd=o),cd(e,t)},n}function Hv(e,t,n){n=Mr(-1,n),n.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var i=t.value;n.payload=function(){return o(i)},n.callback=function(){cd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){cd(e,t),typeof o!="function"&&(di===null?di=new Set([this]):di.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function np(e,t,n){var o=e.pingCache;if(o===null){o=e.pingCache=new V0;var i=new Set;o.set(t,i)}else i=o.get(t),i===void 0&&(i=new Set,o.set(t,i));i.has(n)||(i.add(n),e=aw.bind(null,e,t,n),t.then(e,e))}function rp(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ip(e,t,n,o,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mr(-1,1),t.tag=2,ci(n,t,1))),n.lanes|=1),e)}var $0=zr.ReactCurrentOwner,sn=!1;function $t(e,t,n,o){t.child=e===null?gv(t,null,n,o):Do(t,e.child,n,o)}function op(e,t,n,o,i){n=n.render;var s=t.ref;return To(t,i),o=fh(e,t,n,o,s,i),n=ph(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ir(e,t,i)):(mt&&n&&th(t),t.flags|=1,$t(e,t,o,i),t.child)}function sp(e,t,n,o,i){if(e===null){var s=n.type;return typeof s=="function"&&!kh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Zv(e,t,s,o,i)):(e=El(n.type,null,o,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ys,n(l,o)&&e.ref===t.ref)return Ir(e,t,i)}return t.flags|=1,e=fi(s,o),e.ref=t.ref,e.return=t,t.child=e}function Zv(e,t,n,o,i){if(e!==null){var s=e.memoizedProps;if(Ys(s,o)&&e.ref===t.ref)if(sn=!1,t.pendingProps=o=s,(e.lanes&i)!==0)e.flags&131072&&(sn=!0);else return t.lanes=e.lanes,Ir(e,t,i)}return dd(e,t,n,o,i)}function qv(e,t,n){var o=t.pendingProps,i=o.children,s=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(wo,xn),xn|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ot(wo,xn),xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:n,ot(wo,xn),xn|=o}else s!==null?(o=s.baseLanes|n,t.memoizedState=null):o=n,ot(wo,xn),xn|=o;return $t(e,t,i,n),t.child}function Gv(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function dd(e,t,n,o,i){var s=un(n)?Ui:Ht.current;return s=No(t,s),To(t,i),n=fh(e,t,n,o,s,i),o=ph(),e!==null&&!sn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ir(e,t,i)):(mt&&o&&th(t),t.flags|=1,$t(e,t,n,i),t.child)}function ap(e,t,n,o,i){if(un(n)){var s=!0;Rl(t)}else s=!1;if(To(t,i),t.stateNode===null)bl(e,t),Uv(t,n,o),ud(t,n,o,i),o=!0;else if(e===null){var l=t.stateNode,u=t.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=An(f):(f=un(n)?Ui:Ht.current,f=No(t,f));var _=n.getDerivedStateFromProps,m=typeof _=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||d!==f)&&tp(t,l,o,f),ei=!1;var w=t.memoizedState;l.state=w,Wl(t,o,l,i),d=t.memoizedState,u!==o||w!==d||ln.current||ei?(typeof _=="function"&&(ld(t,n,_,o),d=t.memoizedState),(u=ei||ep(t,n,u,o,w,d,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=d),l.props=o,l.state=d,l.context=f,o=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{l=t.stateNode,wv(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Zn(t.type,u),l.props=f,m=t.pendingProps,w=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=An(d):(d=un(n)?Ui:Ht.current,d=No(t,d));var b=n.getDerivedStateFromProps;(_=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||w!==d)&&tp(t,l,o,d),ei=!1,w=t.memoizedState,l.state=w,Wl(t,o,l,i);var P=t.memoizedState;u!==m||w!==P||ln.current||ei?(typeof b=="function"&&(ld(t,n,b,o),P=t.memoizedState),(f=ei||ep(t,n,f,o,w,P,d)||!1)?(_||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,P,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,P,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=P),l.props=o,l.state=P,l.context=d,o=f):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),o=!1)}return hd(e,t,n,o,s,i)}function hd(e,t,n,o,i,s){Gv(e,t);var l=(t.flags&128)!==0;if(!o&&!l)return i&&Gf(t,n,!1),Ir(e,t,s);o=t.stateNode,$0.current=t;var u=l&&typeof n.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&l?(t.child=Do(t,e.child,null,s),t.child=Do(t,null,u,s)):$t(e,t,u,s),t.memoizedState=o.state,i&&Gf(t,n,!0),t.child}function Vv(e){var t=e.stateNode;t.pendingContext?qf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qf(e,t.context,!1),uh(e,t.containerInfo)}function lp(e,t,n,o,i){return Oo(),rh(i),t.flags|=256,$t(e,t,n,o),t.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function pd(e){return{baseLanes:e,cachePool:null,transitions:null}}function $v(e,t,n){var o=t.pendingProps,i=vt.current,s=!1,l=(t.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ot(vt,i&1),e===null)return sd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=o.children,e=o.fallback,s?(o=t.mode,s=t.child,l={mode:"hidden",children:l},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=pu(l,o,0,null),e=Bi(e,o,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=pd(n),t.memoizedState=fd,e):_h(t,l));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return Y0(e,t,l,o,u,i,n);if(s){s=o.fallback,l=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&t.child!==i?(o=t.child,o.childLanes=0,o.pendingProps=d,t.deletions=null):(o=fi(i,d),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=fi(u,s):(s=Bi(s,l,n,null),s.flags|=2),s.return=t,o.return=t,o.sibling=s,t.child=o,o=s,s=t.child,l=e.child.memoizedState,l=l===null?pd(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=fd,o}return s=e.child,e=s.sibling,o=fi(s,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=n),o.return=t,o.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function _h(e,t){return t=pu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,o){return o!==null&&rh(o),Do(t,e.child,null,n),e=_h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y0(e,t,n,o,i,s,l){if(n)return t.flags&256?(t.flags&=-257,o=gc(Error(_e(422))),ol(e,t,l,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=o.fallback,i=t.mode,o=pu({mode:"visible",children:o.children},i,0,null),s=Bi(s,i,l,null),s.flags|=2,o.return=t,s.return=t,o.sibling=s,t.child=o,t.mode&1&&Do(t,e.child,null,l),t.child.memoizedState=pd(l),t.memoizedState=fd,s);if(!(t.mode&1))return ol(e,t,l,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,s=Error(_e(419)),o=gc(s,o,void 0),ol(e,t,l,o)}if(u=(l&e.childLanes)!==0,sn||u){if(o=Nt,o!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dr(e,i),Yn(o,e,i,-1))}return Lh(),o=gc(Error(_e(421))),ol(e,t,l,o)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=lw.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,bn=ui(i.nextSibling),Ln=t,mt=!0,Vn=null,e!==null&&(On[Dn++]=Cr,On[Dn++]=Pr,On[Dn++]=Wi,Cr=e.id,Pr=e.overflow,Wi=t),t=_h(t,o.children),t.flags|=4096,t)}function up(e,t,n){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ad(e.return,t,n)}function yc(e,t,n,o,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=n,s.tailMode=i)}function Yv(e,t,n){var o=t.pendingProps,i=o.revealOrder,s=o.tail;if($t(e,t,o.children,n),o=vt.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&up(e,n,t);else if(e.tag===19)up(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ot(vt,o),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Hl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),yc(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Hl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}yc(t,!0,n,null,s);break;case"together":yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ir(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(_e(153));if(t.child!==null){for(e=t.child,n=fi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function X0(e,t,n){switch(t.tag){case 3:Vv(t),Oo();break;case 5:xv(t);break;case 1:un(t.type)&&Rl(t);break;case 4:uh(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,i=t.memoizedProps.value;ot(Bl,o._currentValue),o._currentValue=i;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(ot(vt,vt.current&1),t.flags|=128,null):n&t.child.childLanes?$v(e,t,n):(ot(vt,vt.current&1),e=Ir(e,t,n),e!==null?e.sibling:null);ot(vt,vt.current&1);break;case 19:if(o=(n&t.childLanes)!==0,e.flags&128){if(o)return Yv(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ot(vt,vt.current),o)break;return null;case 22:case 23:return t.lanes=0,qv(e,t,n)}return Ir(e,t,n)}var Xv,md,Qv,Kv;Xv=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};md=function(){};Qv=function(e,t,n,o){var i=e.memoizedProps;if(i!==o){e=t.stateNode,ji(cr.current);var s=null;switch(n){case"input":i=Rc(e,i),o=Rc(e,o),s=[];break;case"select":i=yt({},i,{value:void 0}),o=yt({},o,{value:void 0}),s=[];break;case"textarea":i=Bc(e,i),o=Bc(e,o),s=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=zl)}Wc(n,o);var l;n=null;for(f in i)if(!o.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Ws.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in o){var d=o[f];if(u=i?.[f],o.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(s||(s=[]),s.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&ct("scroll",e),s||u===d||(s=[])):(s=s||[]).push(f,d))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};Kv=function(e,t,n,o){n!==o&&(t.flags|=4)};function bs(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,o=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=o,e.childLanes=n,t}function Q0(e,t,n){var o=t.pendingProps;switch(nh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(t),null;case 1:return un(t.type)&&Al(),Bt(t),null;case 3:return o=t.stateNode,Io(),dt(ln),dt(Ht),dh(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vn!==null&&(Ld(Vn),Vn=null))),md(e,t),Bt(t),null;case 5:ch(t);var i=ji(ea.current);if(n=t.type,e!==null&&t.stateNode!=null)Qv(e,t,n,o,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(_e(166));return Bt(t),null}if(e=ji(cr.current),rl(t)){o=t.stateNode,n=t.type;var s=t.memoizedProps;switch(o[lr]=t,o[Ks]=s,e=(t.mode&1)!==0,n){case"dialog":ct("cancel",o),ct("close",o);break;case"iframe":case"object":case"embed":ct("load",o);break;case"video":case"audio":for(i=0;i<Os.length;i++)ct(Os[i],o);break;case"source":ct("error",o);break;case"img":case"image":case"link":ct("error",o),ct("load",o);break;case"details":ct("toggle",o);break;case"input":gf(o,s),ct("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},ct("invalid",o);break;case"textarea":wf(o,s),ct("invalid",o)}Wc(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var u=s[l];l==="children"?typeof u=="string"?o.textContent!==u&&(s.suppressHydrationWarning!==!0&&nl(o.textContent,u,e),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&nl(o.textContent,u,e),i=["children",""+u]):Ws.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&ct("scroll",o)}switch(n){case"input":$a(o),yf(o,s,!0);break;case"textarea":$a(o),xf(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=zl)}o=i,t.updateQueue=o,o!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(n,{is:o.is}):(e=l.createElement(n),n==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,n),e[lr]=t,e[Ks]=o,Xv(e,t,!1,!1),t.stateNode=e;e:{switch(l=Hc(n,o),n){case"dialog":ct("cancel",e),ct("close",e),i=o;break;case"iframe":case"object":case"embed":ct("load",e),i=o;break;case"video":case"audio":for(i=0;i<Os.length;i++)ct(Os[i],e);i=o;break;case"source":ct("error",e),i=o;break;case"img":case"image":case"link":ct("error",e),ct("load",e),i=o;break;case"details":ct("toggle",e),i=o;break;case"input":gf(e,o),i=Rc(e,o),ct("invalid",e);break;case"option":i=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},i=yt({},o,{value:void 0}),ct("invalid",e);break;case"textarea":wf(e,o),i=Bc(e,o),ct("invalid",e);break;default:i=o}Wc(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?Pm(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Tm(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Hs(e,d):typeof d=="number"&&Hs(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ws.hasOwnProperty(s)?d!=null&&s==="onScroll"&&ct("scroll",e):d!=null&&Ud(e,s,d,l))}switch(n){case"input":$a(e),yf(e,o,!1);break;case"textarea":$a(e),xf(e);break;case"option":o.value!=null&&e.setAttribute("value",""+mi(o.value));break;case"select":e.multiple=!!o.multiple,s=o.value,s!=null?Lo(e,!!o.multiple,s,!1):o.defaultValue!=null&&Lo(e,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bt(t),null;case 6:if(e&&t.stateNode!=null)Kv(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(_e(166));if(n=ji(ea.current),ji(cr.current),rl(t)){if(o=t.stateNode,n=t.memoizedProps,o[lr]=t,(s=o.nodeValue!==n)&&(e=Ln,e!==null))switch(e.tag){case 3:nl(o.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nl(o.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else o=(n.nodeType===9?n:n.ownerDocument).createTextNode(o),o[lr]=t,t.stateNode=o}return Bt(t),null;case 13:if(dt(vt),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mt&&bn!==null&&t.mode&1&&!(t.flags&128))vv(),Oo(),t.flags|=98560,s=!1;else if(s=rl(t),o!==null&&o.dehydrated!==null){if(e===null){if(!s)throw Error(_e(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(_e(317));s[lr]=t}else Oo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bt(t),s=!1}else Vn!==null&&(Ld(Vn),Vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||vt.current&1?Tt===0&&(Tt=3):Lh())),t.updateQueue!==null&&(t.flags|=4),Bt(t),null);case 4:return Io(),md(e,t),e===null&&Xs(t.stateNode.containerInfo),Bt(t),null;case 10:return sh(t.type._context),Bt(t),null;case 17:return un(t.type)&&Al(),Bt(t),null;case 19:if(dt(vt),s=t.memoizedState,s===null)return Bt(t),null;if(o=(t.flags&128)!==0,l=s.rendering,l===null)if(o)bs(s,!1);else{if(Tt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Hl(e),l!==null){for(t.flags|=128,bs(s,!1),o=l.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;n!==null;)s=n,e=o,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ot(vt,vt.current&1|2),t.child}e=e.sibling}s.tail!==null&&xt()>Ao&&(t.flags|=128,o=!0,bs(s,!1),t.lanes=4194304)}else{if(!o)if(e=Hl(l),e!==null){if(t.flags|=128,o=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!mt)return Bt(t),null}else 2*xt()-s.renderingStartTime>Ao&&n!==1073741824&&(t.flags|=128,o=!0,bs(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=xt(),t.sibling=null,n=vt.current,ot(vt,o?n&1|2:n&1),t):(Bt(t),null);case 22:case 23:return bh(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?xn&1073741824&&(Bt(t),t.subtreeFlags&6&&(t.flags|=8192)):Bt(t),null;case 24:return null;case 25:return null}throw Error(_e(156,t.tag))}function K0(e,t){switch(nh(t),t.tag){case 1:return un(t.type)&&Al(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Io(),dt(ln),dt(Ht),dh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ch(t),null;case 13:if(dt(vt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(_e(340));Oo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dt(vt),null;case 4:return Io(),null;case 10:return sh(t.type._context),null;case 22:case 23:return bh(),null;case 24:return null;default:return null}}var sl=!1,Ut=!1,J0=typeof WeakSet=="function"?WeakSet:Set,Se=null;function yo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(o){wt(e,t,o)}else n.current=null}function vd(e,t,n){try{n()}catch(o){wt(e,t,o)}}var cp=!1;function ew(e,t){if(Jc=Ol,e=rv(),eh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var o=n.getSelection&&n.getSelection();if(o&&o.rangeCount!==0){n=o.anchorNode;var i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,_=0,m=e,w=null;t:for(;;){for(var b;m!==n||i!==0&&m.nodeType!==3||(u=l+i),m!==s||o!==0&&m.nodeType!==3||(d=l+o),m.nodeType===3&&(l+=m.nodeValue.length),(b=m.firstChild)!==null;)w=m,m=b;for(;;){if(m===e)break t;if(w===n&&++f===i&&(u=l),w===s&&++_===o&&(d=l),(b=m.nextSibling)!==null)break;m=w,w=m.parentNode}m=b}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(ed={focusedElem:e,selectionRange:n},Ol=!1,Se=t;Se!==null;)if(t=Se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Se=e;else for(;Se!==null;){t=Se;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var k=P.memoizedProps,M=P.memoizedState,g=t.stateNode,y=g.getSnapshotBeforeUpdate(t.elementType===t.type?k:Zn(t.type,k),M);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=t.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(_e(163))}}catch(I){wt(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Se=e;break}Se=t.return}return P=cp,cp=!1,P}function Fs(e,t,n){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&vd(t,n,s)}i=i.next}while(i!==o)}}function hu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var o=n.create;n.destroy=o()}n=n.next}while(n!==t)}}function _d(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Jv(e){var t=e.alternate;t!==null&&(e.alternate=null,Jv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lr],delete t[Ks],delete t[rd],delete t[A0],delete t[R0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function e_(e){return e.tag===5||e.tag===3||e.tag===4}function dp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gd(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zl));else if(o!==4&&(e=e.child,e!==null))for(gd(e,t,n),e=e.sibling;e!==null;)gd(e,t,n),e=e.sibling}function yd(e,t,n){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(yd(e,t,n),e=e.sibling;e!==null;)yd(e,t,n),e=e.sibling}var zt=null,Gn=!1;function $r(e,t,n){for(n=n.child;n!==null;)t_(e,t,n),n=n.sibling}function t_(e,t,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(iu,n)}catch{}switch(n.tag){case 5:Ut||yo(n,t);case 6:var o=zt,i=Gn;zt=null,$r(e,t,n),zt=o,Gn=i,zt!==null&&(Gn?(e=zt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):zt.removeChild(n.stateNode));break;case 18:zt!==null&&(Gn?(e=zt,n=n.stateNode,e.nodeType===8?hc(e.parentNode,n):e.nodeType===1&&hc(e,n),Vs(e)):hc(zt,n.stateNode));break;case 4:o=zt,i=Gn,zt=n.stateNode.containerInfo,Gn=!0,$r(e,t,n),zt=o,Gn=i;break;case 0:case 11:case 14:case 15:if(!Ut&&(o=n.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&vd(n,t,l),i=i.next}while(i!==o)}$r(e,t,n);break;case 1:if(!Ut&&(yo(n,t),o=n.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=n.memoizedProps,o.state=n.memoizedState,o.componentWillUnmount()}catch(u){wt(n,t,u)}$r(e,t,n);break;case 21:$r(e,t,n);break;case 22:n.mode&1?(Ut=(o=Ut)||n.memoizedState!==null,$r(e,t,n),Ut=o):$r(e,t,n);break;default:$r(e,t,n)}}function hp(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new J0),t.forEach(function(o){var i=uw.bind(null,e,o);n.has(o)||(n.add(o),o.then(i,i))})}}function Hn(e,t){var n=t.deletions;if(n!==null)for(var o=0;o<n.length;o++){var i=n[o];try{var s=e,l=t,u=l;e:for(;u!==null;){switch(u.tag){case 5:zt=u.stateNode,Gn=!1;break e;case 3:zt=u.stateNode.containerInfo,Gn=!0;break e;case 4:zt=u.stateNode.containerInfo,Gn=!0;break e}u=u.return}if(zt===null)throw Error(_e(160));t_(s,l,i),zt=null,Gn=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){wt(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)n_(t,e),t=t.sibling}function n_(e,t){var n=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Hn(t,e),sr(e),o&4){try{Fs(3,e,e.return),hu(3,e)}catch(k){wt(e,e.return,k)}try{Fs(5,e,e.return)}catch(k){wt(e,e.return,k)}}break;case 1:Hn(t,e),sr(e),o&512&&n!==null&&yo(n,n.return);break;case 5:if(Hn(t,e),sr(e),o&512&&n!==null&&yo(n,n.return),e.flags&32){var i=e.stateNode;try{Hs(i,"")}catch(k){wt(e,e.return,k)}}if(o&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&km(i,s),Hc(u,l);var f=Hc(u,s);for(l=0;l<d.length;l+=2){var _=d[l],m=d[l+1];_==="style"?Pm(i,m):_==="dangerouslySetInnerHTML"?Tm(i,m):_==="children"?Hs(i,m):Ud(i,_,m,f)}switch(u){case"input":jc(i,s);break;case"textarea":Em(i,s);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Lo(i,!!s.multiple,b,!1):w!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ks]=s}catch(k){wt(e,e.return,k)}}break;case 6:if(Hn(t,e),sr(e),o&4){if(e.stateNode===null)throw Error(_e(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){wt(e,e.return,k)}}break;case 3:if(Hn(t,e),sr(e),o&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(t.containerInfo)}catch(k){wt(e,e.return,k)}break;case 4:Hn(t,e),sr(e);break;case 13:Hn(t,e),sr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(wh=xt())),o&4&&hp(e);break;case 22:if(_=n!==null&&n.memoizedState!==null,e.mode&1?(Ut=(f=Ut)||_,Hn(t,e),Ut=f):Hn(t,e),sr(e),o&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!_&&e.mode&1)for(Se=e,_=e.child;_!==null;){for(m=Se=_;Se!==null;){switch(w=Se,b=w.child,w.tag){case 0:case 11:case 14:case 15:Fs(4,w,w.return);break;case 1:yo(w,w.return);var P=w.stateNode;if(typeof P.componentWillUnmount=="function"){o=w,n=w.return;try{t=o,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(k){wt(o,n,k)}}break;case 5:yo(w,w.return);break;case 22:if(w.memoizedState!==null){pp(m);continue}}b!==null?(b.return=w,Se=b):pp(m)}_=_.sibling}e:for(_=null,m=e;;){if(m.tag===5){if(_===null){_=m;try{i=m.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Cm("display",l))}catch(k){wt(e,e.return,k)}}}else if(m.tag===6){if(_===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(k){wt(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;_===m&&(_=null),m=m.return}_===m&&(_=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Hn(t,e),sr(e),o&4&&hp(e);break;case 21:break;default:Hn(t,e),sr(e)}}function sr(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(e_(n)){var o=n;break e}n=n.return}throw Error(_e(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(Hs(i,""),o.flags&=-33);var s=dp(e);yd(e,s,i);break;case 3:case 4:var l=o.stateNode.containerInfo,u=dp(e);gd(e,u,l);break;default:throw Error(_e(161))}}catch(d){wt(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tw(e,t,n){Se=e,r_(e)}function r_(e,t,n){for(var o=(e.mode&1)!==0;Se!==null;){var i=Se,s=i.child;if(i.tag===22&&o){var l=i.memoizedState!==null||sl;if(!l){var u=i.alternate,d=u!==null&&u.memoizedState!==null||Ut;u=sl;var f=Ut;if(sl=l,(Ut=d)&&!f)for(Se=i;Se!==null;)l=Se,d=l.child,l.tag===22&&l.memoizedState!==null?mp(i):d!==null?(d.return=l,Se=d):mp(i);for(;s!==null;)Se=s,r_(s),s=s.sibling;Se=i,sl=u,Ut=f}fp(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Se=s):fp(e)}}function fp(e){for(;Se!==null;){var t=Se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||hu(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ut)if(n===null)o.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zn(t.type,n.memoizedProps);o.componentDidUpdate(i,n.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Qf(t,s,o);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Qf(t,l,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var _=f.memoizedState;if(_!==null){var m=_.dehydrated;m!==null&&Vs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(_e(163))}Ut||t.flags&512&&_d(t)}catch(w){wt(t,t.return,w)}}if(t===e){Se=null;break}if(n=t.sibling,n!==null){n.return=t.return,Se=n;break}Se=t.return}}function pp(e){for(;Se!==null;){var t=Se;if(t===e){Se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Se=n;break}Se=t.return}}function mp(e){for(;Se!==null;){var t=Se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{hu(4,t)}catch(d){wt(t,n,d)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var i=t.return;try{o.componentDidMount()}catch(d){wt(t,i,d)}}var s=t.return;try{_d(t)}catch(d){wt(t,s,d)}break;case 5:var l=t.return;try{_d(t)}catch(d){wt(t,l,d)}}}catch(d){wt(t,t.return,d)}if(t===e){Se=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Se=u;break}Se=t.return}}var nw=Math.ceil,Gl=zr.ReactCurrentDispatcher,gh=zr.ReactCurrentOwner,zn=zr.ReactCurrentBatchConfig,Ye=0,Nt=null,kt=null,At=0,xn=0,wo=yi(0),Tt=0,ia=null,Zi=0,fu=0,yh=0,Bs=null,on=null,wh=0,Ao=1/0,Sr=null,Vl=!1,wd=null,di=null,al=!1,ii=null,$l=0,Us=0,xd=null,Ll=-1,kl=0;function Yt(){return Ye&6?xt():Ll!==-1?Ll:Ll=xt()}function hi(e){return e.mode&1?Ye&2&&At!==0?At&-At:F0.transition!==null?(kl===0&&(kl=Um()),kl):(e=et,e!==0||(e=window.event,e=e===void 0?16:$m(e.type)),e):1}function Yn(e,t,n,o){if(50<Us)throw Us=0,xd=null,Error(_e(185));da(e,n,o),(!(Ye&2)||e!==Nt)&&(e===Nt&&(!(Ye&2)&&(fu|=n),Tt===4&&ni(e,At)),cn(e,o),n===1&&Ye===0&&!(t.mode&1)&&(Ao=xt()+500,uu&&wi()))}function cn(e,t){var n=e.callbackNode;Fy(e,t);var o=Nl(e,e===Nt?At:0);if(o===0)n!==null&&kf(n),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(n!=null&&kf(n),t===1)e.tag===0?j0(vp.bind(null,e)):fv(vp.bind(null,e)),I0(function(){!(Ye&6)&&wi()}),n=null;else{switch(Wm(o)){case 1:n=Gd;break;case 4:n=Fm;break;case 16:n=Ml;break;case 536870912:n=Bm;break;default:n=Ml}n=d_(n,i_.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function i_(e,t){if(Ll=-1,kl=0,Ye&6)throw Error(_e(327));var n=e.callbackNode;if(Co()&&e.callbackNode!==n)return null;var o=Nl(e,e===Nt?At:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=Yl(e,o);else{t=o;var i=Ye;Ye|=2;var s=s_();(Nt!==e||At!==t)&&(Sr=null,Ao=xt()+500,Fi(e,t));do try{ow();break}catch(u){o_(e,u)}while(!0);oh(),Gl.current=s,Ye=i,kt!==null?t=0:(Nt=null,At=0,t=Tt)}if(t!==0){if(t===2&&(i=$c(e),i!==0&&(o=i,t=bd(e,i))),t===1)throw n=ia,Fi(e,0),ni(e,o),cn(e,xt()),n;if(t===6)ni(e,o);else{if(i=e.current.alternate,!(o&30)&&!rw(i)&&(t=Yl(e,o),t===2&&(s=$c(e),s!==0&&(o=s,t=bd(e,s))),t===1))throw n=ia,Fi(e,0),ni(e,o),cn(e,xt()),n;switch(e.finishedWork=i,e.finishedLanes=o,t){case 0:case 1:throw Error(_e(345));case 2:Di(e,on,Sr);break;case 3:if(ni(e,o),(o&130023424)===o&&(t=wh+500-xt(),10<t)){if(Nl(e,0)!==0)break;if(i=e.suspendedLanes,(i&o)!==o){Yt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=nd(Di.bind(null,e,on,Sr),t);break}Di(e,on,Sr);break;case 4:if(ni(e,o),(o&4194240)===o)break;for(t=e.eventTimes,i=-1;0<o;){var l=31-$n(o);s=1<<l,l=t[l],l>i&&(i=l),o&=~s}if(o=i,o=xt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*nw(o/1960))-o,10<o){e.timeoutHandle=nd(Di.bind(null,e,on,Sr),o);break}Di(e,on,Sr);break;case 5:Di(e,on,Sr);break;default:throw Error(_e(329))}}}return cn(e,xt()),e.callbackNode===n?i_.bind(null,e):null}function bd(e,t){var n=Bs;return e.current.memoizedState.isDehydrated&&(Fi(e,t).flags|=256),e=Yl(e,t),e!==2&&(t=on,on=n,t!==null&&Ld(t)),e}function Ld(e){on===null?on=e:on.push.apply(on,e)}function rw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var o=0;o<n.length;o++){var i=n[o],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ni(e,t){for(t&=~yh,t&=~fu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$n(t),o=1<<n;e[n]=-1,t&=~o}}function vp(e){if(Ye&6)throw Error(_e(327));Co();var t=Nl(e,0);if(!(t&1))return cn(e,xt()),null;var n=Yl(e,t);if(e.tag!==0&&n===2){var o=$c(e);o!==0&&(t=o,n=bd(e,o))}if(n===1)throw n=ia,Fi(e,0),ni(e,t),cn(e,xt()),n;if(n===6)throw Error(_e(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Di(e,on,Sr),cn(e,xt()),null}function xh(e,t){var n=Ye;Ye|=1;try{return e(t)}finally{Ye=n,Ye===0&&(Ao=xt()+500,uu&&wi())}}function qi(e){ii!==null&&ii.tag===0&&!(Ye&6)&&Co();var t=Ye;Ye|=1;var n=zn.transition,o=et;try{if(zn.transition=null,et=1,e)return e()}finally{et=o,zn.transition=n,Ye=t,!(Ye&6)&&wi()}}function bh(){xn=wo.current,dt(wo)}function Fi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,D0(n)),kt!==null)for(n=kt.return;n!==null;){var o=n;switch(nh(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Al();break;case 3:Io(),dt(ln),dt(Ht),dh();break;case 5:ch(o);break;case 4:Io();break;case 13:dt(vt);break;case 19:dt(vt);break;case 10:sh(o.type._context);break;case 22:case 23:bh()}n=n.return}if(Nt=e,kt=e=fi(e.current,null),At=xn=t,Tt=0,ia=null,yh=fu=Zi=0,on=Bs=null,Ri!==null){for(t=0;t<Ri.length;t++)if(n=Ri[t],o=n.interleaved,o!==null){n.interleaved=null;var i=o.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,o.next=l}n.pending=o}Ri=null}return e}function o_(e,t){do{var n=kt;try{if(oh(),wl.current=ql,Zl){for(var o=_t.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Zl=!1}if(Hi=0,Mt=St=_t=null,js=!1,ta=0,gh.current=null,n===null||n.return===null){Tt=1,ia=t,kt=null;break}e:{var s=e,l=n.return,u=n,d=t;if(t=At,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,_=u,m=_.tag;if(!(_.mode&1)&&(m===0||m===11||m===15)){var w=_.alternate;w?(_.updateQueue=w.updateQueue,_.memoizedState=w.memoizedState,_.lanes=w.lanes):(_.updateQueue=null,_.memoizedState=null)}var b=rp(l);if(b!==null){b.flags&=-257,ip(b,l,u,s,t),b.mode&1&&np(s,f,t),t=b,d=f;var P=t.updateQueue;if(P===null){var k=new Set;k.add(d),t.updateQueue=k}else P.add(d);break e}else{if(!(t&1)){np(s,f,t),Lh();break e}d=Error(_e(426))}}else if(mt&&u.mode&1){var M=rp(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),ip(M,l,u,s,t),rh(zo(d,u));break e}}s=d=zo(d,u),Tt!==4&&(Tt=2),Bs===null?Bs=[s]:Bs.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Wv(s,d,t);Xf(s,g);break e;case 1:u=d;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(di===null||!di.has(T)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=Hv(s,u,t);Xf(s,I);break e}}s=s.return}while(s!==null)}l_(n)}catch(z){t=z,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function s_(){var e=Gl.current;return Gl.current=ql,e===null?ql:e}function Lh(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Nt===null||!(Zi&268435455)&&!(fu&268435455)||ni(Nt,At)}function Yl(e,t){var n=Ye;Ye|=2;var o=s_();(Nt!==e||At!==t)&&(Sr=null,Fi(e,t));do try{iw();break}catch(i){o_(e,i)}while(!0);if(oh(),Ye=n,Gl.current=o,kt!==null)throw Error(_e(261));return Nt=null,At=0,Tt}function iw(){for(;kt!==null;)a_(kt)}function ow(){for(;kt!==null&&!My();)a_(kt)}function a_(e){var t=c_(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?l_(e):kt=t,gh.current=null}function l_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K0(n,t),n!==null){n.flags&=32767,kt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Tt=6,kt=null;return}}else if(n=Q0(n,t,xn),n!==null){kt=n;return}if(t=t.sibling,t!==null){kt=t;return}kt=t=e}while(t!==null);Tt===0&&(Tt=5)}function Di(e,t,n){var o=et,i=zn.transition;try{zn.transition=null,et=1,sw(e,t,n,o)}finally{zn.transition=i,et=o}return null}function sw(e,t,n,o){do Co();while(ii!==null);if(Ye&6)throw Error(_e(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(_e(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(By(e,s),e===Nt&&(kt=Nt=null,At=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||al||(al=!0,d_(Ml,function(){return Co(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=zn.transition,zn.transition=null;var l=et;et=1;var u=Ye;Ye|=4,gh.current=null,ew(e,n),n_(n,e),S0(ed),Ol=!!Jc,ed=Jc=null,e.current=n,tw(n),Ny(),Ye=u,et=l,zn.transition=s}else e.current=n;if(al&&(al=!1,ii=e,$l=i),s=e.pendingLanes,s===0&&(di=null),Iy(n.stateNode),cn(e,xt()),t!==null)for(o=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],o(i.value,{componentStack:i.stack,digest:i.digest});if(Vl)throw Vl=!1,e=wd,wd=null,e;return $l&1&&e.tag!==0&&Co(),s=e.pendingLanes,s&1?e===xd?Us++:(Us=0,xd=e):Us=0,wi(),null}function Co(){if(ii!==null){var e=Wm($l),t=zn.transition,n=et;try{if(zn.transition=null,et=16>e?16:e,ii===null)var o=!1;else{if(e=ii,ii=null,$l=0,Ye&6)throw Error(_e(331));var i=Ye;for(Ye|=4,Se=e.current;Se!==null;){var s=Se,l=s.child;if(Se.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(Se=f;Se!==null;){var _=Se;switch(_.tag){case 0:case 11:case 15:Fs(8,_,s)}var m=_.child;if(m!==null)m.return=_,Se=m;else for(;Se!==null;){_=Se;var w=_.sibling,b=_.return;if(Jv(_),_===f){Se=null;break}if(w!==null){w.return=b,Se=w;break}Se=b}}}var P=s.alternate;if(P!==null){var k=P.child;if(k!==null){P.child=null;do{var M=k.sibling;k.sibling=null,k=M}while(k!==null)}}Se=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,Se=l;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fs(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Se=g;break e}Se=s.return}}var y=e.current;for(Se=y;Se!==null;){l=Se;var T=l.child;if(l.subtreeFlags&2064&&T!==null)T.return=l,Se=T;else e:for(l=y;Se!==null;){if(u=Se,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:hu(9,u)}}catch(z){wt(u,u.return,z)}if(u===l){Se=null;break e}var I=u.sibling;if(I!==null){I.return=u.return,Se=I;break e}Se=u.return}}if(Ye=i,wi(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(iu,e)}catch{}o=!0}return o}finally{et=n,zn.transition=t}}return!1}function _p(e,t,n){t=zo(n,t),t=Wv(e,t,1),e=ci(e,t,1),t=Yt(),e!==null&&(da(e,1,t),cn(e,t))}function wt(e,t,n){if(e.tag===3)_p(e,e,n);else for(;t!==null;){if(t.tag===3){_p(t,e,n);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(di===null||!di.has(o))){e=zo(n,e),e=Hv(t,e,1),t=ci(t,e,1),e=Yt(),t!==null&&(da(t,1,e),cn(t,e));break}}t=t.return}}function aw(e,t,n){var o=e.pingCache;o!==null&&o.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&n,Nt===e&&(At&n)===n&&(Tt===4||Tt===3&&(At&130023424)===At&&500>xt()-wh?Fi(e,0):yh|=n),cn(e,t)}function u_(e,t){t===0&&(e.mode&1?(t=Qa,Qa<<=1,!(Qa&130023424)&&(Qa=4194304)):t=1);var n=Yt();e=Dr(e,t),e!==null&&(da(e,t,n),cn(e,n))}function lw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u_(e,n)}function uw(e,t){var n=0;switch(e.tag){case 13:var o=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(_e(314))}o!==null&&o.delete(t),u_(e,n)}var c_;c_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ln.current)sn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return sn=!1,X0(e,t,n);sn=!!(e.flags&131072)}else sn=!1,mt&&t.flags&1048576&&pv(t,Fl,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;bl(e,t),e=t.pendingProps;var i=No(t,Ht.current);To(t,n),i=fh(null,t,o,e,i,n);var s=ph();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,un(o)?(s=!0,Rl(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lh(t),i.updater=du,t.stateNode=i,i._reactInternals=t,ud(t,o,e,n),t=hd(null,t,o,!0,s,n)):(t.tag=0,mt&&s&&th(t),$t(null,t,i,n),t=t.child),t;case 16:o=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,i=o._init,o=i(o._payload),t.type=o,i=t.tag=dw(o),e=Zn(o,e),i){case 0:t=dd(null,t,o,e,n);break e;case 1:t=ap(null,t,o,e,n);break e;case 11:t=op(null,t,o,e,n);break e;case 14:t=sp(null,t,o,Zn(o.type,e),n);break e}throw Error(_e(306,o,""))}return t;case 0:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Zn(o,i),dd(e,t,o,i,n);case 1:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Zn(o,i),ap(e,t,o,i,n);case 3:e:{if(Vv(t),e===null)throw Error(_e(387));o=t.pendingProps,s=t.memoizedState,i=s.element,wv(e,t),Wl(t,o,null,n);var l=t.memoizedState;if(o=l.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=zo(Error(_e(423)),t),t=lp(e,t,o,n,i);break e}else if(o!==i){i=zo(Error(_e(424)),t),t=lp(e,t,o,n,i);break e}else for(bn=ui(t.stateNode.containerInfo.firstChild),Ln=t,mt=!0,Vn=null,n=gv(t,null,o,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Oo(),o===i){t=Ir(e,t,n);break e}$t(e,t,o,n)}t=t.child}return t;case 5:return xv(t),e===null&&sd(t),o=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,l=i.children,td(o,i)?l=null:s!==null&&td(o,s)&&(t.flags|=32),Gv(e,t),$t(e,t,l,n),t.child;case 6:return e===null&&sd(t),null;case 13:return $v(e,t,n);case 4:return uh(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Do(t,null,o,n):$t(e,t,o,n),t.child;case 11:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Zn(o,i),op(e,t,o,i,n);case 7:return $t(e,t,t.pendingProps,n),t.child;case 8:return $t(e,t,t.pendingProps.children,n),t.child;case 12:return $t(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(o=t.type._context,i=t.pendingProps,s=t.memoizedProps,l=i.value,ot(Bl,o._currentValue),o._currentValue=l,s!==null)if(Xn(s.value,l)){if(s.children===i.children&&!ln.current){t=Ir(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){l=s.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(s.tag===1){d=Mr(-1,n&-n),d.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var _=f.pending;_===null?d.next=d:(d.next=_.next,_.next=d),f.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),ad(s.return,n,t),u.lanes|=n;break}d=d.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(_e(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),ad(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}$t(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,o=t.pendingProps.children,To(t,n),i=An(i),o=o(i),t.flags|=1,$t(e,t,o,n),t.child;case 14:return o=t.type,i=Zn(o,t.pendingProps),i=Zn(o.type,i),sp(e,t,o,i,n);case 15:return Zv(e,t,t.type,t.pendingProps,n);case 17:return o=t.type,i=t.pendingProps,i=t.elementType===o?i:Zn(o,i),bl(e,t),t.tag=1,un(o)?(e=!0,Rl(t)):e=!1,To(t,n),Uv(t,o,i),ud(t,o,i,n),hd(null,t,o,!0,e,n);case 19:return Yv(e,t,n);case 22:return qv(e,t,n)}throw Error(_e(156,t.tag))};function d_(e,t){return jm(e,t)}function cw(e,t,n,o){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,n,o){return new cw(e,t,n,o)}function kh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dw(e){if(typeof e=="function")return kh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Hd)return 11;if(e===Zd)return 14}return 2}function fi(e,t){var n=e.alternate;return n===null?(n=In(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function El(e,t,n,o,i,s){var l=2;if(o=e,typeof e=="function")kh(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case uo:return Bi(n.children,i,s,t);case Wd:l=8,i|=8;break;case Dc:return e=In(12,n,t,i|2),e.elementType=Dc,e.lanes=s,e;case Ic:return e=In(13,n,t,i),e.elementType=Ic,e.lanes=s,e;case zc:return e=In(19,n,t,i),e.elementType=zc,e.lanes=s,e;case xm:return pu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ym:l=10;break e;case wm:l=9;break e;case Hd:l=11;break e;case Zd:l=14;break e;case Jr:l=16,o=null;break e}throw Error(_e(130,e==null?e:typeof e,""))}return t=In(l,n,t,i),t.elementType=e,t.type=o,t.lanes=s,t}function Bi(e,t,n,o){return e=In(7,e,o,t),e.lanes=n,e}function pu(e,t,n,o){return e=In(22,e,o,t),e.elementType=xm,e.lanes=n,e.stateNode={isHidden:!1},e}function wc(e,t,n){return e=In(6,e,null,t),e.lanes=n,e}function xc(e,t,n){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hw(e,t,n,o,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tc(0),this.expirationTimes=tc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tc(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eh(e,t,n,o,i,s,l,u,d){return e=new hw(e,t,n,u,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=In(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:o,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lh(s),e}function fw(e,t,n){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:o==null?null:""+o,children:e,containerInfo:t,implementation:n}}function h_(e){if(!e)return vi;e=e._reactInternals;e:{if(Vi(e)!==e||e.tag!==1)throw Error(_e(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(_e(171))}if(e.tag===1){var n=e.type;if(un(n))return hv(e,n,t)}return t}function f_(e,t,n,o,i,s,l,u,d){return e=Eh(n,o,!0,e,i,s,l,u,d),e.context=h_(null),n=e.current,o=Yt(),i=hi(n),s=Mr(o,i),s.callback=t??null,ci(n,s,i),e.current.lanes=i,da(e,i,o),cn(e,o),e}function mu(e,t,n,o){var i=t.current,s=Yt(),l=hi(i);return n=h_(n),t.context===null?t.context=n:t.pendingContext=n,t=Mr(s,l),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=ci(i,t,l),e!==null&&(Yn(e,i,l,s),yl(e,i,l)),l}function Xl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sh(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function pw(){return null}var p_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Th(e){this._internalRoot=e}vu.prototype.render=Th.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(_e(409));mu(e,t,null,null)};vu.prototype.unmount=Th.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;qi(function(){mu(null,e,null,null)}),t[Or]=null}};function vu(e){this._internalRoot=e}vu.prototype.unstable_scheduleHydration=function(e){if(e){var t=qm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ti.length&&t!==0&&t<ti[n].priority;n++);ti.splice(n,0,e),n===0&&Vm(e)}};function Ch(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yp(){}function mw(e,t,n,o,i){if(i){if(typeof o=="function"){var s=o;o=function(){var f=Xl(l);s.call(f)}}var l=f_(t,o,e,0,null,!1,!1,"",yp);return e._reactRootContainer=l,e[Or]=l.current,Xs(e.nodeType===8?e.parentNode:e),qi(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var f=Xl(d);u.call(f)}}var d=Eh(e,0,!1,null,null,!1,!1,"",yp);return e._reactRootContainer=d,e[Or]=d.current,Xs(e.nodeType===8?e.parentNode:e),qi(function(){mu(t,d,n,o)}),d}function gu(e,t,n,o,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var u=i;i=function(){var d=Xl(l);u.call(d)}}mu(t,l,e,i)}else l=mw(n,t,e,i,o);return Xl(l)}Hm=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ns(t.pendingLanes);n!==0&&(Vd(t,n|1),cn(t,xt()),!(Ye&6)&&(Ao=xt()+500,wi()))}break;case 13:qi(function(){var o=Dr(e,1);if(o!==null){var i=Yt();Yn(o,e,1,i)}}),Sh(e,1)}};$d=function(e){if(e.tag===13){var t=Dr(e,134217728);if(t!==null){var n=Yt();Yn(t,e,134217728,n)}Sh(e,134217728)}};Zm=function(e){if(e.tag===13){var t=hi(e),n=Dr(e,t);if(n!==null){var o=Yt();Yn(n,e,t,o)}Sh(e,t)}};qm=function(){return et};Gm=function(e,t){var n=et;try{return et=e,t()}finally{et=n}};qc=function(e,t,n){switch(t){case"input":if(jc(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var o=n[t];if(o!==e&&o.form===e.form){var i=lu(o);if(!i)throw Error(_e(90));Lm(o),jc(o,i)}}}break;case"textarea":Em(e,n);break;case"select":t=n.value,t!=null&&Lo(e,!!n.multiple,t,!1)}};Om=xh;Dm=qi;var vw={usingClientEntryPoint:!1,Events:[fa,po,lu,Mm,Nm,xh]},Ls={findFiberByHostInstance:Ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_w={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Am(e),e===null?null:e.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ll.isDisabled&&ll.supportsFiber)try{iu=ll.inject(_w),ur=ll}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vw;En.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ch(t))throw Error(_e(200));return fw(e,t,null,n)};En.createRoot=function(e,t){if(!Ch(e))throw Error(_e(299));var n=!1,o="",i=p_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Eh(e,1,!1,null,null,n,!1,o,i),e[Or]=t.current,Xs(e.nodeType===8?e.parentNode:e),new Th(t)};En.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(_e(188)):(e=Object.keys(e).join(","),Error(_e(268,e)));return e=Am(t),e=e===null?null:e.stateNode,e};En.flushSync=function(e){return qi(e)};En.hydrate=function(e,t,n){if(!_u(t))throw Error(_e(200));return gu(null,e,t,!0,n)};En.hydrateRoot=function(e,t,n){if(!Ch(e))throw Error(_e(405));var o=n!=null&&n.hydratedSources||null,i=!1,s="",l=p_;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=f_(t,null,e,1,n??null,i,!1,s,l),e[Or]=t.current,Xs(e),o)for(e=0;e<o.length;e++)n=o[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new vu(t)};En.render=function(e,t,n){if(!_u(t))throw Error(_e(200));return gu(null,e,t,!1,n)};En.unmountComponentAtNode=function(e){if(!_u(e))throw Error(_e(40));return e._reactRootContainer?(qi(function(){gu(null,null,e,!1,function(){e._reactRootContainer=null,e[Or]=null})}),!0):!1};En.unstable_batchedUpdates=xh;En.unstable_renderSubtreeIntoContainer=function(e,t,n,o){if(!_u(n))throw Error(_e(200));if(e==null||e._reactInternals===void 0)throw Error(_e(38));return gu(e,t,n,!1,o)};En.version="18.3.1-next-f1338f8080-20240426";function m_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m_)}catch(e){console.error(e)}}m_(),mm.exports=En;var yu=mm.exports,wp=yu;Nc.createRoot=wp.createRoot,Nc.hydrateRoot=wp.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},oa.apply(this,arguments)}var oi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(oi||(oi={}));const xp="popstate";function gw(e){e===void 0&&(e={});function t(o,i){let{pathname:s,search:l,hash:u}=o.location;return kd("",{pathname:s,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){return typeof i=="string"?i:Ql(i)}return ww(t,n,null,e)}function gt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ph(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yw(){return Math.random().toString(36).substr(2,8)}function bp(e,t){return{usr:e.state,key:e.key,idx:t}}function kd(e,t,n,o){return n===void 0&&(n=null),oa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zo(t):t,{state:n,key:t&&t.key||o||yw()})}function Ql(e){let{pathname:t="/",search:n="",hash:o=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function Zo(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let o=e.indexOf("?");o>=0&&(t.search=e.substr(o),e=e.substr(0,o)),e&&(t.pathname=e)}return t}function ww(e,t,n,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:s=!1}=o,l=i.history,u=oi.Pop,d=null,f=_();f==null&&(f=0,l.replaceState(oa({},l.state,{idx:f}),""));function _(){return(l.state||{idx:null}).idx}function m(){u=oi.Pop;let M=_(),g=M==null?null:M-f;f=M,d&&d({action:u,location:k.location,delta:g})}function w(M,g){u=oi.Push;let y=kd(k.location,M,g);f=_()+1;let T=bp(y,f),I=k.createHref(y);try{l.pushState(T,"",I)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(I)}s&&d&&d({action:u,location:k.location,delta:1})}function b(M,g){u=oi.Replace;let y=kd(k.location,M,g);f=_();let T=bp(y,f),I=k.createHref(y);l.replaceState(T,"",I),s&&d&&d({action:u,location:k.location,delta:0})}function P(M){let g=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof M=="string"?M:Ql(M);return y=y.replace(/ $/,"%20"),gt(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let k={get action(){return u},get location(){return e(i,l)},listen(M){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(xp,m),d=M,()=>{i.removeEventListener(xp,m),d=null}},createHref(M){return t(i,M)},createURL:P,encodeLocation(M){let g=P(M);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:w,replace:b,go(M){return l.go(M)}};return k}var Lp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Lp||(Lp={}));function xw(e,t,n){return n===void 0&&(n="/"),bw(e,t,n)}function bw(e,t,n,o){let i=typeof t=="string"?Zo(t):t,s=Ro(i.pathname||"/",n);if(s==null)return null;let l=v_(e);Lw(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=Iw(s);u=Ow(l[d],f)}return u}function v_(e,t,n,o){t===void 0&&(t=[]),n===void 0&&(n=[]),o===void 0&&(o="");let i=(s,l,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};d.relativePath.startsWith("/")&&(gt(d.relativePath.startsWith(o),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(o.length));let f=pi([o,d.relativePath]),_=n.concat(d);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),v_(s.children,t,_,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:Mw(f,s.index),routesMeta:_})};return e.forEach((s,l)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,l);else for(let d of __(s.path))i(s,l,d)}),t}function __(e){let t=e.split("/");if(t.length===0)return[];let[n,...o]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(o.length===0)return i?[s,""]:[s];let l=__(o.join("/")),u=[];return u.push(...l.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...l),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function Lw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Nw(t.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}const kw=/^:[\w-]+$/,Ew=3,Sw=2,Tw=1,Cw=10,Pw=-2,kp=e=>e==="*";function Mw(e,t){let n=e.split("/"),o=n.length;return n.some(kp)&&(o+=Pw),t&&(o+=Sw),n.filter(i=>!kp(i)).reduce((i,s)=>i+(kw.test(s)?Ew:s===""?Tw:Cw),o)}function Nw(e,t){return e.length===t.length&&e.slice(0,-1).every((o,i)=>o===t[i])?e[e.length-1]-t[t.length-1]:0}function Ow(e,t,n){let{routesMeta:o}=e,i={},s="/",l=[];for(let u=0;u<o.length;++u){let d=o[u],f=u===o.length-1,_=s==="/"?t:t.slice(s.length)||"/",m=Ed({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},_),w=d.route;if(!m)return null;Object.assign(i,m.params),l.push({params:i,pathname:pi([s,m.pathname]),pathnameBase:Fw(pi([s,m.pathnameBase])),route:w}),m.pathnameBase!=="/"&&(s=pi([s,m.pathnameBase]))}return l}function Ed(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,o]=Dw(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((f,_,m)=>{let{paramName:w,isOptional:b}=_;if(w==="*"){let k=u[m]||"";l=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const P=u[m];return b&&!P?f[w]=void 0:f[w]=(P||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:e}}function Dw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ph(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let o=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(o.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(o.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),o]}function Iw(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ph(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ro(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,o=e.charAt(n);return o&&o!=="/"?null:e.slice(n)||"/"}const zw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=e=>zw.test(e);function Rw(e,t){t===void 0&&(t="/");let{pathname:n,search:o="",hash:i=""}=typeof e=="string"?Zo(e):e,s;if(n)if(Aw(n))s=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Ph(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?s=Ep(n.substring(1),"/"):s=Ep(n,t)}else s=t;return{pathname:s,search:Bw(o),hash:Uw(i)}}function Ep(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bc(e,t,n,o){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Mh(e,t){let n=jw(e);return t?n.map((o,i)=>i===n.length-1?o.pathname:o.pathnameBase):n.map(o=>o.pathnameBase)}function Nh(e,t,n,o){o===void 0&&(o=!1);let i;typeof e=="string"?i=Zo(e):(i=oa({},e),gt(!i.pathname||!i.pathname.includes("?"),bc("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),bc("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),bc("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,u;if(l==null)u=n;else{let m=t.length-1;if(!o&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),m-=1;i.pathname=w.join("/")}u=m>=0?t[m]:"/"}let d=Rw(i,u),f=l&&l!=="/"&&l.endsWith("/"),_=(s||l===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||_)&&(d.pathname+="/"),d}const pi=e=>e.join("/").replace(/\/\/+/g,"/"),Fw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Bw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Uw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ww(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const g_=["post","put","patch","delete"];new Set(g_);const Hw=["get",...g_];new Set(Hw);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sa(){return sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},sa.apply(this,arguments)}const wu=H.createContext(null),y_=H.createContext(null),Ar=H.createContext(null),xu=H.createContext(null),Rr=H.createContext({outlet:null,matches:[],isDataRoute:!1}),w_=H.createContext(null);function Zw(e,t){let{relative:n}=t===void 0?{}:t;qo()||gt(!1);let{basename:o,navigator:i}=H.useContext(Ar),{hash:s,pathname:l,search:u}=bu(e,{relative:n}),d=l;return o!=="/"&&(d=l==="/"?o:pi([o,l])),i.createHref({pathname:d,search:u,hash:s})}function qo(){return H.useContext(xu)!=null}function xi(){return qo()||gt(!1),H.useContext(xu).location}function x_(e){H.useContext(Ar).static||H.useLayoutEffect(e)}function bi(){let{isDataRoute:e}=H.useContext(Rr);return e?i1():qw()}function qw(){qo()||gt(!1);let e=H.useContext(wu),{basename:t,future:n,navigator:o}=H.useContext(Ar),{matches:i}=H.useContext(Rr),{pathname:s}=xi(),l=JSON.stringify(Mh(i,n.v7_relativeSplatPath)),u=H.useRef(!1);return x_(()=>{u.current=!0}),H.useCallback(function(f,_){if(_===void 0&&(_={}),!u.current)return;if(typeof f=="number"){o.go(f);return}let m=Nh(f,JSON.parse(l),s,_.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:pi([t,m.pathname])),(_.replace?o.replace:o.push)(m,_.state,_)},[t,o,l,s,e])}function Gw(){let{matches:e}=H.useContext(Rr),t=e[e.length-1];return t?t.params:{}}function bu(e,t){let{relative:n}=t===void 0?{}:t,{future:o}=H.useContext(Ar),{matches:i}=H.useContext(Rr),{pathname:s}=xi(),l=JSON.stringify(Mh(i,o.v7_relativeSplatPath));return H.useMemo(()=>Nh(e,JSON.parse(l),s,n==="path"),[e,l,s,n])}function Vw(e,t){return $w(e,t)}function $w(e,t,n,o){qo()||gt(!1);let{navigator:i}=H.useContext(Ar),{matches:s}=H.useContext(Rr),l=s[s.length-1],u=l?l.params:{};l&&l.pathname;let d=l?l.pathnameBase:"/";l&&l.route;let f=xi(),_;if(t){var m;let M=typeof t=="string"?Zo(t):t;d==="/"||(m=M.pathname)!=null&&m.startsWith(d)||gt(!1),_=M}else _=f;let w=_.pathname||"/",b=w;if(d!=="/"){let M=d.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=xw(e,{pathname:b}),k=Jw(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:pi([d,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?d:pi([d,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,n,o);return t&&k?H.createElement(xu.Provider,{value:{location:sa({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:oi.Pop}},k):k}function Yw(){let e=r1(),t=Ww(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),n?H.createElement("pre",{style:i},n):null,null)}const Xw=H.createElement(Yw,null);class Qw extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?H.createElement(Rr.Provider,{value:this.props.routeContext},H.createElement(w_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kw(e){let{routeContext:t,match:n,children:o}=e,i=H.useContext(wu);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Rr.Provider,{value:t},o)}function Jw(e,t,n,o){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),o===void 0&&(o=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=o)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let _=l.findIndex(m=>m.route.id&&u?.[m.route.id]!==void 0);_>=0||gt(!1),l=l.slice(0,Math.min(l.length,_+1))}let d=!1,f=-1;if(n&&o&&o.v7_partialHydration)for(let _=0;_<l.length;_++){let m=l[_];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=_),m.route.id){let{loaderData:w,errors:b}=n,P=m.route.loader&&w[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||P){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((_,m,w)=>{let b,P=!1,k=null,M=null;n&&(b=u&&m.route.id?u[m.route.id]:void 0,k=m.route.errorElement||Xw,d&&(f<0&&w===0?(o1("route-fallback"),P=!0,M=null):f===w&&(P=!0,M=m.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,w+1)),y=()=>{let T;return b?T=k:P?T=M:m.route.Component?T=H.createElement(m.route.Component,null):m.route.element?T=m.route.element:T=_,H.createElement(Kw,{match:m,routeContext:{outlet:_,matches:g,isDataRoute:n!=null},children:T})};return n&&(m.route.ErrorBoundary||m.route.errorElement||w===0)?H.createElement(Qw,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var b_=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(b_||{}),L_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(L_||{});function e1(e){let t=H.useContext(wu);return t||gt(!1),t}function t1(e){let t=H.useContext(y_);return t||gt(!1),t}function n1(e){let t=H.useContext(Rr);return t||gt(!1),t}function k_(e){let t=n1(),n=t.matches[t.matches.length-1];return n.route.id||gt(!1),n.route.id}function r1(){var e;let t=H.useContext(w_),n=t1(),o=k_();return t!==void 0?t:(e=n.errors)==null?void 0:e[o]}function i1(){let{router:e}=e1(b_.UseNavigateStable),t=k_(L_.UseNavigateStable),n=H.useRef(!1);return x_(()=>{n.current=!0}),H.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,sa({fromRouteId:t},s)))},[e,t])}const Sp={};function o1(e,t,n){Sp[e]||(Sp[e]=!0)}function s1(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function a1(e){let{to:t,replace:n,state:o,relative:i}=e;qo()||gt(!1);let{future:s,static:l}=H.useContext(Ar),{matches:u}=H.useContext(Rr),{pathname:d}=xi(),f=bi(),_=Nh(t,Mh(u,s.v7_relativeSplatPath),d,i==="path"),m=JSON.stringify(_);return H.useEffect(()=>f(JSON.parse(m),{replace:n,state:o,relative:i}),[f,m,i,n,o]),null}function Kr(e){gt(!1)}function l1(e){let{basename:t="/",children:n=null,location:o,navigationType:i=oi.Pop,navigator:s,static:l=!1,future:u}=e;qo()&&gt(!1);let d=t.replace(/^\/*/,"/"),f=H.useMemo(()=>({basename:d,navigator:s,static:l,future:sa({v7_relativeSplatPath:!1},u)}),[d,u,s,l]);typeof o=="string"&&(o=Zo(o));let{pathname:_="/",search:m="",hash:w="",state:b=null,key:P="default"}=o,k=H.useMemo(()=>{let M=Ro(_,d);return M==null?null:{location:{pathname:M,search:m,hash:w,state:b,key:P},navigationType:i}},[d,_,m,w,b,P,i]);return k==null?null:H.createElement(Ar.Provider,{value:f},H.createElement(xu.Provider,{children:n,value:k}))}function u1(e){let{children:t,location:n}=e;return Vw(Sd(t),n)}new Promise(()=>{});function Sd(e,t){t===void 0&&(t=[]);let n=[];return H.Children.forEach(e,(o,i)=>{if(!H.isValidElement(o))return;let s=[...t,i];if(o.type===H.Fragment){n.push.apply(n,Sd(o.props.children,s));return}o.type!==Kr&&gt(!1),!o.props.index||!o.props.children||gt(!1);let l={id:o.props.id||s.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(l.children=Sd(o.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Kl.apply(this,arguments)}function E_(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,s;for(s=0;s<o.length;s++)i=o[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function c1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function d1(e,t){return e.button===0&&(!t||t==="_self")&&!c1(e)}function Td(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let o=e[n];return t.concat(Array.isArray(o)?o.map(i=>[n,i]):[[n,o]])},[]))}function h1(e,t){let n=Td(e);return t&&t.forEach((o,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const f1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p1=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],m1="6";try{window.__reactRouterVersion=m1}catch{}const v1=H.createContext({isTransitioning:!1}),_1="startTransition",Tp=ay[_1];function g1(e){let{basename:t,children:n,future:o,window:i}=e,s=H.useRef();s.current==null&&(s.current=gw({window:i,v5Compat:!0}));let l=s.current,[u,d]=H.useState({action:l.action,location:l.location}),{v7_startTransition:f}=o||{},_=H.useCallback(m=>{f&&Tp?Tp(()=>d(m)):d(m)},[d,f]);return H.useLayoutEffect(()=>l.listen(_),[l,_]),H.useEffect(()=>s1(o),[o]),H.createElement(l1,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:l,future:o})}const y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,x1=H.forwardRef(function(t,n){let{onClick:o,relative:i,reloadDocument:s,replace:l,state:u,target:d,to:f,preventScrollReset:_,viewTransition:m}=t,w=E_(t,f1),{basename:b}=H.useContext(Ar),P,k=!1;if(typeof f=="string"&&w1.test(f)&&(P=f,y1))try{let T=new URL(window.location.href),I=f.startsWith("//")?new URL(T.protocol+f):new URL(f),z=Ro(I.pathname,b);I.origin===T.origin&&z!=null?f=z+I.search+I.hash:k=!0}catch{}let M=Zw(f,{relative:i}),g=k1(f,{replace:l,state:u,target:d,preventScrollReset:_,relative:i,viewTransition:m});function y(T){o&&o(T),T.defaultPrevented||g(T)}return H.createElement("a",Kl({},w,{href:P||M,onClick:k||s?o:y,ref:n,target:d}))}),b1=H.forwardRef(function(t,n){let{"aria-current":o="page",caseSensitive:i=!1,className:s="",end:l=!1,style:u,to:d,viewTransition:f,children:_}=t,m=E_(t,p1),w=bu(d,{relative:m.relative}),b=xi(),P=H.useContext(y_),{navigator:k,basename:M}=H.useContext(Ar),g=P!=null&&S1(w)&&f===!0,y=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,T=b.pathname,I=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;i||(T=T.toLowerCase(),I=I?I.toLowerCase():null,y=y.toLowerCase()),I&&M&&(I=Ro(I,M)||I);const z=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let q=T===y||!l&&T.startsWith(y)&&T.charAt(z)==="/",U=I!=null&&(I===y||!l&&I.startsWith(y)&&I.charAt(y.length)==="/"),V={isActive:q,isPending:U,isTransitioning:g},$=q?o:void 0,ne;typeof s=="function"?ne=s(V):ne=[s,q?"active":null,U?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(V):u;return H.createElement(x1,Kl({},m,{"aria-current":$,className:ne,ref:n,style:se,to:d,viewTransition:f}),typeof _=="function"?_(V):_)});var Cd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Cd||(Cd={}));var Cp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cp||(Cp={}));function L1(e){let t=H.useContext(wu);return t||gt(!1),t}function k1(e,t){let{target:n,replace:o,state:i,preventScrollReset:s,relative:l,viewTransition:u}=t===void 0?{}:t,d=bi(),f=xi(),_=bu(e,{relative:l});return H.useCallback(m=>{if(d1(m,n)){m.preventDefault();let w=o!==void 0?o:Ql(f)===Ql(_);d(e,{replace:w,state:i,preventScrollReset:s,relative:l,viewTransition:u})}},[f,d,_,o,i,n,e,s,l,u])}function E1(e){let t=H.useRef(Td(e)),n=H.useRef(!1),o=xi(),i=H.useMemo(()=>h1(o.search,n.current?null:t.current),[o.search]),s=bi(),l=H.useCallback((u,d)=>{const f=Td(typeof u=="function"?u(i):u);n.current=!0,s("?"+f,d)},[s,i]);return[i,l]}function S1(e,t){t===void 0&&(t={});let n=H.useContext(v1);n==null&&gt(!1);let{basename:o}=L1(Cd.useViewTransitionState),i=bu(e,{relative:t.relative});if(!n.isTransitioning)return!1;let s=Ro(n.currentLocation.pathname,o)||n.currentLocation.pathname,l=Ro(n.nextLocation.pathname,o)||n.nextLocation.pathname;return Ed(i.pathname,l)!=null||Ed(i.pathname,s)!=null}var S_={exports:{}};const T1={},C1=Object.freeze(Object.defineProperty({__proto__:null,default:T1},Symbol.toStringTag,{value:"Module"})),Pp=qg(C1);(function(e,t){var n=void 0,o=function(i){return n||(n=new Promise(function(s,l){var u=typeof i<"u"?i:{},d=u.onAbort;u.onAbort=function(h){l(new Error(h)),d&&d(h)},u.postRun=u.postRun||[],u.postRun.push(function(){s(u)}),e=void 0;var f;f||(f=typeof u<"u"?u:{});var _=typeof window=="object",m=typeof WorkerGlobalScope<"u",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"&&process.type!="renderer";f.onRuntimeInitialized=function(){function h(Y,fe){switch(typeof fe){case"boolean":Zu(Y,fe?1:0);break;case"number":Ia(Y,fe);break;case"string":to(Y,fe,-1,-1);break;case"object":if(fe===null)us(Y);else if(fe.length!=null){var Te=Hr(fe,tr);xr(Y,Te,fe.length,-1),ze(Te)}else ir(Y,"Wrong API use : tried to return a value of an unknown type ("+fe+").",-1);break;default:us(Y)}}function v(Y,fe){for(var Te=[],Oe=0;Oe<Y;Oe+=1){var je=nt(fe+4*Oe,"i32"),Qe=Da(je);if(Qe===1||Qe===2)je=Hu(je);else if(Qe===3)je=Wu(je);else if(Qe===4){Qe=je,je=Uu(Qe),Qe=ls(Qe);for(var gn=new Uint8Array(je),pt=0;pt<je;pt+=1)gn[pt]=ne[Qe+pt];je=gn}else je=null;Te.push(je)}return Te}function C(Y,fe){this.Qa=Y,this.db=fe,this.Oa=1,this.lb=[]}function D(Y,fe){if(this.db=fe,fe=Pe(Y)+1,this.eb=ns(fe),this.eb===null)throw Error("Unable to allocate memory for the SQL string");He(Y,se,this.eb,fe),this.kb=this.eb,this.Za=this.pb=null}function F(Y){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Y!=null){var fe=this.filename,Te="/",Oe=fe;if(Te&&(Te=typeof Te=="string"?Te:Yo(Te),Oe=fe?G(Te+"/"+fe):Te),fe=pr(!0,!0),Oe=Ou(Oe,fe),Y){if(typeof Y=="string"){Te=Array(Y.length);for(var je=0,Qe=Y.length;je<Qe;++je)Te[je]=Y.charCodeAt(je);Y=Te}Qi(Oe,fe|146),Te=Tn(Oe,577),$e(Te,Y,0,Y.length,0),Ji(Te),Qi(Oe,fe)}}this.handleError(Ne(this.filename,ee)),this.db=nt(ee,"i32"),cs(this.db),this.fb={},this.Sa={}}var ee=Pn(4),ae=f.cwrap,Ne=ae("sqlite3_open","number",["string","number"]),Be=ae("sqlite3_close_v2","number",["number"]),Fe=ae("sqlite3_exec","number",["number","string","number","number","number"]),ft=ae("sqlite3_changes","number",["number"]),Dt=ae("sqlite3_prepare_v2","number",["number","string","number","number","number"]),qe=ae("sqlite3_sql","string",["number"]),Du=ae("sqlite3_normalized_sql","string",["number"]),tn=ae("sqlite3_prepare_v2","number",["number","number","number","number","number"]),Ni=ae("sqlite3_bind_text","number",["number","number","number","number","number"]),rs=ae("sqlite3_bind_blob","number",["number","number","number","number","number"]),Iu=ae("sqlite3_bind_double","number",["number","number","number"]),is=ae("sqlite3_bind_int","number",["number","number","number"]),zu=ae("sqlite3_bind_parameter_index","number",["number","string"]),Pa=ae("sqlite3_step","number",["number"]),Au=ae("sqlite3_errmsg","string",["number"]),Ru=ae("sqlite3_column_count","number",["number"]),os=ae("sqlite3_data_count","number",["number"]),ju=ae("sqlite3_column_double","number",["number","number"]),_n=ae("sqlite3_column_text","string",["number","number"]),Fu=ae("sqlite3_column_blob","number",["number","number"]),Ma=ae("sqlite3_column_bytes","number",["number","number"]),rr=ae("sqlite3_column_type","number",["number","number"]),Na=ae("sqlite3_column_name","string",["number","number"]),Oa=ae("sqlite3_reset","number",["number"]),ss=ae("sqlite3_clear_bindings","number",["number"]),Bu=ae("sqlite3_finalize","number",["number"]),as=ae("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),Da=ae("sqlite3_value_type","number",["number"]),Uu=ae("sqlite3_value_bytes","number",["number"]),Wu=ae("sqlite3_value_text","string",["number"]),ls=ae("sqlite3_value_blob","number",["number"]),Hu=ae("sqlite3_value_double","number",["number"]),Ia=ae("sqlite3_result_double","",["number","number"]),us=ae("sqlite3_result_null","",["number"]),to=ae("sqlite3_result_text","",["number","string","number","number"]),xr=ae("sqlite3_result_blob","",["number","number","number","number"]),Zu=ae("sqlite3_result_int","",["number","number"]),ir=ae("sqlite3_result_error","",["number","string","number"]),Gt=ae("sqlite3_aggregate_context","number",["number","number"]),cs=ae("RegisterExtensionFunctions","number",["number"]),ds=ae("sqlite3_update_hook","number",["number","number","number"]);C.prototype.bind=function(Y){if(!this.Qa)throw"Statement closed";return this.reset(),Array.isArray(Y)?this.Cb(Y):Y!=null&&typeof Y=="object"?this.Db(Y):!0},C.prototype.step=function(){if(!this.Qa)throw"Statement closed";this.Oa=1;var Y=Pa(this.Qa);switch(Y){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Y)}},C.prototype.wb=function(Y){return Y==null&&(Y=this.Oa,this.Oa+=1),ju(this.Qa,Y)},C.prototype.Gb=function(Y){if(Y==null&&(Y=this.Oa,this.Oa+=1),Y=_n(this.Qa,Y),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Y)},C.prototype.Hb=function(Y){return Y==null&&(Y=this.Oa,this.Oa+=1),_n(this.Qa,Y)},C.prototype.getBlob=function(Y){Y==null&&(Y=this.Oa,this.Oa+=1);var fe=Ma(this.Qa,Y);Y=Fu(this.Qa,Y);for(var Te=new Uint8Array(fe),Oe=0;Oe<fe;Oe+=1)Te[Oe]=ne[Y+Oe];return Te},C.prototype.get=function(Y,fe){fe=fe||{},Y!=null&&this.bind(Y)&&this.step(),Y=[];for(var Te=os(this.Qa),Oe=0;Oe<Te;Oe+=1)switch(rr(this.Qa,Oe)){case 1:var je=fe.useBigInt?this.Gb(Oe):this.wb(Oe);Y.push(je);break;case 2:Y.push(this.wb(Oe));break;case 3:Y.push(this.Hb(Oe));break;case 4:Y.push(this.getBlob(Oe));break;default:Y.push(null)}return Y},C.prototype.getColumnNames=function(){for(var Y=[],fe=Ru(this.Qa),Te=0;Te<fe;Te+=1)Y.push(Na(this.Qa,Te));return Y},C.prototype.getAsObject=function(Y,fe){Y=this.get(Y,fe),fe=this.getColumnNames();for(var Te={},Oe=0;Oe<fe.length;Oe+=1)Te[fe[Oe]]=Y[Oe];return Te},C.prototype.getSQL=function(){return qe(this.Qa)},C.prototype.getNormalizedSQL=function(){return Du(this.Qa)},C.prototype.run=function(Y){return Y!=null&&this.bind(Y),this.step(),this.reset()},C.prototype.sb=function(Y,fe){fe==null&&(fe=this.Oa,this.Oa+=1),Y=We(Y);var Te=Hr(Y,tr);this.lb.push(Te),this.db.handleError(Ni(this.Qa,fe,Te,Y.length-1,0))},C.prototype.Bb=function(Y,fe){fe==null&&(fe=this.Oa,this.Oa+=1);var Te=Hr(Y,tr);this.lb.push(Te),this.db.handleError(rs(this.Qa,fe,Te,Y.length,0))},C.prototype.rb=function(Y,fe){fe==null&&(fe=this.Oa,this.Oa+=1),this.db.handleError((Y===(Y|0)?is:Iu)(this.Qa,fe,Y))},C.prototype.Eb=function(Y){Y==null&&(Y=this.Oa,this.Oa+=1),rs(this.Qa,Y,0,0,0)},C.prototype.tb=function(Y,fe){switch(fe==null&&(fe=this.Oa,this.Oa+=1),typeof Y){case"string":this.sb(Y,fe);return;case"number":this.rb(Y,fe);return;case"bigint":this.sb(Y.toString(),fe);return;case"boolean":this.rb(Y+0,fe);return;case"object":if(Y===null){this.Eb(fe);return}if(Y.length!=null){this.Bb(Y,fe);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Y+")."},C.prototype.Db=function(Y){var fe=this;return Object.keys(Y).forEach(function(Te){var Oe=zu(fe.Qa,Te);Oe!==0&&fe.tb(Y[Te],Oe)}),!0},C.prototype.Cb=function(Y){for(var fe=0;fe<Y.length;fe+=1)this.tb(Y[fe],fe+1);return!0},C.prototype.reset=function(){return this.freemem(),ss(this.Qa)===0&&Oa(this.Qa)===0},C.prototype.freemem=function(){for(var Y;(Y=this.lb.pop())!==void 0;)ze(Y)},C.prototype.free=function(){this.freemem();var Y=Bu(this.Qa)===0;return delete this.db.fb[this.Qa],this.Qa=0,Y},D.prototype.next=function(){if(this.eb===null)return{done:!0};if(this.Za!==null&&(this.Za.free(),this.Za=null),!this.db.db)throw this.mb(),Error("Database closed");var Y=wr(),fe=Pn(4);S(ee),S(fe);try{this.db.handleError(tn(this.db.db,this.kb,-1,ee,fe)),this.kb=nt(fe,"i32");var Te=nt(ee,"i32");return Te===0?(this.mb(),{done:!0}):(this.Za=new C(Te,this.db),this.db.fb[Te]=this.Za,{value:this.Za,done:!1})}catch(Oe){throw this.pb=R(this.kb),this.mb(),Oe}finally{qr(Y)}},D.prototype.mb=function(){ze(this.eb),this.eb=null},D.prototype.getRemainingSQL=function(){return this.pb!==null?this.pb:R(this.kb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(D.prototype[Symbol.iterator]=function(){return this}),F.prototype.run=function(Y,fe){if(!this.db)throw"Database closed";if(fe){Y=this.prepare(Y,fe);try{Y.step()}finally{Y.free()}}else this.handleError(Fe(this.db,Y,0,0,ee));return this},F.prototype.exec=function(Y,fe,Te){if(!this.db)throw"Database closed";var Oe=wr(),je=null;try{var Qe=yr(Y),gn=Pn(4);for(Y=[];nt(Qe,"i8")!==0;){S(ee),S(gn),this.handleError(tn(this.db,Qe,-1,ee,gn));var pt=nt(ee,"i32");if(Qe=nt(gn,"i32"),pt!==0){var bt=null;for(je=new C(pt,this),fe!=null&&je.bind(fe);je.step();)bt===null&&(bt={columns:je.getColumnNames(),values:[]},Y.push(bt)),bt.values.push(je.get(null,Te));je.free()}}return Y}catch(yn){throw je&&je.free(),yn}finally{qr(Oe)}},F.prototype.each=function(Y,fe,Te,Oe,je){typeof fe=="function"&&(Oe=Te,Te=fe,fe=void 0),Y=this.prepare(Y,fe);try{for(;Y.step();)Te(Y.getAsObject(null,je))}finally{Y.free()}if(typeof Oe=="function")return Oe()},F.prototype.prepare=function(Y,fe){if(S(ee),this.handleError(Dt(this.db,Y,-1,ee,0)),Y=nt(ee,"i32"),Y===0)throw"Nothing to prepare";var Te=new C(Y,this);return fe!=null&&Te.bind(fe),this.fb[Y]=Te},F.prototype.iterateStatements=function(Y){return new D(Y,this)},F.prototype.export=function(){Object.values(this.fb).forEach(function(fe){fe.free()}),Object.values(this.Sa).forEach(Cn),this.Sa={},this.handleError(Be(this.db));var Y=ut(this.filename);return this.handleError(Ne(this.filename,ee)),this.db=nt(ee,"i32"),cs(this.db),Y},F.prototype.close=function(){this.db!==null&&(Object.values(this.fb).forEach(function(Y){Y.free()}),Object.values(this.Sa).forEach(Cn),this.Sa={},this.Ya&&(Cn(this.Ya),this.Ya=void 0),this.handleError(Be(this.db)),Sa("/"+this.filename),this.db=null)},F.prototype.handleError=function(Y){if(Y===0)return null;throw Y=Au(this.db),Error(Y)},F.prototype.getRowsModified=function(){return ft(this.db)},F.prototype.create_function=function(Y,fe){Object.prototype.hasOwnProperty.call(this.Sa,Y)&&(Cn(this.Sa[Y]),delete this.Sa[Y]);var Te=nr(function(Oe,je,Qe){je=v(je,Qe);try{var gn=fe.apply(null,je)}catch(pt){ir(Oe,pt,-1);return}h(Oe,gn)},"viii");return this.Sa[Y]=Te,this.handleError(as(this.db,Y,fe.length,1,0,Te,0,0,0)),this},F.prototype.create_aggregate=function(Y,fe){var Te=fe.init||function(){return null},Oe=fe.finalize||function(bt){return bt},je=fe.step;if(!je)throw"An aggregate function must have a step function in "+Y;var Qe={};Object.hasOwnProperty.call(this.Sa,Y)&&(Cn(this.Sa[Y]),delete this.Sa[Y]),fe=Y+"__finalize",Object.hasOwnProperty.call(this.Sa,fe)&&(Cn(this.Sa[fe]),delete this.Sa[fe]);var gn=nr(function(bt,yn,wn){var br=Gt(bt,1);Object.hasOwnProperty.call(Qe,br)||(Qe[br]=Te()),yn=v(yn,wn),yn=[Qe[br]].concat(yn);try{Qe[br]=je.apply(null,yn)}catch(Gr){delete Qe[br],ir(bt,Gr,-1)}},"viii"),pt=nr(function(bt){var yn=Gt(bt,1);try{var wn=Oe(Qe[yn])}catch(br){delete Qe[yn],ir(bt,br,-1);return}h(bt,wn),delete Qe[yn]},"vi");return this.Sa[Y]=gn,this.Sa[fe]=pt,this.handleError(as(this.db,Y,je.length-1,1,0,0,gn,pt,0)),this},F.prototype.updateHook=function(Y){this.Ya&&(ds(this.db,0,0),Cn(this.Ya),this.Ya=void 0),Y&&(this.Ya=nr(function(fe,Te,Oe,je,Qe){switch(Te){case 18:fe="insert";break;case 23:fe="update";break;case 9:fe="delete";break;default:throw"unknown operationCode in updateHook callback: "+Te}if(Oe=Oe?te(se,Oe):"",je=je?te(se,je):"",Qe>Number.MAX_SAFE_INTEGER)throw"rowId too big to fit inside a Number";Y(fe,Oe,je,Number(Qe))},"viiiij"),ds(this.db,this.Ya,0))},f.Database=F};var b={...f},P="./this.program",k=(h,v)=>{throw v},M="",g,y;if(w){var T=Pp;M=__dirname+"/",y=h=>(h=J(h)?new URL(h):h,T.readFileSync(h)),g=async h=>(h=J(h)?new URL(h):h,T.readFileSync(h,void 0)),!f.thisProgram&&1<process.argv.length&&(P=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=f,k=(h,v)=>{throw process.exitCode=h,v}}else(_||m)&&(m?M=self.location.href:typeof document<"u"&&document.currentScript&&(M=document.currentScript.src),M=M.startsWith("blob:")?"":M.slice(0,M.replace(/[?#].*/,"").lastIndexOf("/")+1),m&&(y=h=>{var v=new XMLHttpRequest;return v.open("GET",h,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),g=async h=>{if(J(h))return new Promise((C,D)=>{var F=new XMLHttpRequest;F.open("GET",h,!0),F.responseType="arraybuffer",F.onload=()=>{F.status==200||F.status==0&&F.response?C(F.response):D(F.status)},F.onerror=D,F.send(null)});var v=await fetch(h,{credentials:"same-origin"});if(v.ok)return v.arrayBuffer();throw Error(v.status+" : "+v.url)});var I=f.print||console.log.bind(console),z=f.printErr||console.error.bind(console);Object.assign(f,b),b=null,f.thisProgram&&(P=f.thisProgram);var q=f.wasmBinary,U,V=!1,$,ne,se,j,X,N,ue,xe,de,J=h=>h.startsWith("file://");function ie(){var h=U.buffer;f.HEAP8=ne=new Int8Array(h),f.HEAP16=j=new Int16Array(h),f.HEAPU8=se=new Uint8Array(h),f.HEAPU16=new Uint16Array(h),f.HEAP32=X=new Int32Array(h),f.HEAPU32=N=new Uint32Array(h),f.HEAPF32=ue=new Float32Array(h),f.HEAPF64=de=new Float64Array(h),f.HEAP64=xe=new BigInt64Array(h),f.HEAPU64=new BigUint64Array(h)}var Q=0,W=null;function Z(h){throw f.onAbort?.(h),h="Aborted("+h+")",z(h),V=!0,new WebAssembly.RuntimeError(h+". Build with -sASSERTIONS for more info.")}var we;async function me(h){if(!q)try{var v=await g(h);return new Uint8Array(v)}catch{}if(h==we&&q)h=new Uint8Array(q);else if(y)h=y(h);else throw"both async and sync fetching of the wasm failed";return h}async function le(h,v){try{var C=await me(h);return await WebAssembly.instantiate(C,v)}catch(D){z(`failed to asynchronously prepare wasm: ${D}`),Z(D)}}async function Le(h){var v=we;if(!q&&typeof WebAssembly.instantiateStreaming=="function"&&!J(v)&&!w)try{var C=fetch(v,{credentials:"same-origin"});return await WebAssembly.instantiateStreaming(C,h)}catch(D){z(`wasm streaming compile failed: ${D}`),z("falling back to ArrayBuffer instantiation")}return le(v,h)}class Ue{constructor(v){Nn(this,"name","ExitStatus");this.message=`Program terminated with exit(${v})`,this.status=v}}var Ae=h=>{for(;0<h.length;)h.shift()(f)},Ve=[],lt=[],tt=()=>{var h=f.preRun.shift();lt.unshift(h)};function nt(h,v="i8"){switch(v.endsWith("*")&&(v="*"),v){case"i1":return ne[h];case"i8":return ne[h];case"i16":return j[h>>1];case"i32":return X[h>>2];case"i64":return xe[h>>3];case"float":return ue[h>>2];case"double":return de[h>>3];case"*":return N[h>>2];default:Z(`invalid type for getValue: ${v}`)}}var Et=f.noExitRuntime||!0;function S(h){var v="i32";switch(v.endsWith("*")&&(v="*"),v){case"i1":ne[h]=0;break;case"i8":ne[h]=0;break;case"i16":j[h>>1]=0;break;case"i32":X[h>>2]=0;break;case"i64":xe[h>>3]=BigInt(0);break;case"float":ue[h>>2]=0;break;case"double":de[h>>3]=0;break;case"*":N[h>>2]=0;break;default:Z(`invalid type for setValue: ${v}`)}}var ce=typeof TextDecoder<"u"?new TextDecoder:void 0,te=(h,v=0,C=NaN)=>{var D=v+C;for(C=v;h[C]&&!(C>=D);)++C;if(16<C-v&&h.buffer&&ce)return ce.decode(h.subarray(v,C));for(D="";v<C;){var F=h[v++];if(F&128){var ee=h[v++]&63;if((F&224)==192)D+=String.fromCharCode((F&31)<<6|ee);else{var ae=h[v++]&63;F=(F&240)==224?(F&15)<<12|ee<<6|ae:(F&7)<<18|ee<<12|ae<<6|h[v++]&63,65536>F?D+=String.fromCharCode(F):(F-=65536,D+=String.fromCharCode(55296|F>>10,56320|F&1023))}}else D+=String.fromCharCode(F)}return D},R=(h,v)=>h?te(se,h,v):"",A=(h,v)=>{for(var C=0,D=h.length-1;0<=D;D--){var F=h[D];F==="."?h.splice(D,1):F===".."?(h.splice(D,1),C++):C&&(h.splice(D,1),C--)}if(v)for(;C;C--)h.unshift("..");return h},G=h=>{var v=h.charAt(0)==="/",C=h.slice(-1)==="/";return(h=A(h.split("/").filter(D=>!!D),!v).join("/"))||v||(h="."),h&&C&&(h+="/"),(v?"/":"")+h},he=h=>{var v=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(h).slice(1);return h=v[0],v=v[1],!h&&!v?".":(v&&(v=v.slice(0,-1)),h+v)},pe=h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],re=()=>{if(w){var h=Pp;return v=>h.randomFillSync(v)}return v=>crypto.getRandomValues(v)},ge=h=>{(ge=re())(h)},ke=(...h)=>{for(var v="",C=!1,D=h.length-1;-1<=D&&!C;D--){if(C=0<=D?h[D]:"/",typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";v=C+"/"+v,C=C.charAt(0)==="/"}return v=A(v.split("/").filter(F=>!!F),!C).join("/"),(C?"/":"")+v||"."},ye=[],Pe=h=>{for(var v=0,C=0;C<h.length;++C){var D=h.charCodeAt(C);127>=D?v++:2047>=D?v+=2:55296<=D&&57343>=D?(v+=4,++C):v+=3}return v},He=(h,v,C,D)=>{if(!(0<D))return 0;var F=C;D=C+D-1;for(var ee=0;ee<h.length;++ee){var ae=h.charCodeAt(ee);if(55296<=ae&&57343>=ae){var Ne=h.charCodeAt(++ee);ae=65536+((ae&1023)<<10)|Ne&1023}if(127>=ae){if(C>=D)break;v[C++]=ae}else{if(2047>=ae){if(C+1>=D)break;v[C++]=192|ae>>6}else{if(65535>=ae){if(C+2>=D)break;v[C++]=224|ae>>12}else{if(C+3>=D)break;v[C++]=240|ae>>18,v[C++]=128|ae>>12&63}v[C++]=128|ae>>6&63}v[C++]=128|ae&63}}return v[C]=0,C-F},We=(h,v)=>{var C=Array(Pe(h)+1);return h=He(h,C,0,C.length),v&&(C.length=h),C},Ot=[];function Fn(h,v){Ot[h]={input:[],output:[],cb:v},Jo(h,Zt)}var Zt={open(h){var v=Ot[h.node.rdev];if(!v)throw new be(43);h.tty=v,h.seekable=!1},close(h){h.tty.cb.fsync(h.tty)},fsync(h){h.tty.cb.fsync(h.tty)},read(h,v,C,D){if(!h.tty||!h.tty.cb.xb)throw new be(60);for(var F=0,ee=0;ee<D;ee++){try{var ae=h.tty.cb.xb(h.tty)}catch{throw new be(29)}if(ae===void 0&&F===0)throw new be(6);if(ae==null)break;F++,v[C+ee]=ae}return F&&(h.node.atime=Date.now()),F},write(h,v,C,D){if(!h.tty||!h.tty.cb.qb)throw new be(60);try{for(var F=0;F<D;F++)h.tty.cb.qb(h.tty,v[C+F])}catch{throw new be(29)}return D&&(h.node.mtime=h.node.ctime=Date.now()),F}},fr={xb(){e:{if(!ye.length){var h=null;if(w){var v=Buffer.alloc(256),C=0,D=process.stdin.fd;try{C=T.readSync(D,v,0,256)}catch(F){if(F.toString().includes("EOF"))C=0;else throw F}0<C&&(h=v.slice(0,C).toString("utf-8"))}else typeof window<"u"&&typeof window.prompt=="function"&&(h=window.prompt("Input: "),h!==null&&(h+=`
`));if(!h){h=null;break e}ye=We(h,!0)}h=ye.shift()}return h},qb(h,v){v===null||v===10?(I(te(h.output)),h.output=[]):v!=0&&h.output.push(v)},fsync(h){0<h.output?.length&&(I(te(h.output)),h.output=[])},Tb(){return{Ob:25856,Qb:5,Nb:191,Pb:35387,Mb:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},Ub(){return 0},Vb(){return[24,80]}},rt={qb(h,v){v===null||v===10?(z(te(h.output)),h.output=[]):v!=0&&h.output.push(v)},fsync(h){0<h.output?.length&&(z(te(h.output)),h.output=[])}},De={Wa:null,Xa(){return De.createNode(null,"/",16895,0)},createNode(h,v,C,D){if((C&61440)===24576||(C&61440)===4096)throw new be(63);return De.Wa||(De.Wa={dir:{node:{Ta:De.La.Ta,Ua:De.La.Ua,lookup:De.La.lookup,hb:De.La.hb,rename:De.La.rename,unlink:De.La.unlink,rmdir:De.La.rmdir,readdir:De.La.readdir,symlink:De.La.symlink},stream:{Va:De.Ma.Va}},file:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:{Va:De.Ma.Va,read:De.Ma.read,write:De.Ma.write,ib:De.Ma.ib,jb:De.Ma.jb}},link:{node:{Ta:De.La.Ta,Ua:De.La.Ua,readlink:De.La.readlink},stream:{}},ub:{node:{Ta:De.La.Ta,Ua:De.La.Ua},stream:La}}),C=xa(h,v,C,D),jt(C.mode)?(C.La=De.Wa.dir.node,C.Ma=De.Wa.dir.stream,C.Na={}):(C.mode&61440)===32768?(C.La=De.Wa.file.node,C.Ma=De.Wa.file.stream,C.Ra=0,C.Na=null):(C.mode&61440)===40960?(C.La=De.Wa.link.node,C.Ma=De.Wa.link.stream):(C.mode&61440)===8192&&(C.La=De.Wa.ub.node,C.Ma=De.Wa.ub.stream),C.atime=C.mtime=C.ctime=Date.now(),h&&(h.Na[v]=C,h.atime=h.mtime=h.ctime=C.atime),C},Sb(h){return h.Na?h.Na.subarray?h.Na.subarray(0,h.Ra):new Uint8Array(h.Na):new Uint8Array(0)},La:{Ta(h){var v={};return v.dev=(h.mode&61440)===8192?h.id:1,v.ino=h.id,v.mode=h.mode,v.nlink=1,v.uid=0,v.gid=0,v.rdev=h.rdev,jt(h.mode)?v.size=4096:(h.mode&61440)===32768?v.size=h.Ra:(h.mode&61440)===40960?v.size=h.link.length:v.size=0,v.atime=new Date(h.atime),v.mtime=new Date(h.mtime),v.ctime=new Date(h.ctime),v.blksize=4096,v.blocks=Math.ceil(v.size/v.blksize),v},Ua(h,v){for(var C of["mode","atime","mtime","ctime"])v[C]!=null&&(h[C]=v[C]);v.size!==void 0&&(v=v.size,h.Ra!=v&&(v==0?(h.Na=null,h.Ra=0):(C=h.Na,h.Na=new Uint8Array(v),C&&h.Na.set(C.subarray(0,Math.min(v,h.Ra))),h.Ra=v)))},lookup(){throw De.vb},hb(h,v,C,D){return De.createNode(h,v,C,D)},rename(h,v,C){try{var D=vr(v,C)}catch{}if(D){if(jt(h.mode))for(var F in D.Na)throw new be(55);Xo(D)}delete h.parent.Na[h.name],v.Na[C]=h,h.name=C,v.ctime=v.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,v){delete h.Na[v],h.ctime=h.mtime=Date.now()},rmdir(h,v){var C=vr(h,v),D;for(D in C.Na)throw new be(55);delete h.Na[v],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.Na)]},symlink(h,v,C){return h=De.createNode(h,v,41471,0),h.link=C,h},readlink(h){if((h.mode&61440)!==40960)throw new be(28);return h.link}},Ma:{read(h,v,C,D,F){var ee=h.node.Na;if(F>=h.node.Ra)return 0;if(h=Math.min(h.node.Ra-F,D),8<h&&ee.subarray)v.set(ee.subarray(F,F+h),C);else for(D=0;D<h;D++)v[C+D]=ee[F+D];return h},write(h,v,C,D,F,ee){if(v.buffer===ne.buffer&&(ee=!1),!D)return 0;if(h=h.node,h.mtime=h.ctime=Date.now(),v.subarray&&(!h.Na||h.Na.subarray)){if(ee)return h.Na=v.subarray(C,C+D),h.Ra=D;if(h.Ra===0&&F===0)return h.Na=v.slice(C,C+D),h.Ra=D;if(F+D<=h.Ra)return h.Na.set(v.subarray(C,C+D),F),D}ee=F+D;var ae=h.Na?h.Na.length:0;if(ae>=ee||(ee=Math.max(ee,ae*(1048576>ae?2:1.125)>>>0),ae!=0&&(ee=Math.max(ee,256)),ae=h.Na,h.Na=new Uint8Array(ee),0<h.Ra&&h.Na.set(ae.subarray(0,h.Ra),0)),h.Na.subarray&&v.subarray)h.Na.set(v.subarray(C,C+D),F);else for(ee=0;ee<D;ee++)h.Na[F+ee]=v[C+ee];return h.Ra=Math.max(h.Ra,F+D),D},Va(h,v,C){if(C===1?v+=h.position:C===2&&(h.node.mode&61440)===32768&&(v+=h.node.Ra),0>v)throw new be(28);return v},ib(h,v,C,D,F){if((h.node.mode&61440)!==32768)throw new be(43);if(h=h.node.Na,F&2||!h||h.buffer!==ne.buffer){F=!0,D=65536*Math.ceil(v/65536);var ee=vn(65536,D);if(ee&&se.fill(0,ee,ee+D),D=ee,!D)throw new be(48);h&&((0<C||C+v<h.length)&&(h.subarray?h=h.subarray(C,C+v):h=Array.prototype.slice.call(h,C,C+v)),ne.set(h,D))}else F=!1,D=h.byteOffset;return{Kb:D,Ab:F}},jb(h,v,C,D){return De.Ma.write(h,v,0,D,C,!1),0}}},pr=(h,v)=>{var C=0;return h&&(C|=365),v&&(C|=146),C},qt=null,Bn={},Kn=[],$o=1,dn=null,Fr=!1,Un=!0,mr={},be=class{constructor(h){Nn(this,"name","ErrnoError");this.Pa=h}},Mu=class{constructor(){Nn(this,"gb",{});Nn(this,"node",null)}get flags(){return this.gb.flags}set flags(h){this.gb.flags=h}get position(){return this.gb.position}set position(h){this.gb.position=h}},Nu=class{constructor(h,v,C,D){Nn(this,"La",{});Nn(this,"Ma",{});Nn(this,"ab",null);h||(h=this),this.parent=h,this.Xa=h.Xa,this.id=$o++,this.name=v,this.mode=C,this.rdev=D,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&365)===365}set read(h){h?this.mode|=365:this.mode&=-366}get write(){return(this.mode&146)===146}set write(h){h?this.mode|=146:this.mode&=-147}};function Kt(h,v={}){if(!h)throw new be(44);v.nb??(v.nb=!0),h.charAt(0)==="/"||(h="//"+h);var C=0;e:for(;40>C;C++){h=h.split("/").filter(Ne=>!!Ne);for(var D=qt,F="/",ee=0;ee<h.length;ee++){var ae=ee===h.length-1;if(ae&&v.parent)break;if(h[ee]!==".")if(h[ee]==="..")F=he(F),D=D.parent;else{F=G(F+"/"+h[ee]);try{D=vr(D,h[ee])}catch(Ne){if(Ne?.Pa===44&&ae&&v.Jb)return{path:F};throw Ne}if(!D.ab||ae&&!v.nb||(D=D.ab.root),(D.mode&61440)===40960&&(!ae||v.$a)){if(!D.La.readlink)throw new be(52);D=D.La.readlink(D),D.charAt(0)==="/"||(D=he(F)+"/"+D),h=D+"/"+h.slice(ee+1).join("/");continue e}}}return{path:F,node:D}}throw new be(32)}function Yo(h){for(var v;;){if(h===h.parent)return h=h.Xa.zb,v?h[h.length-1]!=="/"?`${h}/${v}`:h+v:h;v=v?`${h.name}/${v}`:h.name,h=h.parent}}function ki(h,v){for(var C=0,D=0;D<v.length;D++)C=(C<<5)-C+v.charCodeAt(D)|0;return(h+C>>>0)%dn.length}function Xo(h){var v=ki(h.parent.id,h.name);if(dn[v]===h)dn[v]=h.bb;else for(v=dn[v];v;){if(v.bb===h){v.bb=h.bb;break}v=v.bb}}function vr(h,v){var C=jt(h.mode)?(C=Ce(h,"x"))?C:h.La.lookup?0:2:54;if(C)throw new be(C);for(C=dn[ki(h.id,v)];C;C=C.bb){var D=C.name;if(C.parent.id===h.id&&D===v)return C}return h.La.lookup(h,v)}function xa(h,v,C,D){return h=new Nu(h,v,C,D),v=ki(h.parent.id,h.name),h.bb=dn[v],dn[v]=h}function jt(h){return(h&61440)===16384}function hn(h){var v=["r","w","rw"][h&3];return h&512&&(v+="w"),v}function Ce(h,v){if(Un)return 0;if(!v.includes("r")||h.mode&292){if(v.includes("w")&&!(h.mode&146)||v.includes("x")&&!(h.mode&73))return 2}else return 2;return 0}function Qo(h,v){if(!jt(h.mode))return 54;try{return vr(h,v),20}catch{}return Ce(h,"wx")}function Ko(h,v,C){try{var D=vr(h,v)}catch(F){return F.Pa}if(h=Ce(h,"wx"))return h;if(C){if(!jt(D.mode))return 54;if(D===D.parent||Yo(D)==="/")return 10}else if(jt(D.mode))return 31;return 0}function Ei(h){if(!h)throw new be(63);return h}function Ct(h){if(h=Kn[h],!h)throw new be(8);return h}function $i(h,v=-1){if(h=Object.assign(new Mu,h),v==-1)e:{for(v=0;4096>=v;v++)if(!Kn[v])break e;throw new be(33)}return h.fd=v,Kn[v]=h}function ba(h,v=-1){return h=$i(h,v),h.Ma?.Rb?.(h),h}function Jn(h,v,C){var D=h?.Ma.Ua;h=D?h:v,D??(D=v.La.Ua),Ei(D),D(h,C)}var La={open(h){h.Ma=Bn[h.node.rdev].Ma,h.Ma.open?.(h)},Va(){throw new be(70)}};function Jo(h,v){Bn[h]={Ma:v}}function ka(h,v){var C=v==="/";if(C&&qt)throw new be(10);if(!C&&v){var D=Kt(v,{nb:!1});if(v=D.path,D=D.node,D.ab)throw new be(10);if(!jt(D.mode))throw new be(54)}v={type:h,Wb:{},zb:v,Ib:[]},h=h.Xa(v),h.Xa=v,v.root=h,C?qt=h:D&&(D.ab=v,D.Xa&&D.Xa.Ib.push(v))}function Yi(h,v,C){var D=Kt(h,{parent:!0}).node;if(h=pe(h),!h)throw new be(28);if(h==="."||h==="..")throw new be(20);var F=Qo(D,h);if(F)throw new be(F);if(!D.La.hb)throw new be(63);return D.La.hb(D,h,v,C)}function Ou(h,v=438){return Yi(h,v&4095|32768,0)}function fn(h,v=511){return Yi(h,v&1023|16384,0)}function Xi(h,v,C){typeof C>"u"&&(C=v,v=438),Yi(h,v|8192,C)}function Br(h,v){if(!ke(h))throw new be(44);var C=Kt(v,{parent:!0}).node;if(!C)throw new be(44);v=pe(v);var D=Qo(C,v);if(D)throw new be(D);if(!C.La.symlink)throw new be(63);C.La.symlink(C,v,h)}function Ea(h){var v=Kt(h,{parent:!0}).node;h=pe(h);var C=vr(v,h),D=Ko(v,h,!0);if(D)throw new be(D);if(!v.La.rmdir)throw new be(63);if(C.ab)throw new be(10);v.La.rmdir(v,h),Xo(C)}function Sa(h){var v=Kt(h,{parent:!0}).node;if(!v)throw new be(44);h=pe(h);var C=vr(v,h),D=Ko(v,h,!1);if(D)throw new be(D);if(!v.La.unlink)throw new be(63);if(C.ab)throw new be(10);v.La.unlink(v,h),Xo(C)}function Si(h,v){return h=Kt(h,{$a:!v}).node,Ei(h.La.Ta)(h)}function Ta(h,v,C,D){Jn(h,v,{mode:C&4095|v.mode&-4096,ctime:Date.now(),Fb:D})}function Qi(h,v){h=typeof h=="string"?Kt(h,{$a:!0}).node:h,Ta(null,h,v)}function Ki(h,v,C){if(jt(v.mode))throw new be(31);if((v.mode&61440)!==32768)throw new be(28);var D=Ce(v,"w");if(D)throw new be(D);Jn(h,v,{size:C,timestamp:Date.now()})}function Tn(h,v,C=438){if(h==="")throw new be(44);if(typeof v=="string"){var D={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[v];if(typeof D>"u")throw Error(`Unknown file open mode: ${v}`);v=D}if(C=v&64?C&4095|32768:0,typeof h=="object")D=h;else{var F=h.endsWith("/");h=Kt(h,{$a:!(v&131072),Jb:!0}),D=h.node,h=h.path}var ee=!1;if(v&64)if(D){if(v&128)throw new be(20)}else{if(F)throw new be(31);D=Yi(h,C|511,0),ee=!0}if(!D)throw new be(44);if((D.mode&61440)===8192&&(v&=-513),v&65536&&!jt(D.mode))throw new be(54);if(!ee&&(F=D?(D.mode&61440)===40960?32:jt(D.mode)&&(hn(v)!=="r"||v&576)?31:Ce(D,hn(v)):44))throw new be(F);return v&512&&!ee&&(F=D,F=typeof F=="string"?Kt(F,{$a:!0}).node:F,Ki(null,F,0)),v&=-131713,F=$i({node:D,path:Yo(D),flags:v,seekable:!0,position:0,Ma:D.Ma,Lb:[],error:!1}),F.Ma.open&&F.Ma.open(F),ee&&Qi(D,C&511),!f.logReadFiles||v&1||h in mr||(mr[h]=1),F}function Ji(h){if(h.fd===null)throw new be(8);h.ob&&(h.ob=null);try{h.Ma.close&&h.Ma.close(h)}catch(v){throw v}finally{Kn[h.fd]=null}h.fd=null}function es(h,v,C){if(h.fd===null)throw new be(8);if(!h.seekable||!h.Ma.Va)throw new be(70);if(C!=0&&C!=1&&C!=2)throw new be(28);h.position=h.Ma.Va(h,v,C),h.Lb=[]}function Ur(h,v,C,D,F){if(0>D||0>F)throw new be(28);if(h.fd===null)throw new be(8);if((h.flags&2097155)===1)throw new be(8);if(jt(h.node.mode))throw new be(31);if(!h.Ma.read)throw new be(28);var ee=typeof F<"u";if(!ee)F=h.position;else if(!h.seekable)throw new be(70);return v=h.Ma.read(h,v,C,D,F),ee||(h.position+=v),v}function $e(h,v,C,D,F){if(0>D||0>F)throw new be(28);if(h.fd===null)throw new be(8);if(!(h.flags&2097155))throw new be(8);if(jt(h.node.mode))throw new be(31);if(!h.Ma.write)throw new be(28);h.seekable&&h.flags&1024&&es(h,0,2);var ee=typeof F<"u";if(!ee)F=h.position;else if(!h.seekable)throw new be(70);return v=h.Ma.write(h,v,C,D,F,void 0),ee||(h.position+=v),v}function ut(h){var v,C=Tn(h,C||0);h=Si(h).size;var D=new Uint8Array(h);return Ur(C,D,0,h,0),v=D,Ji(C),v}function pn(h,v,C){h=G("/dev/"+h);var D=pr(!!v,!!C);pn.yb??(pn.yb=64);var F=pn.yb++<<8|0;Jo(F,{open(ee){ee.seekable=!1},close(){C?.buffer?.length&&C(10)},read(ee,ae,Ne,Be){for(var Fe=0,ft=0;ft<Be;ft++){try{var Dt=v()}catch{throw new be(29)}if(Dt===void 0&&Fe===0)throw new be(6);if(Dt==null)break;Fe++,ae[Ne+ft]=Dt}return Fe&&(ee.node.atime=Date.now()),Fe},write(ee,ae,Ne,Be){for(var Fe=0;Fe<Be;Fe++)try{C(ae[Ne+Fe])}catch{throw new be(29)}return Be&&(ee.node.mtime=ee.node.ctime=Date.now()),Fe}}),Xi(h,D,F)}var Xe={};function Jt(h,v,C){if(v.charAt(0)==="/")return v;if(h=h===-100?"/":Ct(h).path,v.length==0){if(!C)throw new be(44);return h}return h+"/"+v}function Wr(h,v){X[h>>2]=v.dev,X[h+4>>2]=v.mode,N[h+8>>2]=v.nlink,X[h+12>>2]=v.uid,X[h+16>>2]=v.gid,X[h+20>>2]=v.rdev,xe[h+24>>3]=BigInt(v.size),X[h+32>>2]=4096,X[h+36>>2]=v.blocks;var C=v.atime.getTime(),D=v.mtime.getTime(),F=v.ctime.getTime();return xe[h+40>>3]=BigInt(Math.floor(C/1e3)),N[h+48>>2]=C%1e3*1e6,xe[h+56>>3]=BigInt(Math.floor(D/1e3)),N[h+64>>2]=D%1e3*1e6,xe[h+72>>3]=BigInt(Math.floor(F/1e3)),N[h+80>>2]=F%1e3*1e6,xe[h+88>>3]=BigInt(v.ino),0}var Re=void 0,it=()=>{var h=X[+Re>>2];return Re+=4,h},Ti=0,eo=[0,31,60,91,121,152,182,213,244,274,305,335],en=[0,31,59,90,120,151,181,212,243,273,304,334],Ci={},Pi=h=>{$=h,Et||0<Ti||(f.onExit?.(h),V=!0),k(h,new Ue(h))},_r=h=>{if(!V)try{if(h(),!(Et||0<Ti))try{$=h=$,Pi(h)}catch(v){v instanceof Ue||v=="unwind"||k(1,v)}}catch(v){v instanceof Ue||v=="unwind"||k(1,v)}},ht={},er=()=>{if(!gr){var h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:P||"./this.program"},v;for(v in ht)ht[v]===void 0?delete h[v]:h[v]=ht[v];var C=[];for(v in h)C.push(`${v}=${h[v]}`);gr=C}return gr},gr,yr=h=>{var v=Pe(h)+1,C=Pn(v);return He(h,se,C,v),C},ts=(h,v,C,D)=>{var F={string:Fe=>{var ft=0;return Fe!=null&&Fe!==0&&(ft=yr(Fe)),ft},array:Fe=>{var ft=Pn(Fe.length);return ne.set(Fe,ft),ft}};h=f["_"+h];var ee=[],ae=0;if(D)for(var Ne=0;Ne<D.length;Ne++){var Be=F[C[Ne]];Be?(ae===0&&(ae=wr()),ee[Ne]=Be(D[Ne])):ee[Ne]=D[Ne]}return C=h(...ee),C=function(Fe){return ae!==0&&qr(ae),v==="string"?Fe?te(se,Fe):"":v==="boolean"?!!Fe:Fe}(C)},tr=0,Hr=(h,v)=>(v=v==1?Pn(h.length):ns(h.length),h.subarray||h.slice||(h=new Uint8Array(h)),se.set(h,v),v),Wn,Zr=[],mn,Cn=h=>{Wn.delete(mn.get(h)),mn.set(h,null),Zr.push(h)},nr=(h,v)=>{if(!Wn){Wn=new WeakMap;var C=mn.length;if(Wn)for(var D=0;D<0+C;D++){var F=mn.get(D);F&&Wn.set(F,D)}}if(C=Wn.get(h)||0)return C;if(Zr.length)C=Zr.pop();else{try{mn.grow(1)}catch(Be){throw Be instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Be}C=mn.length-1}try{mn.set(C,h)}catch(Be){if(!(Be instanceof TypeError))throw Be;if(typeof WebAssembly.Function=="function"){var ee=WebAssembly.Function;D={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},F={parameters:[],results:v[0]=="v"?[]:[D[v[0]]]};for(var ae=1;ae<v.length;++ae)F.parameters.push(D[v[ae]]);v=new ee(F,h)}else{D=[1],F=v.slice(0,1),v=v.slice(1),ae={i:127,p:127,j:126,f:125,d:124,e:111},D.push(96);var Ne=v.length;128>Ne?D.push(Ne):D.push(Ne%128|128,Ne>>7);for(ee of v)D.push(ae[ee]);F=="v"?D.push(0):D.push(1,ae[F]),v=[0,97,115,109,1,0,0,0,1],ee=D.length,128>ee?v.push(ee):v.push(ee%128|128,ee>>7),v.push(...D),v.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),v=new WebAssembly.Module(new Uint8Array(v)),v=new WebAssembly.Instance(v,{e:{f:h}}).exports.f}mn.set(C,v)}return Wn.set(h,C),C};dn=Array(4096),ka(De,"/"),fn("/tmp"),fn("/home"),fn("/home/web_user"),function(){fn("/dev"),Jo(259,{read:()=>0,write:(D,F,ee,ae)=>ae,Va:()=>0}),Xi("/dev/null",259),Fn(1280,fr),Fn(1536,rt),Xi("/dev/tty",1280),Xi("/dev/tty1",1536);var h=new Uint8Array(1024),v=0,C=()=>(v===0&&(ge(h),v=h.byteLength),h[--v]);pn("random",C),pn("urandom",C),fn("/dev/shm"),fn("/dev/shm/tmp")}(),function(){fn("/proc");var h=fn("/proc/self");fn("/proc/self/fd"),ka({Xa(){var v=xa(h,"fd",16895,73);return v.Ma={Va:De.Ma.Va},v.La={lookup(C,D){C=+D;var F=Ct(C);return C={parent:null,Xa:{zb:"fake"},La:{readlink:()=>F.path},id:C+1},C.parent=C},readdir(){return Array.from(Kn.entries()).filter(([,C])=>C).map(([C])=>C.toString())}},v}},"/proc/self/fd")}(),De.vb=new be(44),De.vb.stack="<generic error, no stack>";var Ca={a:(h,v,C,D)=>Z(`Assertion failed: ${h?te(se,h):""}, at: `+[v?v?te(se,v):"":"unknown filename",C,D?D?te(se,D):"":"unknown function"]),i:function(h,v){try{return h=h?te(se,h):"",Qi(h,v),0}catch(C){if(typeof Xe>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},L:function(h,v,C){try{if(v=v?te(se,v):"",v=Jt(h,v),C&-8)return-28;var D=Kt(v,{$a:!0}).node;return D?(h="",C&4&&(h+="r"),C&2&&(h+="w"),C&1&&(h+="x"),h&&Ce(D,h)?-2:0):-44}catch(F){if(typeof Xe>"u"||F.name!=="ErrnoError")throw F;return-F.Pa}},j:function(h,v){try{var C=Ct(h);return Ta(C,C.node,v,!1),0}catch(D){if(typeof Xe>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},h:function(h){try{var v=Ct(h);return Jn(v,v.node,{timestamp:Date.now(),Fb:!1}),0}catch(C){if(typeof Xe>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},b:function(h,v,C){Re=C;try{var D=Ct(h);switch(v){case 0:var F=it();if(0>F)break;for(;Kn[F];)F++;return ba(D,F).fd;case 1:case 2:return 0;case 3:return D.flags;case 4:return F=it(),D.flags|=F,0;case 12:return F=it(),j[F+0>>1]=2,0;case 13:case 14:return 0}return-28}catch(ee){if(typeof Xe>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},g:function(h,v){try{var C=Ct(h),D=C.node,F=C.Ma.Ta;h=F?C:D,F??(F=D.La.Ta),Ei(F);var ee=F(h);return Wr(v,ee)}catch(ae){if(typeof Xe>"u"||ae.name!=="ErrnoError")throw ae;return-ae.Pa}},H:function(h,v){v=-9007199254740992>v||9007199254740992<v?NaN:Number(v);try{if(isNaN(v))return 61;var C=Ct(h);if(0>v||!(C.flags&2097155))throw new be(28);return Ki(C,C.node,v),0}catch(D){if(typeof Xe>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},G:function(h,v){try{if(v===0)return-28;var C=Pe("/")+1;return v<C?-68:(He("/",se,h,v),C)}catch(D){if(typeof Xe>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},K:function(h,v){try{return h=h?te(se,h):"",Wr(v,Si(h,!0))}catch(C){if(typeof Xe>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},C:function(h,v,C){try{return v=v?te(se,v):"",v=Jt(h,v),fn(v,C),0}catch(D){if(typeof Xe>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},J:function(h,v,C,D){try{v=v?te(se,v):"";var F=D&256;return v=Jt(h,v,D&4096),Wr(C,F?Si(v,!0):Si(v))}catch(ee){if(typeof Xe>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},x:function(h,v,C,D){Re=D;try{v=v?te(se,v):"",v=Jt(h,v);var F=D?it():0;return Tn(v,C,F).fd}catch(ee){if(typeof Xe>"u"||ee.name!=="ErrnoError")throw ee;return-ee.Pa}},v:function(h,v,C,D){try{if(v=v?te(se,v):"",v=Jt(h,v),0>=D)return-28;var F=Kt(v).node;if(!F)throw new be(44);if(!F.La.readlink)throw new be(28);var ee=F.La.readlink(F),ae=Math.min(D,Pe(ee)),Ne=ne[C+ae];return He(ee,se,C,D+1),ne[C+ae]=Ne,ae}catch(Be){if(typeof Xe>"u"||Be.name!=="ErrnoError")throw Be;return-Be.Pa}},u:function(h){try{return h=h?te(se,h):"",Ea(h),0}catch(v){if(typeof Xe>"u"||v.name!=="ErrnoError")throw v;return-v.Pa}},f:function(h,v){try{return h=h?te(se,h):"",Wr(v,Si(h))}catch(C){if(typeof Xe>"u"||C.name!=="ErrnoError")throw C;return-C.Pa}},r:function(h,v,C){try{return v=v?te(se,v):"",v=Jt(h,v),C===0?Sa(v):C===512?Ea(v):Z("Invalid flags passed to unlinkat"),0}catch(D){if(typeof Xe>"u"||D.name!=="ErrnoError")throw D;return-D.Pa}},q:function(h,v,C){try{v=v?te(se,v):"",v=Jt(h,v,!0);var D=Date.now(),F,ee;if(C){var ae=N[C>>2]+4294967296*X[C+4>>2],Ne=X[C+8>>2];Ne==1073741823?F=D:Ne==1073741822?F=null:F=1e3*ae+Ne/1e6,C+=16,ae=N[C>>2]+4294967296*X[C+4>>2],Ne=X[C+8>>2],Ne==1073741823?ee=D:Ne==1073741822?ee=null:ee=1e3*ae+Ne/1e6}else ee=F=D;if((ee??F)!==null){h=F;var Be=Kt(v,{$a:!0}).node;Ei(Be.La.Ua)(Be,{atime:h,mtime:ee})}return 0}catch(Fe){if(typeof Xe>"u"||Fe.name!=="ErrnoError")throw Fe;return-Fe.Pa}},m:()=>Z(""),l:()=>{Et=!1,Ti=0},A:function(h,v){h=-9007199254740992>h||9007199254740992<h?NaN:Number(h),h=new Date(1e3*h),X[v>>2]=h.getSeconds(),X[v+4>>2]=h.getMinutes(),X[v+8>>2]=h.getHours(),X[v+12>>2]=h.getDate(),X[v+16>>2]=h.getMonth(),X[v+20>>2]=h.getFullYear()-1900,X[v+24>>2]=h.getDay();var C=h.getFullYear();X[v+28>>2]=(C%4!==0||C%100===0&&C%400!==0?en:eo)[h.getMonth()]+h.getDate()-1|0,X[v+36>>2]=-(60*h.getTimezoneOffset()),C=new Date(h.getFullYear(),6,1).getTimezoneOffset();var D=new Date(h.getFullYear(),0,1).getTimezoneOffset();X[v+32>>2]=(C!=D&&h.getTimezoneOffset()==Math.min(D,C))|0},y:function(h,v,C,D,F,ee,ae){F=-9007199254740992>F||9007199254740992<F?NaN:Number(F);try{if(isNaN(F))return 61;var Ne=Ct(D);if(v&2&&!(C&2)&&(Ne.flags&2097155)!==2)throw new be(2);if((Ne.flags&2097155)===1)throw new be(2);if(!Ne.Ma.ib)throw new be(43);if(!h)throw new be(28);var Be=Ne.Ma.ib(Ne,h,F,v,C),Fe=Be.Kb;return X[ee>>2]=Be.Ab,N[ae>>2]=Fe,0}catch(ft){if(typeof Xe>"u"||ft.name!=="ErrnoError")throw ft;return-ft.Pa}},z:function(h,v,C,D,F,ee){ee=-9007199254740992>ee||9007199254740992<ee?NaN:Number(ee);try{var ae=Ct(F);if(C&2){if(C=ee,(ae.node.mode&61440)!==32768)throw new be(43);if(!(D&2)){var Ne=se.slice(h,h+v);ae.Ma.jb&&ae.Ma.jb(ae,Ne,C,v,D)}}}catch(Be){if(typeof Xe>"u"||Be.name!=="ErrnoError")throw Be;return-Be.Pa}},n:(h,v)=>{if(Ci[h]&&(clearTimeout(Ci[h].id),delete Ci[h]),!v)return 0;var C=setTimeout(()=>{delete Ci[h],_r(()=>Ke(h,performance.now()))},v);return Ci[h]={id:C,Xb:v},0},B:(h,v,C,D)=>{var F=new Date().getFullYear(),ee=new Date(F,0,1).getTimezoneOffset();F=new Date(F,6,1).getTimezoneOffset(),N[h>>2]=60*Math.max(ee,F),X[v>>2]=+(ee!=F),v=ae=>{var Ne=Math.abs(ae);return`UTC${0<=ae?"-":"+"}${String(Math.floor(Ne/60)).padStart(2,"0")}${String(Ne%60).padStart(2,"0")}`},h=v(ee),v=v(F),F<ee?(He(h,se,C,17),He(v,se,D,17)):(He(h,se,D,17),He(v,se,C,17))},d:()=>Date.now(),s:()=>2147483648,c:()=>performance.now(),o:h=>{var v=se.length;if(h>>>=0,2147483648<h)return!1;for(var C=1;4>=C;C*=2){var D=v*(1+.2/C);D=Math.min(D,h+100663296);e:{D=(Math.min(2147483648,65536*Math.ceil(Math.max(h,D)/65536))-U.buffer.byteLength+65535)/65536|0;try{U.grow(D),ie();var F=1;break e}catch{}F=void 0}if(F)return!0}return!1},E:(h,v)=>{var C=0;return er().forEach((D,F)=>{var ee=v+C;for(F=N[h+4*F>>2]=ee,ee=0;ee<D.length;++ee)ne[F++]=D.charCodeAt(ee);ne[F]=0,C+=D.length+1}),0},F:(h,v)=>{var C=er();N[h>>2]=C.length;var D=0;return C.forEach(F=>D+=F.length+1),N[v>>2]=D,0},e:function(h){try{var v=Ct(h);return Ji(v),0}catch(C){if(typeof Xe>"u"||C.name!=="ErrnoError")throw C;return C.Pa}},p:function(h,v){try{var C=Ct(h);return ne[v]=C.tty?2:jt(C.mode)?3:(C.mode&61440)===40960?7:4,j[v+2>>1]=0,xe[v+8>>3]=BigInt(0),xe[v+16>>3]=BigInt(0),0}catch(D){if(typeof Xe>"u"||D.name!=="ErrnoError")throw D;return D.Pa}},w:function(h,v,C,D){try{e:{var F=Ct(h);h=v;for(var ee,ae=v=0;ae<C;ae++){var Ne=N[h>>2],Be=N[h+4>>2];h+=8;var Fe=Ur(F,ne,Ne,Be,ee);if(0>Fe){var ft=-1;break e}if(v+=Fe,Fe<Be)break;typeof ee<"u"&&(ee+=Fe)}ft=v}return N[D>>2]=ft,0}catch(Dt){if(typeof Xe>"u"||Dt.name!=="ErrnoError")throw Dt;return Dt.Pa}},D:function(h,v,C,D){v=-9007199254740992>v||9007199254740992<v?NaN:Number(v);try{if(isNaN(v))return 61;var F=Ct(h);return es(F,v,C),xe[D>>3]=BigInt(F.position),F.ob&&v===0&&C===0&&(F.ob=null),0}catch(ee){if(typeof Xe>"u"||ee.name!=="ErrnoError")throw ee;return ee.Pa}},I:function(h){try{var v=Ct(h);return v.Ma?.fsync?v.Ma.fsync(v):0}catch(C){if(typeof Xe>"u"||C.name!=="ErrnoError")throw C;return C.Pa}},t:function(h,v,C,D){try{e:{var F=Ct(h);h=v;for(var ee,ae=v=0;ae<C;ae++){var Ne=N[h>>2],Be=N[h+4>>2];h+=8;var Fe=$e(F,ne,Ne,Be,ee);if(0>Fe){var ft=-1;break e}if(v+=Fe,Fe<Be)break;typeof ee<"u"&&(ee+=Fe)}ft=v}return N[D>>2]=ft,0}catch(Dt){if(typeof Xe>"u"||Dt.name!=="ErrnoError")throw Dt;return Dt.Pa}},k:Pi},Me;(async function(){function h(C){return Me=C.exports,U=Me.M,ie(),mn=Me.O,Q--,f.monitorRunDependencies?.(Q),Q==0&&W&&(C=W,W=null,C()),Me}Q++,f.monitorRunDependencies?.(Q);var v={a:Ca};return f.instantiateWasm?new Promise(C=>{f.instantiateWasm(v,(D,F)=>{h(D),C(D.exports)})}):(we??(we=f.locateFile?f.locateFile("sql-wasm.wasm",M):M+"sql-wasm.wasm"),h((await Le(v)).instance))})(),f._sqlite3_free=h=>(f._sqlite3_free=Me.P)(h),f._sqlite3_value_text=h=>(f._sqlite3_value_text=Me.Q)(h),f._sqlite3_prepare_v2=(h,v,C,D,F)=>(f._sqlite3_prepare_v2=Me.R)(h,v,C,D,F),f._sqlite3_step=h=>(f._sqlite3_step=Me.S)(h),f._sqlite3_reset=h=>(f._sqlite3_reset=Me.T)(h),f._sqlite3_exec=(h,v,C,D,F)=>(f._sqlite3_exec=Me.U)(h,v,C,D,F),f._sqlite3_finalize=h=>(f._sqlite3_finalize=Me.V)(h),f._sqlite3_column_name=(h,v)=>(f._sqlite3_column_name=Me.W)(h,v),f._sqlite3_column_text=(h,v)=>(f._sqlite3_column_text=Me.X)(h,v),f._sqlite3_column_type=(h,v)=>(f._sqlite3_column_type=Me.Y)(h,v),f._sqlite3_errmsg=h=>(f._sqlite3_errmsg=Me.Z)(h),f._sqlite3_clear_bindings=h=>(f._sqlite3_clear_bindings=Me._)(h),f._sqlite3_value_blob=h=>(f._sqlite3_value_blob=Me.$)(h),f._sqlite3_value_bytes=h=>(f._sqlite3_value_bytes=Me.aa)(h),f._sqlite3_value_double=h=>(f._sqlite3_value_double=Me.ba)(h),f._sqlite3_value_int=h=>(f._sqlite3_value_int=Me.ca)(h),f._sqlite3_value_type=h=>(f._sqlite3_value_type=Me.da)(h),f._sqlite3_result_blob=(h,v,C,D)=>(f._sqlite3_result_blob=Me.ea)(h,v,C,D),f._sqlite3_result_double=(h,v)=>(f._sqlite3_result_double=Me.fa)(h,v),f._sqlite3_result_error=(h,v,C)=>(f._sqlite3_result_error=Me.ga)(h,v,C),f._sqlite3_result_int=(h,v)=>(f._sqlite3_result_int=Me.ha)(h,v),f._sqlite3_result_int64=(h,v)=>(f._sqlite3_result_int64=Me.ia)(h,v),f._sqlite3_result_null=h=>(f._sqlite3_result_null=Me.ja)(h),f._sqlite3_result_text=(h,v,C,D)=>(f._sqlite3_result_text=Me.ka)(h,v,C,D),f._sqlite3_aggregate_context=(h,v)=>(f._sqlite3_aggregate_context=Me.la)(h,v),f._sqlite3_column_count=h=>(f._sqlite3_column_count=Me.ma)(h),f._sqlite3_data_count=h=>(f._sqlite3_data_count=Me.na)(h),f._sqlite3_column_blob=(h,v)=>(f._sqlite3_column_blob=Me.oa)(h,v),f._sqlite3_column_bytes=(h,v)=>(f._sqlite3_column_bytes=Me.pa)(h,v),f._sqlite3_column_double=(h,v)=>(f._sqlite3_column_double=Me.qa)(h,v),f._sqlite3_bind_blob=(h,v,C,D,F)=>(f._sqlite3_bind_blob=Me.ra)(h,v,C,D,F),f._sqlite3_bind_double=(h,v,C)=>(f._sqlite3_bind_double=Me.sa)(h,v,C),f._sqlite3_bind_int=(h,v,C)=>(f._sqlite3_bind_int=Me.ta)(h,v,C),f._sqlite3_bind_text=(h,v,C,D,F)=>(f._sqlite3_bind_text=Me.ua)(h,v,C,D,F),f._sqlite3_bind_parameter_index=(h,v)=>(f._sqlite3_bind_parameter_index=Me.va)(h,v),f._sqlite3_sql=h=>(f._sqlite3_sql=Me.wa)(h),f._sqlite3_normalized_sql=h=>(f._sqlite3_normalized_sql=Me.xa)(h),f._sqlite3_changes=h=>(f._sqlite3_changes=Me.ya)(h),f._sqlite3_close_v2=h=>(f._sqlite3_close_v2=Me.za)(h),f._sqlite3_create_function_v2=(h,v,C,D,F,ee,ae,Ne,Be)=>(f._sqlite3_create_function_v2=Me.Aa)(h,v,C,D,F,ee,ae,Ne,Be),f._sqlite3_update_hook=(h,v,C)=>(f._sqlite3_update_hook=Me.Ba)(h,v,C),f._sqlite3_open=(h,v)=>(f._sqlite3_open=Me.Ca)(h,v);var ns=f._malloc=h=>(ns=f._malloc=Me.Da)(h),ze=f._free=h=>(ze=f._free=Me.Ea)(h);f._RegisterExtensionFunctions=h=>(f._RegisterExtensionFunctions=Me.Fa)(h);var vn=(h,v)=>(vn=Me.Ga)(h,v),Ke=(h,v)=>(Ke=Me.Ha)(h,v),qr=h=>(qr=Me.Ia)(h),Pn=h=>(Pn=Me.Ja)(h),wr=()=>(wr=Me.Ka)();f.stackSave=()=>wr(),f.stackRestore=h=>qr(h),f.stackAlloc=h=>Pn(h),f.cwrap=(h,v,C,D)=>{var F=!C||C.every(ee=>ee==="number"||ee==="boolean");return v!=="string"&&F&&!D?f["_"+h]:(...ee)=>ts(h,v,C,ee)},f.addFunction=nr,f.removeFunction=Cn,f.UTF8ToString=R,f.ALLOC_NORMAL=tr,f.allocate=Hr,f.allocateUTF8OnStack=yr;function Mi(){function h(){if(f.calledRun=!0,!V){if(!f.noFSInit&&!Fr){var v,C;Fr=!0,D??(D=f.stdin),v??(v=f.stdout),C??(C=f.stderr),D?pn("stdin",D):Br("/dev/tty","/dev/stdin"),v?pn("stdout",null,v):Br("/dev/tty","/dev/stdout"),C?pn("stderr",null,C):Br("/dev/tty1","/dev/stderr"),Tn("/dev/stdin",0),Tn("/dev/stdout",1),Tn("/dev/stderr",1)}if(Me.N(),Un=!1,f.onRuntimeInitialized?.(),f.postRun)for(typeof f.postRun=="function"&&(f.postRun=[f.postRun]);f.postRun.length;){var D=f.postRun.shift();Ve.unshift(D)}Ae(Ve)}}if(0<Q)W=Mi;else{if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;)tt();Ae(lt),0<Q?W=Mi:f.setStatus?(f.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>f.setStatus(""),1),h()},1)):h()}}if(f.preInit)for(typeof f.preInit=="function"&&(f.preInit=[f.preInit]);0<f.preInit.length;)f.preInit.pop()();return Mi(),u}),n)};e.exports=o,e.exports.default=o})(S_);var P1=S_.exports;const Mp=ua(P1);class T_{constructor(){Nn(this,"initialized",!1)}async get(t,n){const o=await this.execute(t,n);return o.values.length===0?null:this.rowToObject(o.columns,o.values[0])}async all(t,n){const o=await this.execute(t,n);return o.values.map(i=>this.rowToObject(o.columns,i))}async transaction(t){await this.run("BEGIN TRANSACTION");try{const n=await t();return await this.run("COMMIT"),n}catch(n){throw await this.run("ROLLBACK"),n}}rowToObject(t,n){const o={};return t.forEach((i,s)=>{o[i]=n[s]}),o}ensureInitialized(){if(!this.initialized)throw new Error("Database not initialized. Call initialize() first.")}}const C_=[{version:1,description:"Initial schema",up:`
      -- Features table
      CREATE TABLE IF NOT EXISTS features (
        id TEXT PRIMARY KEY,
        name TEXT NOT NULL,
        description TEXT,
        geometry_type TEXT NOT NULL CHECK (geometry_type IN ('Point', 'LineString', 'Polygon')),
        geometry TEXT NOT NULL,
        template_id TEXT,
        tags TEXT DEFAULT '[]',
        properties TEXT DEFAULT '{}',
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      );

      CREATE INDEX IF NOT EXISTS idx_features_geometry_type ON features(geometry_type);
      CREATE INDEX IF NOT EXISTS idx_features_created_at ON features(created_at);
      CREATE INDEX IF NOT EXISTS idx_features_template_id ON features(template_id);

      -- Observations table
      CREATE TABLE IF NOT EXISTS observations (
        id TEXT PRIMARY KEY,
        feature_id TEXT NOT NULL,
        notes TEXT,
        tags TEXT DEFAULT '[]',
        recorded_at TEXT NOT NULL DEFAULT (datetime('now')),
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        observer_latitude REAL,
        observer_longitude REAL,
        observer_accuracy REAL,
        FOREIGN KEY (feature_id) REFERENCES features(id) ON DELETE CASCADE
      );

      CREATE INDEX IF NOT EXISTS idx_observations_feature_id ON observations(feature_id);
      CREATE INDEX IF NOT EXISTS idx_observations_recorded_at ON observations(recorded_at);

      -- Measurements table
      CREATE TABLE IF NOT EXISTS measurements (
        id TEXT PRIMARY KEY,
        feature_id TEXT NOT NULL,
        metric TEXT NOT NULL,
        value REAL NOT NULL,
        unit TEXT NOT NULL,
        method TEXT NOT NULL DEFAULT 'estimated' CHECK (method IN ('estimated', 'measured', 'derived')),
        accuracy REAL,
        confidence TEXT CHECK (confidence IS NULL OR confidence IN ('low', 'medium', 'high')),
        notes TEXT,
        recorded_at TEXT NOT NULL DEFAULT (datetime('now')),
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        FOREIGN KEY (feature_id) REFERENCES features(id) ON DELETE CASCADE
      );

      CREATE INDEX IF NOT EXISTS idx_measurements_feature_id ON measurements(feature_id);
      CREATE INDEX IF NOT EXISTS idx_measurements_recorded_at ON measurements(recorded_at);
      CREATE INDEX IF NOT EXISTS idx_measurements_metric ON measurements(metric);

      -- Tasks table
      CREATE TABLE IF NOT EXISTS tasks (
        id TEXT PRIMARY KEY,
        feature_id TEXT NOT NULL,
        title TEXT NOT NULL,
        description TEXT,
        status TEXT NOT NULL DEFAULT 'planned' CHECK (status IN ('planned', 'active', 'done', 'abandoned')),
        priority INTEGER,
        due_date TEXT,
        tags TEXT DEFAULT '[]',
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        updated_at TEXT NOT NULL DEFAULT (datetime('now')),
        completed_at TEXT,
        FOREIGN KEY (feature_id) REFERENCES features(id) ON DELETE CASCADE
      );

      CREATE INDEX IF NOT EXISTS idx_tasks_feature_id ON tasks(feature_id);
      CREATE INDEX IF NOT EXISTS idx_tasks_status ON tasks(status);
      CREATE INDEX IF NOT EXISTS idx_tasks_due_date ON tasks(due_date);
      CREATE INDEX IF NOT EXISTS idx_tasks_priority ON tasks(priority);

      -- Templates table
      CREATE TABLE IF NOT EXISTS templates (
        id TEXT PRIMARY KEY,
        name TEXT NOT NULL UNIQUE,
        description TEXT,
        icon TEXT,
        is_builtin INTEGER NOT NULL DEFAULT 0,
        schema TEXT NOT NULL,
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      );

      -- Media table
      CREATE TABLE IF NOT EXISTS media (
        id TEXT PRIMARY KEY,
        feature_id TEXT,
        observation_id TEXT,
        type TEXT NOT NULL CHECK (type IN ('photo', 'audio', 'video', 'document')),
        filename TEXT NOT NULL,
        storage_path TEXT NOT NULL,
        mime_type TEXT NOT NULL,
        size_bytes INTEGER,
        width INTEGER,
        height INTEGER,
        duration_seconds REAL,
        caption TEXT,
        recorded_at TEXT NOT NULL DEFAULT (datetime('now')),
        created_at TEXT NOT NULL DEFAULT (datetime('now')),
        latitude REAL,
        longitude REAL,
        accuracy REAL,
        FOREIGN KEY (feature_id) REFERENCES features(id) ON DELETE SET NULL,
        FOREIGN KEY (observation_id) REFERENCES observations(id) ON DELETE SET NULL
      );

      CREATE INDEX IF NOT EXISTS idx_media_feature_id ON media(feature_id);
      CREATE INDEX IF NOT EXISTS idx_media_observation_id ON media(observation_id);
      CREATE INDEX IF NOT EXISTS idx_media_type ON media(type);

      -- Settings table
      CREATE TABLE IF NOT EXISTS settings (
        key TEXT PRIMARY KEY,
        value TEXT NOT NULL,
        updated_at TEXT NOT NULL DEFAULT (datetime('now'))
      );

      -- Default settings
      INSERT OR IGNORE INTO settings (key, value) VALUES
        ('map_center', '{"lat": 0, "lng": 0}'),
        ('map_zoom', '13'),
        ('basemap', 'osm'),
        ('units_system', 'metric');
    `}],Np="landmark-db",Yr="database";class M1 extends T_{constructor(){super(...arguments);Nn(this,"db",null)}async initialize(){if(this.initialized)return;console.log("[WebDatabase] Starting initialization..."),console.log("[WebDatabase] Loading sql.js...");const n=await Mp({locateFile:()=>"/Landmark/pr/12/sql-wasm.wasm"});console.log("[WebDatabase] sql.js loaded"),console.log("[WebDatabase] Loading from IndexedDB...");const o=await this.loadFromIndexedDB();console.log("[WebDatabase] IndexedDB loaded, has data:",!!o),o?(console.log("[WebDatabase] Creating database from saved data..."),this.db=new n.Database(o)):(console.log("[WebDatabase] Creating new database..."),this.db=new n.Database),console.log("[WebDatabase] Database created"),console.log("[WebDatabase] Running migrations..."),await this.runMigrations(),console.log("[WebDatabase] Migrations complete"),this.initialized=!0,console.log("[WebDatabase] Initialization complete")}async execute(n,o){this.ensureInitialized();try{const i=this.db.exec(n,o);return i.length===0?{columns:[],values:[]}:{columns:i[0].columns,values:i[0].values}}catch(i){throw console.error("SQL Error:",n,o,i),i}}async run(n,o){this.ensureInitialized();try{this.db.run(n,o),await this.persist()}catch(i){throw console.error("SQL Error:",n,o,i),i}}async exportDatabase(){return this.ensureInitialized(),this.db.export()}async importDatabase(n){const o=await Mp({locateFile:()=>"/Landmark/pr/12/sql-wasm.wasm"});this.db=new o.Database(n),await this.persist(),this.initialized=!0}async close(){this.db&&(await this.persist(),this.db.close(),this.db=null,this.initialized=!1)}async persist(){if(!this.db)return;const n=this.db.export();await this.saveToIndexedDB(new Uint8Array(n))}async loadFromIndexedDB(){return new Promise((n,o)=>{const i=indexedDB.open(Np,1);i.onerror=()=>o(i.error),i.onupgradeneeded=()=>{const s=i.result;s.objectStoreNames.contains(Yr)||s.createObjectStore(Yr)},i.onsuccess=()=>{const s=i.result,d=s.transaction(Yr,"readonly").objectStore(Yr).get("data");d.onsuccess=()=>{s.close(),n(d.result||null)},d.onerror=()=>{s.close(),o(d.error)}}})}async saveToIndexedDB(n){return new Promise((o,i)=>{const s=indexedDB.open(Np,1);s.onerror=()=>i(s.error),s.onupgradeneeded=()=>{const l=s.result;l.objectStoreNames.contains(Yr)||l.createObjectStore(Yr)},s.onsuccess=()=>{const l=s.result,u=l.transaction(Yr,"readwrite");u.objectStore(Yr).put(n,"data"),u.oncomplete=()=>{l.close(),o()},u.onerror=()=>{l.close(),i(u.error)}}})}async runMigrations(){this.db.run(`
      CREATE TABLE IF NOT EXISTS schema_version (
        version INTEGER PRIMARY KEY,
        applied_at TEXT NOT NULL DEFAULT (datetime('now')),
        description TEXT
      )
    `);const n=this.db.exec("SELECT MAX(version) as version FROM schema_version"),o=n.length>0&&n[0].values[0][0]?n[0].values[0][0]:0;for(const i of C_)i.version>o&&(console.log(`Applying migration ${i.version}: ${i.description}`),this.db.run(i.up),this.db.run("INSERT INTO schema_version (version, description) VALUES (?, ?)",[i.version,i.description]));await this.persist()}}const N1="modulepreload",O1=function(e){return"/Landmark/pr/12/"+e},Op={},P_=function(t,n,o){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(n.map(d=>{if(d=O1(d),d in Op)return;Op[d]=!0;const f=d.endsWith(".css"),_=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":N1,f||(m.as="script"),m.crossOrigin="",m.href=d,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((w,b)=>{m.addEventListener("load",w),m.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const D1=e=>{const t=new Map;t.set("web",{name:"web"});const n=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t},o=(s,l)=>{n.platforms.set(s,l)},i=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=o,n.setPlatform=i,n},I1=e=>e.CapacitorPlatforms=D1(e),M_=I1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});M_.addPlatform;M_.setPlatform;var jo;(function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"})(jo||(jo={}));class Lc extends Error{constructor(t,n,o){super(t),this.message=t,this.code=n,this.data=o}}const z1=e=>{var t,n;return e?.androidBridge?"android":!((n=(t=e?.webkit)===null||t===void 0?void 0:t.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},A1=e=>{var t,n,o,i,s;const l=e.CapacitorCustomPlatform||null,u=e.Capacitor||{},d=u.Plugins=u.Plugins||{},f=e.CapacitorPlatforms,_=()=>l!==null?l.name:z1(e),m=((t=f?.currentPlatform)===null||t===void 0?void 0:t.getPlatform)||_,w=()=>m()!=="web",b=((n=f?.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||w,P=U=>{const V=I.get(U);return!!(V?.platforms.has(m())||g(U))},k=((o=f?.currentPlatform)===null||o===void 0?void 0:o.isPluginAvailable)||P,M=U=>{var V;return(V=u.PluginHeaders)===null||V===void 0?void 0:V.find($=>$.name===U)},g=((i=f?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||M,y=U=>e.console.error(U),T=(U,V,$)=>Promise.reject(`${$} does not have an implementation of "${V}".`),I=new Map,z=(U,V={})=>{const $=I.get(U);if($)return console.warn(`Capacitor plugin "${U}" already registered. Cannot register plugins twice.`),$.proxy;const ne=m(),se=g(U);let j;const X=async()=>(!j&&ne in V?j=typeof V[ne]=="function"?j=await V[ne]():j=V[ne]:l!==null&&!j&&"web"in V&&(j=typeof V.web=="function"?j=await V.web():j=V.web),j),N=(Q,W)=>{var Z,we;if(se){const me=se?.methods.find(le=>W===le.name);if(me)return me.rtype==="promise"?le=>u.nativePromise(U,W.toString(),le):(le,Le)=>u.nativeCallback(U,W.toString(),le,Le);if(Q)return(Z=Q[W])===null||Z===void 0?void 0:Z.bind(Q)}else{if(Q)return(we=Q[W])===null||we===void 0?void 0:we.bind(Q);throw new Lc(`"${U}" plugin is not implemented on ${ne}`,jo.Unimplemented)}},ue=Q=>{let W;const Z=(...we)=>{const me=X().then(le=>{const Le=N(le,Q);if(Le){const Ue=Le(...we);return W=Ue?.remove,Ue}else throw new Lc(`"${U}.${Q}()" is not implemented on ${ne}`,jo.Unimplemented)});return Q==="addListener"&&(me.remove=async()=>W()),me};return Z.toString=()=>`${Q.toString()}() { [capacitor code] }`,Object.defineProperty(Z,"name",{value:Q,writable:!1,configurable:!1}),Z},xe=ue("addListener"),de=ue("removeListener"),J=(Q,W)=>{const Z=xe({eventName:Q},W),we=async()=>{const le=await Z;de({eventName:Q,callbackId:le},W)},me=new Promise(le=>Z.then(()=>le({remove:we})));return me.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await we()},me},ie=new Proxy({},{get(Q,W){switch(W){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return se?J:xe;case"removeListener":return de;default:return ue(W)}}});return d[U]=ie,I.set(U,{name:U,proxy:ie,platforms:new Set([...Object.keys(V),...se?[ne]:[]])}),ie},q=((s=f?.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||z;return u.convertFileSrc||(u.convertFileSrc=U=>U),u.getPlatform=m,u.handleError=y,u.isNativePlatform=b,u.isPluginAvailable=k,u.pluginMethodNoop=T,u.registerPlugin=q,u.Exception=Lc,u.DEBUG=!!u.DEBUG,u.isLoggingEnabled=!!u.isLoggingEnabled,u.platform=u.getPlatform(),u.isNative=u.isNativePlatform(),u},R1=e=>e.Capacitor=A1(e),Fo=R1(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Lu=Fo.registerPlugin;Fo.Plugins;class N_{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const i=this.windowListeners[t];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(t,n),l=Promise.resolve({remove:s});return Object.defineProperty(l,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),l}async removeAllListeners(){this.listeners={};for(const t in this.windowListeners)this.removeWindowListener(this.windowListeners[t]);this.windowListeners={}}notifyListeners(t,n){const o=this.listeners[t];o&&o.forEach(i=>i(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:o=>{this.notifyListeners(n,o)}}}unimplemented(t="not implemented"){return new Fo.Exception(t,jo.Unimplemented)}unavailable(t="not available"){return new Fo.Exception(t,jo.Unavailable)}async removeListener(t,n){const o=this.listeners[t];if(!o)return;const i=o.indexOf(n);this.listeners[t].splice(i,1),this.listeners[t].length||this.removeWindowListener(this.windowListeners[t])}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const Dp=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ip=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class j1 extends N_{async getCookies(){const t=document.cookie,n={};return t.split(";").forEach(o=>{if(o.length<=0)return;let[i,s]=o.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Ip(i).trim(),s=Ip(s).trim(),n[i]=s}),n}async setCookie(t){try{const n=Dp(t.key),o=Dp(t.value),i=`; expires=${(t.expires||"").replace("expires=","")}`,s=(t.path||"/").replace("path=",""),l=t.url!=null&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${o||""}${i}; path=${s}; ${l};`}catch(n){return Promise.reject(n)}}async deleteCookie(t){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(t){return Promise.reject(t)}}async clearAllCookies(){try{await this.clearCookies()}catch(t){return Promise.reject(t)}}}Lu("CapacitorCookies",{web:()=>new j1});const F1=async e=>new Promise((t,n)=>{const o=new FileReader;o.onload=()=>{const i=o.result;t(i.indexOf(",")>=0?i.split(",")[1]:i)},o.onerror=i=>n(i),o.readAsDataURL(e)}),B1=(e={})=>{const t=Object.keys(e);return Object.keys(e).map(i=>i.toLocaleLowerCase()).reduce((i,s,l)=>(i[s]=e[t[l]],i),{})},U1=(e,t=!0)=>e?Object.entries(e).reduce((o,i)=>{const[s,l]=i;let u,d;return Array.isArray(l)?(d="",l.forEach(f=>{u=t?encodeURIComponent(f):f,d+=`${s}=${u}&`}),d.slice(0,-1)):(u=t?encodeURIComponent(l):l,d=`${s}=${u}`),`${o}&${d}`},"").substr(1):null,W1=(e,t={})=>{const n=Object.assign({method:e.method||"GET",headers:e.headers},t),i=B1(e.headers)["content-type"]||"";if(typeof e.data=="string")n.body=e.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[l,u]of Object.entries(e.data||{}))s.set(l,u);n.body=s.toString()}else if(i.includes("multipart/form-data")||e.data instanceof FormData){const s=new FormData;if(e.data instanceof FormData)e.data.forEach((u,d)=>{s.append(d,u)});else for(const u of Object.keys(e.data))s.append(u,e.data[u]);n.body=s;const l=new Headers(n.headers);l.delete("content-type"),n.headers=l}else(i.includes("application/json")||typeof e.data=="object")&&(n.body=JSON.stringify(e.data));return n};class H1 extends N_{async request(t){const n=W1(t,t.webFetchExtra),o=U1(t.params,t.shouldEncodeUrlParams),i=o?`${t.url}?${o}`:t.url,s=await fetch(i,n),l=s.headers.get("content-type")||"";let{responseType:u="text"}=s.ok?t:{};l.includes("application/json")&&(u="json");let d,f;switch(u){case"arraybuffer":case"blob":f=await s.blob(),d=await F1(f);break;case"json":d=await s.json();break;case"document":case"text":default:d=await s.text()}const _={};return s.headers.forEach((m,w)=>{_[w]=m}),{data:d,headers:_,status:s.status,url:s.url}}async get(t){return this.request(Object.assign(Object.assign({},t),{method:"GET"}))}async post(t){return this.request(Object.assign(Object.assign({},t),{method:"POST"}))}async put(t){return this.request(Object.assign(Object.assign({},t),{method:"PUT"}))}async patch(t){return this.request(Object.assign(Object.assign({},t),{method:"PATCH"}))}async delete(t){return this.request(Object.assign(Object.assign({},t),{method:"DELETE"}))}}Lu("CapacitorHttp",{web:()=>new H1});class Z1{constructor(t){this.sqlite=t,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToStore(t){try{return await this.sqlite.saveToStore({database:t}),Promise.resolve()}catch(n){return Promise.reject(n)}}async saveToLocalDisk(t){try{return await this.sqlite.saveToLocalDisk({database:t}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getFromLocalDiskToStore(t){const n=t??!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:n}),Promise.resolve()}catch(o){return Promise.reject(o)}}async echo(t){try{const n=await this.sqlite.echo({value:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async isSecretStored(){try{const t=await this.sqlite.isSecretStored();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async setEncryptionSecret(t){try{return await this.sqlite.setEncryptionSecret({passphrase:t}),Promise.resolve()}catch(n){return Promise.reject(n)}}async changeEncryptionSecret(t,n){try{return await this.sqlite.changeEncryptionSecret({passphrase:t,oldpassphrase:n}),Promise.resolve()}catch(o){return Promise.reject(o)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(t){return Promise.reject(t)}}async checkEncryptionSecret(t){try{const n=await this.sqlite.checkEncryptionSecret({passphrase:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async addUpgradeStatement(t,n){try{return t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:t,upgrade:n}),Promise.resolve()}catch(o){return Promise.reject(o)}}async createConnection(t,n,o,i,s){try{t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.createConnection({database:t,encrypted:n,mode:o,version:i,readonly:s});const l=new zp(t,s,this.sqlite),u=s?`RO_${t}`:`RW_${t}`;return this._connectionDict.set(u,l),Promise.resolve(l)}catch(l){return Promise.reject(l)}}async closeConnection(t,n){try{t.endsWith(".db")&&(t=t.slice(0,-3)),await this.sqlite.closeConnection({database:t,readonly:n});const o=n?`RO_${t}`:`RW_${t}`;return this._connectionDict.delete(o),Promise.resolve()}catch(o){return Promise.reject(o)}}async isConnection(t,n){const o={};t.endsWith(".db")&&(t=t.slice(0,-3));const i=n?`RO_${t}`:`RW_${t}`;return o.result=this._connectionDict.has(i),Promise.resolve(o)}async retrieveConnection(t,n){t.endsWith(".db")&&(t=t.slice(0,-3));const o=n?`RO_${t}`:`RW_${t}`;if(this._connectionDict.has(o)){const i=this._connectionDict.get(o);return typeof i<"u"?Promise.resolve(i):Promise.reject(`Connection ${t} is undefined`)}else return Promise.reject(`Connection ${t} does not exist`)}async getNCDatabasePath(t,n){try{const o=await this.sqlite.getNCDatabasePath({path:t,database:n});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async createNCConnection(t,n){try{await this.sqlite.createNCConnection({databasePath:t,version:n});const o=new zp(t,!0,this.sqlite),i=`RO_${t})`;return this._connectionDict.set(i,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeNCConnection(t){try{await this.sqlite.closeNCConnection({databasePath:t});const n=`RO_${t})`;return this._connectionDict.delete(n),Promise.resolve()}catch(n){return Promise.reject(n)}}async isNCConnection(t){const n={},o=`RO_${t})`;return n.result=this._connectionDict.has(o),Promise.resolve(n)}async retrieveNCConnection(t){if(this._connectionDict.has(t)){const n=`RO_${t})`,o=this._connectionDict.get(n);return typeof o<"u"?Promise.resolve(o):Promise.reject(`Connection ${t} is undefined`)}else return Promise.reject(`Connection ${t} does not exist`)}async isNCDatabase(t){try{const n=await this.sqlite.isNCDatabase({databasePath:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const t=new Map;try{for(const n of this._connectionDict.keys()){const o=n.substring(3),i=n.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:o,readonly:i}),t.set(n,null)}for(const n of t.keys())this._connectionDict.delete(n);return Promise.resolve()}catch(n){return Promise.reject(n)}}async checkConnectionsConsistency(){try{const t=[...this._connectionDict.keys()],n=[],o=[];for(const s of t)n.push(s.substring(0,2)),o.push(s.substring(3));const i=await this.sqlite.checkConnectionsConsistency({dbNames:o,openModes:n});return i.result||(this._connectionDict=new Map),Promise.resolve(i)}catch(t){return this._connectionDict=new Map,Promise.reject(t)}}async importFromJson(t){try{const n=await this.sqlite.importFromJson({jsonstring:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async isJsonValid(t){try{const n=await this.sqlite.isJsonValid({jsonstring:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async copyFromAssets(t){const n=t??!0;try{return await this.sqlite.copyFromAssets({overwrite:n}),Promise.resolve()}catch(o){return Promise.reject(o)}}async getFromHTTPRequest(t,n){const o=n??!0;try{return await this.sqlite.getFromHTTPRequest({url:t,overwrite:o}),Promise.resolve()}catch(i){return Promise.reject(i)}}async isDatabaseEncrypted(t){t.endsWith(".db")&&(t=t.slice(0,-3));try{const n=await this.sqlite.isDatabaseEncrypted({database:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async isInConfigEncryption(){try{const t=await this.sqlite.isInConfigEncryption();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigBiometricAuth(){try{const t=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDatabase(t){t.endsWith(".db")&&(t=t.slice(0,-3));try{const n=await this.sqlite.isDatabase({database:t});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async getDatabaseList(){try{const n=(await this.sqlite.getDatabaseList()).values;n.sort();const o={values:n};return Promise.resolve(o)}catch(t){return Promise.reject(t)}}async getMigratableDbList(t){const n=t||"default";try{const o=await this.sqlite.getMigratableDbList({folderPath:n});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async addSQLiteSuffix(t,n){const o=t||"default",i=n||[];try{const s=await this.sqlite.addSQLiteSuffix({folderPath:o,dbNameList:i});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async deleteOldDatabases(t,n){const o=t||"default",i=n||[];try{const s=await this.sqlite.deleteOldDatabases({folderPath:o,dbNameList:i});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async moveDatabasesAndAddSuffix(t,n){const o=t||"default",i=n||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:o,dbNameList:i})}}class zp{constructor(t,n,o){this.dbName=t,this.readonly=n,this.sqlite=o}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async beginTransaction(){try{const t=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async commitTransaction(){try{const t=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async rollbackTransaction(){try{const t=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isTransactionActive(){try{const t=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async loadExtension(t){try{return await this.sqlite.loadExtension({database:this.dbName,path:t,readonly:this.readonly}),Promise.resolve()}catch(n){return Promise.reject(n)}}async enableLoadExtension(t){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:t,readonly:this.readonly}),Promise.resolve()}catch(n){return Promise.reject(n)}}async getUrl(){try{const t=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getVersion(){try{const t=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getTableList(){try{const t=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async execute(t,n=!0,o=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const i=await this.sqlite.execute({database:this.dbName,statements:t,transaction:n,readonly:!1,isSQL92:o});return Promise.resolve(i)}}catch(i){return Promise.reject(i)}}async query(t,n,o=!0){let i;try{return n&&n.length>0?i=await this.sqlite.query({database:this.dbName,statement:t,values:n,readonly:this.readonly,isSQL92:!0}):i=await this.sqlite.query({database:this.dbName,statement:t,values:[],readonly:this.readonly,isSQL92:o}),i=await this.reorderRows(i),Promise.resolve(i)}catch(s){return Promise.reject(s)}}async run(t,n,o=!0,i="no",s=!0){let l;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(n&&n.length>0?l=await this.sqlite.run({database:this.dbName,statement:t,values:n,transaction:o,readonly:!1,returnMode:i,isSQL92:!0}):l=await this.sqlite.run({database:this.dbName,statement:t,values:[],transaction:o,readonly:!1,returnMode:i,isSQL92:s}),l.changes=await this.reorderRows(l.changes),Promise.resolve(l))}catch(u){return Promise.reject(u)}}async executeSet(t,n=!0,o="no",i=!0){let s;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(s=await this.sqlite.executeSet({database:this.dbName,set:t,transaction:n,readonly:!1,returnMode:o,isSQL92:i}),s.changes=await this.reorderRows(s.changes),Promise.resolve(s))}catch(l){return Promise.reject(l)}}async isExists(){try{const t=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isTable(t){try{const n=await this.sqlite.isTableExists({database:this.dbName,table:t,readonly:this.readonly});return Promise.resolve(n)}catch(n){return Promise.reject(n)}}async isDBOpen(){try{const t=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const t=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(t)}}catch(t){return Promise.reject(t)}}async setSyncDate(t){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:t,readonly:!1}),Promise.resolve())}catch(n){return Promise.reject(n)}}async getSyncDate(){try{const t=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let n="";return t.syncDate>0&&(n=new Date(t.syncDate*1e3).toISOString()),Promise.resolve(n)}catch(t){return Promise.reject(t)}}async exportToJson(t,n=!1){try{const o=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:t,readonly:this.readonly,encrypted:n});return Promise.resolve(o)}catch(o){return Promise.reject(o)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async executeTransaction(t,n=!0){let o=0,i=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");if(await this.sqlite.beginTransaction({database:this.dbName}),i=await this.sqlite.isTransactionActive({database:this.dbName}),!i)return Promise.reject("After Begin Transaction, no transaction active");try{for(const u of t){if(typeof u!="object"||!("statement"in u))throw new Error("Error a task.statement must be provided");if("values"in u&&u.values&&u.values.length>0){const d=u.statement.toUpperCase().includes("RETURNING")?"all":"no",f=await this.sqlite.run({database:this.dbName,statement:u.statement,values:u.values,transaction:!1,readonly:!1,returnMode:d,isSQL92:n});if(f.changes.changes<0)throw new Error("Error in transaction method run ");o+=f.changes.changes}else{const d=await this.sqlite.execute({database:this.dbName,statements:u.statement,transaction:!1,readonly:!1});if(d.changes.changes<0)throw new Error("Error in transaction method execute ");o+=d.changes.changes}}const s=await this.sqlite.commitTransaction({database:this.dbName});o+=s.changes.changes;const l={changes:{changes:o}};return Promise.resolve(l)}catch(s){const l=s.message?s.message:s;return await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(l)}}async reorderRows(t){const n=t;if(t?.values&&typeof t.values[0]=="object"&&Object.keys(t.values[0]).includes("ios_columns")){const o=t.values[0].ios_columns,i=[];for(let s=1;s<t.values.length;s++){const l=t.values[s],u={};for(const d of o)u[d]=l[d];i.push(u)}n.values=i}return Promise.resolve(n)}}const q1=Lu("CapacitorSQLite",{web:()=>P_(()=>import("./web-RTq8SGmU.js"),[]).then(e=>new e.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite}),ul="landmark";class G1 extends T_{constructor(){super();Nn(this,"sqlite");Nn(this,"db",null);this.sqlite=new Z1(q1)}async initialize(){if(this.initialized)return;if(Fo.getPlatform()==="web")throw new Error("NativeDatabase should not be used on web platform");const o=await this.sqlite.checkConnectionsConsistency(),i=(await this.sqlite.isConnection(ul,!1)).result;o.result&&i?this.db=await this.sqlite.retrieveConnection(ul,!1):this.db=await this.sqlite.createConnection(ul,!1,"no-encryption",1,!1),await this.db.open(),await this.runMigrations(),this.initialized=!0}async execute(n,o){this.ensureInitialized();const i=await this.db.query(n,o);if(!i.values||i.values.length===0)return{columns:[],values:[]};const s=Object.keys(i.values[0]),l=i.values.map(u=>s.map(d=>u[d]));return{columns:s,values:l}}async run(n,o){this.ensureInitialized(),await this.db.run(n,o)}async exportDatabase(){this.ensureInitialized();const n=await this.db.exportToJson("full"),o=JSON.stringify(n.export);return new TextEncoder().encode(o)}async importDatabase(n){const i=new TextDecoder().decode(n),s=JSON.parse(i);await this.db.importFromJson(JSON.stringify(s)),await this.runMigrations()}async close(){this.db&&(await this.db.close(),await this.sqlite.closeConnection(ul,!1),this.db=null,this.initialized=!1)}async runMigrations(){await this.db.execute(`
      CREATE TABLE IF NOT EXISTS schema_version (
        version INTEGER PRIMARY KEY,
        applied_at TEXT NOT NULL DEFAULT (datetime('now')),
        description TEXT
      )
    `);const n=await this.db.query("SELECT MAX(version) as version FROM schema_version"),o=n.values&&n.values[0]&&n.values[0].version||0;for(const i of C_)i.version>o&&(console.log(`Applying migration ${i.version}: ${i.description}`),await this.db.execute(i.up),await this.db.run("INSERT INTO schema_version (version, description) VALUES (?, ?)",[i.version,i.description]))}}function V1(){return Fo.isNativePlatform()}let Ii=null;async function xo(){return Ii||(V1()?Ii=new G1:Ii=new M1,await Ii.initialize(),Ii)}function Ap(){return Ii}const $1={primary:"bg-primary-600 text-white hover:bg-primary-700 active:bg-primary-800",secondary:"bg-stone-100 text-stone-900 hover:bg-stone-200 active:bg-stone-300",ghost:"bg-transparent text-stone-700 hover:bg-stone-100 active:bg-stone-200",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800"},Y1={sm:"px-3 py-1.5 text-sm min-h-[36px]",md:"px-4 py-2 text-base min-h-touch",lg:"px-6 py-3 text-lg min-h-[52px]"},Wt=H.forwardRef(({variant:e="primary",size:t="md",isLoading:n=!1,leftIcon:o,rightIcon:i,children:s,className:l="",disabled:u,...d},f)=>E.jsxs("button",{ref:f,className:`
          inline-flex items-center justify-center gap-2
          font-medium rounded-lg
          transition-colors duration-150
          focus:outline-none focus-visible:ring-2 focus-visible:ring-primary-500 focus-visible:ring-offset-2
          disabled:opacity-50 disabled:cursor-not-allowed
          ${$1[e]}
          ${Y1[t]}
          ${l}
        `,disabled:u||n,...d,children:[n?E.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):o,s,!n&&i]}));Wt.displayName="Button";const dr=H.forwardRef(({label:e,error:t,helperText:n,className:o="",id:i,...s},l)=>{const u=i||e?.toLowerCase().replace(/\s+/g,"-");return E.jsxs("div",{className:"w-full",children:[e&&E.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-stone-700 mb-1",children:e}),E.jsx("input",{ref:l,id:u,className:`
            w-full px-3 py-2 min-h-touch
            bg-white border rounded-lg
            text-stone-900 placeholder-stone-400
            focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
            disabled:bg-stone-50 disabled:text-stone-500
            ${t?"border-red-500":"border-stone-300"}
            ${o}
          `,...s}),t&&E.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&E.jsx("p",{className:"mt-1 text-sm text-stone-500",children:n})]})});dr.displayName="Input";const Go=H.forwardRef(({label:e,error:t,helperText:n,className:o="",id:i,...s},l)=>{const u=i||e?.toLowerCase().replace(/\s+/g,"-");return E.jsxs("div",{className:"w-full",children:[e&&E.jsx("label",{htmlFor:u,className:"block text-sm font-medium text-stone-700 mb-1",children:e}),E.jsx("textarea",{ref:l,id:u,className:`
            w-full px-3 py-2 min-h-[88px]
            bg-white border rounded-lg
            text-stone-900 placeholder-stone-400
            focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500
            disabled:bg-stone-50 disabled:text-stone-500
            resize-y
            ${t?"border-red-500":"border-stone-300"}
            ${o}
          `,...s}),t&&E.jsx("p",{className:"mt-1 text-sm text-red-600",children:t}),n&&!t&&E.jsx("p",{className:"mt-1 text-sm text-stone-500",children:n})]})});Go.displayName="TextArea";const X1={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",full:"max-w-full mx-4"};function bo({isOpen:e,onClose:t,title:n,children:o,size:i="md",showCloseButton:s=!0}){const l=H.useRef(null),u=H.useRef(null);H.useEffect(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[e]),H.useEffect(()=>{function f(_){_.key==="Escape"&&e&&t()}return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[e,t]);function d(f){f.target===l.current&&t()}return e?yu.createPortal(E.jsx("div",{ref:l,onClick:d,className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 animate-fade-in",children:E.jsxs("div",{ref:u,className:`
          w-full ${X1[i]}
          bg-white rounded-t-2xl sm:rounded-2xl
          shadow-xl animate-slide-up
          max-h-[90vh] flex flex-col
          safe-bottom
        `,role:"dialog","aria-modal":"true","aria-labelledby":n?"modal-title":void 0,children:[(n||s)&&E.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-stone-200",children:[n&&E.jsx("h2",{id:"modal-title",className:"text-lg font-semibold text-stone-900",children:n}),s&&E.jsx("button",{onClick:t,className:"p-2 -mr-2 text-stone-500 hover:text-stone-700 hover:bg-stone-100 rounded-full transition-colors min-h-touch min-w-touch flex items-center justify-center","aria-label":"Close",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),E.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:o})]})}),document.body):null}function Q1({isOpen:e,onClose:t,onConfirm:n,title:o,message:i,confirmText:s="Confirm",cancelText:l="Cancel",variant:u="danger",isLoading:d=!1}){const f={danger:"bg-red-600 hover:bg-red-700 text-white",warning:"bg-amber-600 hover:bg-amber-700 text-white",info:"bg-primary-600 hover:bg-primary-700 text-white"};return E.jsxs(bo,{isOpen:e,onClose:t,title:o,size:"sm",children:[E.jsx("p",{className:"text-stone-600 mb-6",children:i}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:t,disabled:d,className:"flex-1 px-4 py-2 min-h-touch bg-stone-100 text-stone-700 rounded-lg font-medium hover:bg-stone-200 transition-colors",children:l}),E.jsx("button",{onClick:n,disabled:d,className:`flex-1 px-4 py-2 min-h-touch rounded-lg font-medium transition-colors ${f[u]}`,children:d?"Loading...":s})]})]})}const K1=H.createContext(null);function J1({children:e}){const[t,n]=H.useState([]),o=H.useCallback((s,l,u=3e3)=>{const d=Math.random().toString(36).substring(2,9);n(f=>[...f,{id:d,type:s,message:l,duration:u}])},[]),i=H.useCallback(s=>{n(l=>l.filter(u=>u.id!==s))},[]);return E.jsxs(K1.Provider,{value:{showToast:o,hideToast:i},children:[e,yu.createPortal(E.jsx("div",{className:"fixed bottom-20 left-4 right-4 z-50 flex flex-col gap-2 pointer-events-none",children:t.map(s=>E.jsx(ex,{toast:s,onClose:()=>i(s.id)},s.id))}),document.body)]})}function ex({toast:e,onClose:t}){H.useEffect(()=>{if(e.duration&&e.duration>0){const i=setTimeout(t,e.duration);return()=>clearTimeout(i)}},[e.duration,t]);const n={success:"bg-green-600 text-white",error:"bg-red-600 text-white",warning:"bg-amber-500 text-white",info:"bg-blue-600 text-white"},o={success:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),error:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),warning:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),info:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})};return E.jsxs("div",{className:`
        flex items-center gap-3 px-4 py-3 rounded-lg shadow-lg
        animate-slide-up pointer-events-auto
        ${n[e.type]}
      `,children:[o[e.type],E.jsx("span",{className:"flex-1 text-sm font-medium",children:e.message}),E.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded transition-colors","aria-label":"Close",children:E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}const tx={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};function ku({size:e="md",className:t=""}){return E.jsxs("svg",{className:`animate-spin text-primary-600 ${tx[e]} ${t}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function nx({message:e="Loading..."}){return E.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm",children:[E.jsx(ku,{size:"lg"}),E.jsx("p",{className:"mt-4 text-stone-600 font-medium",children:e})]})}function O_(e,t){const n=H.useRef(t);H.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function D_(e,t,n){t.center!==n.center&&e.setLatLng(t.center),t.radius!=null&&t.radius!==n.radius&&e.setRadius(t.radius)}const rx=1;function ix(e){return Object.freeze({__version:rx,map:e})}function ma(e,t){return Object.freeze({...e,...t})}const I_=H.createContext(null),z_=I_.Provider;function va(){const e=H.useContext(I_);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function A_(e){function t(n,o){const{instance:i,context:s}=e(n).current;return H.useImperativeHandle(o,()=>i),n.children==null?null:Po.createElement(z_,{value:s},n.children)}return H.forwardRef(t)}function ox(e){function t(n,o){const[i,s]=H.useState(!1),{instance:l}=e(n,s).current;H.useImperativeHandle(o,()=>l),H.useEffect(function(){i&&l.update()},[l,i,n.children]);const u=l._contentNode;return u?yu.createPortal(n.children,u):null}return H.forwardRef(t)}function R_(e){function t(n,o){const{instance:i}=e(n).current;return H.useImperativeHandle(o,()=>i),null}return H.forwardRef(t)}function sx(e){return function(n){const o=va(),i=e(n,o),{instance:s}=i.current,l=H.useRef(n.position),{position:u}=n;return H.useEffect(function(){return s.addTo(o.map),function(){s.remove()}},[o.map,s]),H.useEffect(function(){u!=null&&u!==l.current&&(s.setPosition(u),l.current=u)},[s,u]),i}}function Oh(e,t){const n=H.useRef();H.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Eu(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function ax(e,t){return function(o,i){const s=va(),l=e(Eu(o,s),s);return O_(s.map,o.attribution),Oh(l.current,o.eventHandlers),t(l.current,s,o,i),l}}var Pd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,o){o(t)})(Cs,function(n){var o="1.9.4";function i(r){var a,c,p,x;for(c=1,p=arguments.length;c<p;c++){x=arguments[c];for(a in x)r[a]=x[a]}return r}var s=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var c=Array.prototype.slice;if(r.bind)return r.bind.apply(r,c.call(arguments,1));var p=c.call(arguments,2);return function(){return r.apply(a,p.length?p.concat(c.call(arguments)):arguments)}}var u=0;function d(r){return"_leaflet_id"in r||(r._leaflet_id=++u),r._leaflet_id}function f(r,a,c){var p,x,O,B;return B=function(){p=!1,x&&(O.apply(c,x),x=!1)},O=function(){p?x=arguments:(r.apply(c,arguments),setTimeout(B,a),p=!0)},O}function _(r,a,c){var p=a[1],x=a[0],O=p-x;return r===p&&c?r:((r-x)%O+O)%O+x}function m(){return!1}function w(r,a){if(a===!1)return r;var c=Math.pow(10,a===void 0?6:a);return Math.round(r*c)/c}function b(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function P(r){return b(r).split(/\s+/)}function k(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?s(r.options):{});for(var c in a)r.options[c]=a[c];return r.options}function M(r,a,c){var p=[];for(var x in r)p.push(encodeURIComponent(c?x.toUpperCase():x)+"="+encodeURIComponent(r[x]));return(!a||a.indexOf("?")===-1?"?":"&")+p.join("&")}var g=/\{ *([\w_ -]+) *\}/g;function y(r,a){return r.replace(g,function(c,p){var x=a[p];if(x===void 0)throw new Error("No value provided for variable "+c);return typeof x=="function"&&(x=x(a)),x})}var T=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function I(r,a){for(var c=0;c<r.length;c++)if(r[c]===a)return c;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function q(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var U=0;function V(r){var a=+new Date,c=Math.max(0,16-(a-U));return U=a+c,window.setTimeout(r,c)}var $=window.requestAnimationFrame||q("RequestAnimationFrame")||V,ne=window.cancelAnimationFrame||q("CancelAnimationFrame")||q("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function se(r,a,c){if(c&&$===V)r.call(a);else return $.call(window,l(r,a))}function j(r){r&&ne.call(window,r)}var X={__proto__:null,extend:i,create:s,bind:l,get lastId(){return u},stamp:d,throttle:f,wrapNum:_,falseFn:m,formatNum:w,trim:b,splitWords:P,setOptions:k,getParamString:M,template:y,isArray:T,indexOf:I,emptyImageUrl:z,requestFn:$,cancelFn:ne,requestAnimFrame:se,cancelAnimFrame:j};function N(){}N.extend=function(r){var a=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},c=a.__super__=this.prototype,p=s(c);p.constructor=a,a.prototype=p;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(a[x]=this[x]);return r.statics&&i(a,r.statics),r.includes&&(ue(r.includes),i.apply(null,[p].concat(r.includes))),i(p,r),delete p.statics,delete p.includes,p.options&&(p.options=c.options?s(c.options):{},i(p.options,r.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){c.callInitHooks&&c.callInitHooks.call(this),this._initHooksCalled=!0;for(var O=0,B=p._initHooks.length;O<B;O++)p._initHooks[O].call(this)}},a},N.include=function(r){var a=this.prototype.options;return i(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},N.mergeOptions=function(r){return i(this.prototype.options,r),this},N.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),c=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(c),this};function ue(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=T(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xe={on:function(r,a,c){if(typeof r=="object")for(var p in r)this._on(p,r[p],a);else{r=P(r);for(var x=0,O=r.length;x<O;x++)this._on(r[x],a,c)}return this},off:function(r,a,c){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var p in r)this._off(p,r[p],a);else{r=P(r);for(var x=arguments.length===1,O=0,B=r.length;O<B;O++)x?this._off(r[O]):this._off(r[O],a,c)}return this},_on:function(r,a,c,p){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,c)===!1){c===this&&(c=void 0);var x={fn:a,ctx:c};p&&(x.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(x)}},_off:function(r,a,c){var p,x,O;if(this._events&&(p=this._events[r],!!p)){if(arguments.length===1){if(this._firingCount)for(x=0,O=p.length;x<O;x++)p[x].fn=m;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var B=this._listens(r,a,c);if(B!==!1){var K=p[B];this._firingCount&&(K.fn=m,this._events[r]=p=p.slice()),p.splice(B,1)}}},fire:function(r,a,c){if(!this.listens(r,c))return this;var p=i({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var x=this._events[r];if(x){this._firingCount=this._firingCount+1||1;for(var O=0,B=x.length;O<B;O++){var K=x[O],oe=K.fn;K.once&&this.off(r,oe,K.ctx),oe.call(K.ctx||this,p)}this._firingCount--}}return c&&this._propagateEvent(p),this},listens:function(r,a,c,p){typeof r!="string"&&console.warn('"string" type argument expected');var x=a;typeof a!="function"&&(p=!!a,x=void 0,c=void 0);var O=this._events&&this._events[r];if(O&&O.length&&this._listens(r,x,c)!==!1)return!0;if(p){for(var B in this._eventParents)if(this._eventParents[B].listens(r,a,c,p))return!0}return!1},_listens:function(r,a,c){if(!this._events)return!1;var p=this._events[r]||[];if(!a)return!!p.length;c===this&&(c=void 0);for(var x=0,O=p.length;x<O;x++)if(p[x].fn===a&&p[x].ctx===c)return x;return!1},once:function(r,a,c){if(typeof r=="object")for(var p in r)this._on(p,r[p],a,!0);else{r=P(r);for(var x=0,O=r.length;x<O;x++)this._on(r[x],a,c,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[d(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[d(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,i({layer:r.target,propagatedFrom:r.target},r),!0)}};xe.addEventListener=xe.on,xe.removeEventListener=xe.clearAllEventListeners=xe.off,xe.addOneTimeEventListener=xe.once,xe.fireEvent=xe.fire,xe.hasEventListeners=xe.listens;var de=N.extend(xe);function J(r,a,c){this.x=c?Math.round(r):r,this.y=c?Math.round(a):a}var ie=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(r){return this.clone()._add(Q(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(Q(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new J(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new J(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ie(this.x),this.y=ie(this.y),this},distanceTo:function(r){r=Q(r);var a=r.x-this.x,c=r.y-this.y;return Math.sqrt(a*a+c*c)},equals:function(r){return r=Q(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=Q(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function Q(r,a,c){return r instanceof J?r:T(r)?new J(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new J(r.x,r.y):new J(r,a,c)}function W(r,a){if(r)for(var c=a?[r,a]:r,p=0,x=c.length;p<x;p++)this.extend(c[p])}W.prototype={extend:function(r){var a,c;if(!r)return this;if(r instanceof J||typeof r[0]=="number"||"x"in r)a=c=Q(r);else if(r=Z(r),a=r.min,c=r.max,!a||!c)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=c.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)),this},getCenter:function(r){return Q((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return Q(this.min.x,this.max.y)},getTopRight:function(){return Q(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,c;return typeof r[0]=="number"||r instanceof J?r=Q(r):r=Z(r),r instanceof W?(a=r.min,c=r.max):a=c=r,a.x>=this.min.x&&c.x<=this.max.x&&a.y>=this.min.y&&c.y<=this.max.y},intersects:function(r){r=Z(r);var a=this.min,c=this.max,p=r.min,x=r.max,O=x.x>=a.x&&p.x<=c.x,B=x.y>=a.y&&p.y<=c.y;return O&&B},overlaps:function(r){r=Z(r);var a=this.min,c=this.max,p=r.min,x=r.max,O=x.x>a.x&&p.x<c.x,B=x.y>a.y&&p.y<c.y;return O&&B},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,c=this.max,p=Math.abs(a.x-c.x)*r,x=Math.abs(a.y-c.y)*r;return Z(Q(a.x-p,a.y-x),Q(c.x+p,c.y+x))},equals:function(r){return r?(r=Z(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function Z(r,a){return!r||r instanceof W?r:new W(r,a)}function we(r,a){if(r)for(var c=a?[r,a]:r,p=0,x=c.length;p<x;p++)this.extend(c[p])}we.prototype={extend:function(r){var a=this._southWest,c=this._northEast,p,x;if(r instanceof le)p=r,x=r;else if(r instanceof we){if(p=r._southWest,x=r._northEast,!p||!x)return this}else return r?this.extend(Le(r)||me(r)):this;return!a&&!c?(this._southWest=new le(p.lat,p.lng),this._northEast=new le(x.lat,x.lng)):(a.lat=Math.min(p.lat,a.lat),a.lng=Math.min(p.lng,a.lng),c.lat=Math.max(x.lat,c.lat),c.lng=Math.max(x.lng,c.lng)),this},pad:function(r){var a=this._southWest,c=this._northEast,p=Math.abs(a.lat-c.lat)*r,x=Math.abs(a.lng-c.lng)*r;return new we(new le(a.lat-p,a.lng-x),new le(c.lat+p,c.lng+x))},getCenter:function(){return new le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new le(this.getNorth(),this.getWest())},getSouthEast:function(){return new le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof le||"lat"in r?r=Le(r):r=me(r);var a=this._southWest,c=this._northEast,p,x;return r instanceof we?(p=r.getSouthWest(),x=r.getNorthEast()):p=x=r,p.lat>=a.lat&&x.lat<=c.lat&&p.lng>=a.lng&&x.lng<=c.lng},intersects:function(r){r=me(r);var a=this._southWest,c=this._northEast,p=r.getSouthWest(),x=r.getNorthEast(),O=x.lat>=a.lat&&p.lat<=c.lat,B=x.lng>=a.lng&&p.lng<=c.lng;return O&&B},overlaps:function(r){r=me(r);var a=this._southWest,c=this._northEast,p=r.getSouthWest(),x=r.getNorthEast(),O=x.lat>a.lat&&p.lat<c.lat,B=x.lng>a.lng&&p.lng<c.lng;return O&&B},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=me(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function me(r,a){return r instanceof we?r:new we(r,a)}function le(r,a,c){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,c!==void 0&&(this.alt=+c)}le.prototype={equals:function(r,a){if(!r)return!1;r=Le(r);var c=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return c<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+w(this.lat,r)+", "+w(this.lng,r)+")"},distanceTo:function(r){return Ae.distance(this,Le(r))},wrap:function(){return Ae.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,c=a/Math.cos(Math.PI/180*this.lat);return me([this.lat-a,this.lng-c],[this.lat+a,this.lng+c])},clone:function(){return new le(this.lat,this.lng,this.alt)}};function Le(r,a,c){return r instanceof le?r:T(r)&&typeof r[0]!="object"?r.length===3?new le(r[0],r[1],r[2]):r.length===2?new le(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new le(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new le(r,a,c)}var Ue={latLngToPoint:function(r,a){var c=this.projection.project(r),p=this.scale(a);return this.transformation._transform(c,p)},pointToLatLng:function(r,a){var c=this.scale(a),p=this.transformation.untransform(r,c);return this.projection.unproject(p)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,c=this.scale(r),p=this.transformation.transform(a.min,c),x=this.transformation.transform(a.max,c);return new W(p,x)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?_(r.lng,this.wrapLng,!0):r.lng,c=this.wrapLat?_(r.lat,this.wrapLat,!0):r.lat,p=r.alt;return new le(c,a,p)},wrapLatLngBounds:function(r){var a=r.getCenter(),c=this.wrapLatLng(a),p=a.lat-c.lat,x=a.lng-c.lng;if(p===0&&x===0)return r;var O=r.getSouthWest(),B=r.getNorthEast(),K=new le(O.lat-p,O.lng-x),oe=new le(B.lat-p,B.lng-x);return new we(K,oe)}},Ae=i({},Ue,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var c=Math.PI/180,p=r.lat*c,x=a.lat*c,O=Math.sin((a.lat-r.lat)*c/2),B=Math.sin((a.lng-r.lng)*c/2),K=O*O+Math.cos(p)*Math.cos(x)*B*B,oe=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*oe}}),Ve=6378137,lt={R:Ve,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,c=this.MAX_LATITUDE,p=Math.max(Math.min(c,r.lat),-c),x=Math.sin(p*a);return new J(this.R*r.lng*a,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(r){var a=180/Math.PI;return new le((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=Ve*Math.PI;return new W([-r,-r],[r,r])}()};function tt(r,a,c,p){if(T(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=c,this._d=p}tt.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new J((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function nt(r,a,c,p){return new tt(r,a,c,p)}var Et=i({},Ae,{code:"EPSG:3857",projection:lt,transformation:function(){var r=.5/(Math.PI*lt.R);return nt(r,.5,-r,.5)}()}),S=i({},Et,{code:"EPSG:900913"});function ce(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function te(r,a){var c="",p,x,O,B,K,oe;for(p=0,O=r.length;p<O;p++){for(K=r[p],x=0,B=K.length;x<B;x++)oe=K[x],c+=(x?"L":"M")+oe.x+" "+oe.y;c+=a?Ce.svg?"z":"x":""}return c||"M0 0"}var R=document.documentElement.style,A="ActiveXObject"in window,G=A&&!document.addEventListener,he="msLaunchUri"in navigator&&!("documentMode"in document),pe=hn("webkit"),re=hn("android"),ge=hn("android 2")||hn("android 3"),ke=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ye=re&&hn("Google")&&ke<537&&!("AudioNode"in window),Pe=!!window.opera,He=!he&&hn("chrome"),We=hn("gecko")&&!pe&&!Pe&&!A,Ot=!He&&hn("safari"),Fn=hn("phantom"),Zt="OTransition"in R,fr=navigator.platform.indexOf("Win")===0,rt=A&&"transition"in R,De="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ge,pr="MozPerspective"in R,qt=!window.L_DISABLE_3D&&(rt||De||pr)&&!Zt&&!Fn,Bn=typeof orientation<"u"||hn("mobile"),Kn=Bn&&pe,$o=Bn&&De,dn=!window.PointerEvent&&window.MSPointerEvent,Fr=!!(window.PointerEvent||dn),Un="ontouchstart"in window||!!window.TouchEvent,mr=!window.L_NO_TOUCH&&(Un||Fr),be=Bn&&Pe,Mu=Bn&&We,Nu=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Kt=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",m,a),window.removeEventListener("testPassiveEventSupport",m,a)}catch{}return r}(),Yo=function(){return!!document.createElement("canvas").getContext}(),ki=!!(document.createElementNS&&ce("svg").createSVGRect),Xo=!!ki&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),vr=!ki&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),xa=navigator.platform.indexOf("Mac")===0,jt=navigator.platform.indexOf("Linux")===0;function hn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Ce={ie:A,ielt9:G,edge:he,webkit:pe,android:re,android23:ge,androidStock:ye,opera:Pe,chrome:He,gecko:We,safari:Ot,phantom:Fn,opera12:Zt,win:fr,ie3d:rt,webkit3d:De,gecko3d:pr,any3d:qt,mobile:Bn,mobileWebkit:Kn,mobileWebkit3d:$o,msPointer:dn,pointer:Fr,touch:mr,touchNative:Un,mobileOpera:be,mobileGecko:Mu,retina:Nu,passiveEvents:Kt,canvas:Yo,svg:ki,vml:vr,inlineSvg:Xo,mac:xa,linux:jt},Qo=Ce.msPointer?"MSPointerDown":"pointerdown",Ko=Ce.msPointer?"MSPointerMove":"pointermove",Ei=Ce.msPointer?"MSPointerUp":"pointerup",Ct=Ce.msPointer?"MSPointerCancel":"pointercancel",$i={touchstart:Qo,touchmove:Ko,touchend:Ei,touchcancel:Ct},ba={touchstart:Ea,touchmove:Br,touchend:Br,touchcancel:Br},Jn={},La=!1;function Jo(r,a,c){return a==="touchstart"&&Xi(),ba[a]?(c=ba[a].bind(this,c),r.addEventListener($i[a],c,!1),c):(console.warn("wrong event specified:",a),m)}function ka(r,a,c){if(!$i[a]){console.warn("wrong event specified:",a);return}r.removeEventListener($i[a],c,!1)}function Yi(r){Jn[r.pointerId]=r}function Ou(r){Jn[r.pointerId]&&(Jn[r.pointerId]=r)}function fn(r){delete Jn[r.pointerId]}function Xi(){La||(document.addEventListener(Qo,Yi,!0),document.addEventListener(Ko,Ou,!0),document.addEventListener(Ei,fn,!0),document.addEventListener(Ct,fn,!0),La=!0)}function Br(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var c in Jn)a.touches.push(Jn[c]);a.changedTouches=[a],r(a)}}function Ea(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&D(a),Br(r,a)}function Sa(r){var a={},c,p;for(p in r)c=r[p],a[p]=c&&c.bind?c.bind(r):c;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Si=200;function Ta(r,a){r.addEventListener("dblclick",a);var c=0,p;function x(O){if(O.detail!==1){p=O.detail;return}if(!(O.pointerType==="mouse"||O.sourceCapabilities&&!O.sourceCapabilities.firesTouchEvents)){var B=ee(O);if(!(B.some(function(oe){return oe instanceof HTMLLabelElement&&oe.attributes.for})&&!B.some(function(oe){return oe instanceof HTMLInputElement||oe instanceof HTMLSelectElement}))){var K=Date.now();K-c<=Si?(p++,p===2&&a(Sa(O))):p=1,c=K}}}return r.addEventListener("click",x),{dblclick:a,simDblclick:x}}function Qi(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var Ki=Pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tn=Pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ji=Tn==="webkitTransition"||Tn==="OTransition"?Tn+"End":"transitionend";function es(r){return typeof r=="string"?document.getElementById(r):r}function Ur(r,a){var c=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!c||c==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(r,null);c=p?p[a]:null}return c==="auto"?null:c}function $e(r,a,c){var p=document.createElement(r);return p.className=a||"",c&&c.appendChild(p),p}function ut(r){var a=r.parentNode;a&&a.removeChild(r)}function pn(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Xe(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function Jt(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function Wr(r,a){if(r.classList!==void 0)return r.classList.contains(a);var c=eo(r);return c.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(c)}function Re(r,a){if(r.classList!==void 0)for(var c=P(a),p=0,x=c.length;p<x;p++)r.classList.add(c[p]);else if(!Wr(r,a)){var O=eo(r);Ti(r,(O?O+" ":"")+a)}}function it(r,a){r.classList!==void 0?r.classList.remove(a):Ti(r,b((" "+eo(r)+" ").replace(" "+a+" "," ")))}function Ti(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function eo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function en(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&Ci(r,a)}function Ci(r,a){var c=!1,p="DXImageTransform.Microsoft.Alpha";try{c=r.filters.item(p)}catch{if(a===1)return}a=Math.round(a*100),c?(c.Enabled=a!==100,c.Opacity=a):r.style.filter+=" progid:"+p+"(opacity="+a+")"}function Pi(r){for(var a=document.documentElement.style,c=0;c<r.length;c++)if(r[c]in a)return r[c];return!1}function _r(r,a,c){var p=a||new J(0,0);r.style[Ki]=(Ce.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(c?" scale("+c+")":"")}function ht(r,a){r._leaflet_pos=a,Ce.any3d?_r(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function er(r){return r._leaflet_pos||new J(0,0)}var gr,yr,ts;if("onselectstart"in document)gr=function(){ze(window,"selectstart",D)},yr=function(){Ke(window,"selectstart",D)};else{var tr=Pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);gr=function(){if(tr){var r=document.documentElement.style;ts=r[tr],r[tr]="none"}},yr=function(){tr&&(document.documentElement.style[tr]=ts,ts=void 0)}}function Hr(){ze(window,"dragstart",D)}function Wn(){Ke(window,"dragstart",D)}var Zr,mn;function Cn(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(nr(),Zr=r,mn=r.style.outlineStyle,r.style.outlineStyle="none",ze(window,"keydown",nr))}function nr(){Zr&&(Zr.style.outlineStyle=mn,Zr=void 0,mn=void 0,Ke(window,"keydown",nr))}function Ca(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Me(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var ns={__proto__:null,TRANSFORM:Ki,TRANSITION:Tn,TRANSITION_END:Ji,get:es,getStyle:Ur,create:$e,remove:ut,empty:pn,toFront:Xe,toBack:Jt,hasClass:Wr,addClass:Re,removeClass:it,setClass:Ti,getClass:eo,setOpacity:en,testProp:Pi,setTransform:_r,setPosition:ht,getPosition:er,get disableTextSelection(){return gr},get enableTextSelection(){return yr},disableImageDrag:Hr,enableImageDrag:Wn,preventOutline:Cn,restoreOutline:nr,getSizedParentNode:Ca,getScale:Me};function ze(r,a,c,p){if(a&&typeof a=="object")for(var x in a)wr(r,x,a[x],c);else{a=P(a);for(var O=0,B=a.length;O<B;O++)wr(r,a[O],c,p)}return this}var vn="_leaflet_events";function Ke(r,a,c,p){if(arguments.length===1)qr(r),delete r[vn];else if(a&&typeof a=="object")for(var x in a)Mi(r,x,a[x],c);else if(a=P(a),arguments.length===2)qr(r,function(K){return I(a,K)!==-1});else for(var O=0,B=a.length;O<B;O++)Mi(r,a[O],c,p);return this}function qr(r,a){for(var c in r[vn]){var p=c.split(/\d/)[0];(!a||a(p))&&Mi(r,p,null,null,c)}}var Pn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function wr(r,a,c,p){var x=a+d(c)+(p?"_"+d(p):"");if(r[vn]&&r[vn][x])return this;var O=function(K){return c.call(p||r,K||window.event)},B=O;!Ce.touchNative&&Ce.pointer&&a.indexOf("touch")===0?O=Jo(r,a,O):Ce.touch&&a==="dblclick"?O=Ta(r,O):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Pn[a]||a,O,Ce.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(O=function(K){K=K||window.event,Fe(r,K)&&B(K)},r.addEventListener(Pn[a],O,!1)):r.addEventListener(a,B,!1):r.attachEvent("on"+a,O),r[vn]=r[vn]||{},r[vn][x]=O}function Mi(r,a,c,p,x){x=x||a+d(c)+(p?"_"+d(p):"");var O=r[vn]&&r[vn][x];if(!O)return this;!Ce.touchNative&&Ce.pointer&&a.indexOf("touch")===0?ka(r,a,O):Ce.touch&&a==="dblclick"?Qi(r,O):"removeEventListener"in r?r.removeEventListener(Pn[a]||a,O,!1):r.detachEvent("on"+a,O),r[vn][x]=null}function h(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function v(r){return wr(r,"wheel",h),this}function C(r){return ze(r,"mousedown touchstart dblclick contextmenu",h),r._leaflet_disable_click=!0,this}function D(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function F(r){return D(r),h(r),this}function ee(r){if(r.composedPath)return r.composedPath();for(var a=[],c=r.target;c;)a.push(c),c=c.parentNode;return a}function ae(r,a){if(!a)return new J(r.clientX,r.clientY);var c=Me(a),p=c.boundingClientRect;return new J((r.clientX-p.left)/c.x-a.clientLeft,(r.clientY-p.top)/c.y-a.clientTop)}var Ne=Ce.linux&&Ce.chrome?window.devicePixelRatio:Ce.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Be(r){return Ce.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Ne:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Fe(r,a){var c=a.relatedTarget;if(!c)return!0;try{for(;c&&c!==r;)c=c.parentNode}catch{return!1}return c!==r}var ft={__proto__:null,on:ze,off:Ke,stopPropagation:h,disableScrollPropagation:v,disableClickPropagation:C,preventDefault:D,stop:F,getPropagationPath:ee,getMousePosition:ae,getWheelDelta:Be,isExternalTarget:Fe,addListener:ze,removeListener:Ke},Dt=de.extend({run:function(r,a,c,p){this.stop(),this._el=r,this._inProgress=!0,this._duration=c||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=er(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=se(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,c=this._duration*1e3;a<c?this._runFrame(this._easeOut(a/c),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var c=this._startPos.add(this._offset.multiplyBy(r));a&&c._round(),ht(this._el,c),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),qe=de.extend({options:{crs:Et,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=k(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Le(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tn&&Ce.any3d&&!Ce.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ze(this._proxy,Ji,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,c){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(Le(r),a,this.options.maxBounds),c=c||{},this._stop(),this._loaded&&!c.reset&&c!==!0){c.animate!==void 0&&(c.zoom=i({animate:c.animate},c.zoom),c.pan=i({animate:c.animate,duration:c.duration},c.pan));var p=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,c.zoom):this._tryAnimatedPan(r,c.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,c.pan&&c.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(Ce.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,c){var p=this.getZoomScale(a),x=this.getSize().divideBy(2),O=r instanceof J?r:this.latLngToContainerPoint(r),B=O.subtract(x).multiplyBy(1-1/p),K=this.containerPointToLatLng(x.add(B));return this.setView(K,a,{zoom:c})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():me(r);var c=Q(a.paddingTopLeft||a.padding||[0,0]),p=Q(a.paddingBottomRight||a.padding||[0,0]),x=this.getBoundsZoom(r,!1,c.add(p));if(x=typeof a.maxZoom=="number"?Math.min(a.maxZoom,x):x,x===1/0)return{center:r.getCenter(),zoom:x};var O=p.subtract(c).divideBy(2),B=this.project(r.getSouthWest(),x),K=this.project(r.getNorthEast(),x),oe=this.unproject(B.add(K).divideBy(2).add(O),x);return{center:oe,zoom:x}},fitBounds:function(r,a){if(r=me(r),!r.isValid())throw new Error("Bounds are not valid.");var c=this._getBoundsCenterZoom(r,a);return this.setView(c.center,c.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=Q(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Dt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Re(this._mapPane,"leaflet-pan-anim");var c=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,c,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,c){if(c=c||{},c.animate===!1||!Ce.any3d)return this.setView(r,a,c);this._stop();var p=this.project(this.getCenter()),x=this.project(r),O=this.getSize(),B=this._zoom;r=Le(r),a=a===void 0?B:a;var K=Math.max(O.x,O.y),oe=K*this.getZoomScale(B,a),ve=x.distanceTo(p)||1,Ee=1.42,Ie=Ee*Ee;function Ze(Lt){var qa=Lt?-1:1,jg=Lt?oe:K,Fg=oe*oe-K*K+qa*Ie*Ie*ve*ve,Bg=2*jg*Ie*ve,Yu=Fg/Bg,df=Math.sqrt(Yu*Yu+1)-Yu,Ug=df<1e-9?-18:Math.log(df);return Ug}function Vt(Lt){return(Math.exp(Lt)-Math.exp(-Lt))/2}function Pt(Lt){return(Math.exp(Lt)+Math.exp(-Lt))/2}function Mn(Lt){return Vt(Lt)/Pt(Lt)}var nn=Ze(0);function oo(Lt){return K*(Pt(nn)/Pt(nn+Ee*Lt))}function Ig(Lt){return K*(Pt(nn)*Mn(nn+Ee*Lt)-Vt(nn))/Ie}function zg(Lt){return 1-Math.pow(1-Lt,1.5)}var Ag=Date.now(),uf=(Ze(1)-nn)/Ee,Rg=c.duration?1e3*c.duration:1e3*uf*.8;function cf(){var Lt=(Date.now()-Ag)/Rg,qa=zg(Lt)*uf;Lt<=1?(this._flyToFrame=se(cf,this),this._move(this.unproject(p.add(x.subtract(p).multiplyBy(Ig(qa)/ve)),B),this.getScaleZoom(K/oo(qa),B),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,c.noMoveStart),cf.call(this),this},flyToBounds:function(r,a){var c=this._getBoundsCenterZoom(r,a);return this.flyTo(c.center,c.zoom,a)},setMaxBounds:function(r){return r=me(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var c=this.getCenter(),p=this._limitCenter(c,this._zoom,me(r));return c.equals(p)||this.panTo(p,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var c=Q(a.paddingTopLeft||a.padding||[0,0]),p=Q(a.paddingBottomRight||a.padding||[0,0]),x=this.project(this.getCenter()),O=this.project(r),B=this.getPixelBounds(),K=Z([B.min.add(c),B.max.subtract(p)]),oe=K.getSize();if(!K.contains(O)){this._enforcingBounds=!0;var ve=O.subtract(K.getCenter()),Ee=K.extend(O).getSize().subtract(oe);x.x+=ve.x<0?-Ee.x:Ee.x,x.y+=ve.y<0?-Ee.y:Ee.y,this.panTo(this.unproject(x),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=i({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var c=this.getSize(),p=a.divideBy(2).round(),x=c.divideBy(2).round(),O=p.subtract(x);return!O.x&&!O.y?this:(r.animate&&r.pan?this.panBy(O):(r.pan&&this._rawPanBy(O),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:c}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=i({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),c=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,c,r):navigator.geolocation.getCurrentPosition(a,c,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,c=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+c+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,c=r.coords.longitude,p=new le(a,c),x=p.toBounds(r.coords.accuracy*2),O=this._locateOptions;if(O.setView){var B=this.getBoundsZoom(x);this.setView(p,O.maxZoom?Math.min(B,O.maxZoom):B)}var K={latlng:p,bounds:x,timestamp:r.timestamp};for(var oe in r.coords)typeof r.coords[oe]=="number"&&(K[oe]=r.coords[oe]);this.fire("locationfound",K)}},addHandler:function(r,a){if(!a)return this;var c=this[r]=new a(this);return this._handlers.push(c),this.options[r]&&c.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ut(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ut(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var c="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),p=$e("div",c,a||this._mapPane);return r&&(this._panes[r]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),c=this.unproject(r.getTopRight());return new we(a,c)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,c){r=me(r),c=Q(c||[0,0]);var p=this.getZoom()||0,x=this.getMinZoom(),O=this.getMaxZoom(),B=r.getNorthWest(),K=r.getSouthEast(),oe=this.getSize().subtract(c),ve=Z(this.project(K,p),this.project(B,p)).getSize(),Ee=Ce.any3d?this.options.zoomSnap:1,Ie=oe.x/ve.x,Ze=oe.y/ve.y,Vt=a?Math.max(Ie,Ze):Math.min(Ie,Ze);return p=this.getScaleZoom(Vt,p),Ee&&(p=Math.round(p/(Ee/100))*(Ee/100),p=a?Math.ceil(p/Ee)*Ee:Math.floor(p/Ee)*Ee),Math.max(x,Math.min(O,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var c=this._getTopLeftPoint(r,a);return new W(c,c.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var c=this.options.crs;return a=a===void 0?this._zoom:a,c.scale(r)/c.scale(a)},getScaleZoom:function(r,a){var c=this.options.crs;a=a===void 0?this._zoom:a;var p=c.zoom(r*c.scale(a));return isNaN(p)?1/0:p},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Le(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(Q(r),a)},layerPointToLatLng:function(r){var a=Q(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(Le(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(Le(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(me(r))},distance:function(r,a){return this.options.crs.distance(Le(r),Le(a))},containerPointToLayerPoint:function(r){return Q(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return Q(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(Q(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Le(r)))},mouseEventToContainerPoint:function(r){return ae(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=es(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ze(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ce.any3d,Re(r,"leaflet-container"+(Ce.touch?" leaflet-touch":"")+(Ce.retina?" leaflet-retina":"")+(Ce.ielt9?" leaflet-oldie":"")+(Ce.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=Ur(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ht(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Re(r.markerPane,"leaflet-zoom-hide"),Re(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,c){ht(this._mapPane,new J(0,0));var p=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var x=this._zoom!==a;this._moveStart(x,c)._move(r,a)._moveEnd(x),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,c,p){a===void 0&&(a=this._zoom);var x=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),p?c&&c.pinch&&this.fire("zoom",c):((x||c&&c.pinch)&&this.fire("zoom",c),this.fire("move",c)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ht(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[d(this._container)]=this;var a=r?Ke:ze;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Ce.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=se(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var c=[],p,x=a==="mouseout"||a==="mouseover",O=r.target||r.srcElement,B=!1;O;){if(p=this._targets[d(O)],p&&(a==="click"||a==="preclick")&&this._draggableMoved(p)){B=!0;break}if(p&&p.listens(a,!0)&&(x&&!Fe(O,r)||(c.push(p),x))||O===this._container)break;O=O.parentNode}return!c.length&&!B&&!x&&this.listens(a,!0)&&(c=[this]),c},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var c=r.type;c==="mousedown"&&Cn(a),this._fireDOMEvent(r,c)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,c){if(r.type==="click"){var p=i({},r);p.type="preclick",this._fireDOMEvent(p,p.type,c)}var x=this._findEventTargets(r,a);if(c){for(var O=[],B=0;B<c.length;B++)c[B].listens(a,!0)&&O.push(c[B]);x=O.concat(x)}if(x.length){a==="contextmenu"&&D(r);var K=x[0],oe={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var ve=K.getLatLng&&(!K._radius||K._radius<=10);oe.containerPoint=ve?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(r),oe.layerPoint=this.containerPointToLayerPoint(oe.containerPoint),oe.latlng=ve?K.getLatLng():this.layerPointToLatLng(oe.layerPoint)}for(B=0;B<x.length;B++)if(x[B].fire(a,oe,!0),oe.originalEvent._stopped||x[B].options.bubblingMouseEvents===!1&&I(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return er(this._mapPane)||new J(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var c=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return c.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var c=this.getSize()._divideBy(2);return this.project(r,a)._subtract(c)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,c){var p=this._getNewPixelOrigin(c,a);return this.project(r,a)._subtract(p)},_latLngBoundsToNewLayerBounds:function(r,a,c){var p=this._getNewPixelOrigin(c,a);return Z([this.project(r.getSouthWest(),a)._subtract(p),this.project(r.getNorthWest(),a)._subtract(p),this.project(r.getSouthEast(),a)._subtract(p),this.project(r.getNorthEast(),a)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,c){if(!c)return r;var p=this.project(r,a),x=this.getSize().divideBy(2),O=new W(p.subtract(x),p.add(x)),B=this._getBoundsOffset(O,c,a);return Math.abs(B.x)<=1&&Math.abs(B.y)<=1?r:this.unproject(p.add(B),a)},_limitOffset:function(r,a){if(!a)return r;var c=this.getPixelBounds(),p=new W(c.min.add(r),c.max.add(r));return r.add(this._getBoundsOffset(p,a))},_getBoundsOffset:function(r,a,c){var p=Z(this.project(a.getNorthEast(),c),this.project(a.getSouthWest(),c)),x=p.min.subtract(r.min),O=p.max.subtract(r.max),B=this._rebound(x.x,-O.x),K=this._rebound(x.y,-O.y);return new J(B,K)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),c=this.getMaxZoom(),p=Ce.any3d?this.options.zoomSnap:1;return p&&(r=Math.round(r/p)*p),Math.max(a,Math.min(c,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){it(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var c=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(c)?!1:(this.panBy(c,a),!0)},_createAnimProxy:function(){var r=this._proxy=$e("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var c=Ki,p=this._proxy.style[c];_r(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),p===this._proxy.style[c]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ut(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();_r(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,c){if(this._animatingZoom)return!0;if(c=c||{},!this._zoomAnimated||c.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(a),x=this._getCenterOffset(r)._divideBy(1-1/p);return c.animate!==!0&&!this.getSize().contains(x)?!1:(se(function(){this._moveStart(!0,c.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,c,p){this._mapPane&&(c&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,Re(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&it(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Du(r,a){return new qe(r,a)}var tn=N.extend({options:{position:"topright"},initialize:function(r){k(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),c=this.getPosition(),p=r._controlCorners[c];return Re(a,"leaflet-control"),c.indexOf("bottom")!==-1?p.insertBefore(a,p.firstChild):p.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ut(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ni=function(r){return new tn(r)};qe.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",c=this._controlContainer=$e("div",a+"control-container",this._container);function p(x,O){var B=a+x+" "+a+O;r[x+O]=$e("div",B,c)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ut(this._controlCorners[r]);ut(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var rs=tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,c,p){return c<p?-1:p<c?1:0}},initialize:function(r,a,c){k(this,c),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in r)this._addLayer(r[p],p);for(p in a)this._addLayer(a[p],p,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return tn.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Re(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Re(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):it(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return it(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=$e("div",r),c=this.options.collapsed;a.setAttribute("aria-haspopup",!0),C(a),v(a);var p=this._section=$e("section",r+"-list");c&&(this._map.on("click",this.collapse,this),ze(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=$e("a",r+"-toggle",a);x.href="#",x.title="Layers",x.setAttribute("role","button"),ze(x,{keydown:function(O){O.keyCode===13&&this._expandSafely()},click:function(O){D(O),this._expandSafely()}},this),c||this.expand(),this._baseLayersList=$e("div",r+"-base",p),this._separator=$e("div",r+"-separator",p),this._overlaysList=$e("div",r+"-overlays",p),a.appendChild(p)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,c){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:c}),this.options.sortLayers&&this._layers.sort(l(function(p,x){return this.options.sortFunction(p.layer,x.layer,p.name,x.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pn(this._baseLayersList),pn(this._overlaysList),this._layerControlInputs=[];var r,a,c,p,x=0;for(c=0;c<this._layers.length;c++)p=this._layers[c],this._addItem(p),a=a||p.overlay,r=r||!p.overlay,x+=p.overlay?0:1;return this.options.hideSingleBase&&(r=r&&x>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(d(r.target)),c=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;c&&this._map.fire(c,a)},_createRadioElement:function(r,a){var c='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=c,p.firstChild},_addItem:function(r){var a=document.createElement("label"),c=this._map.hasLayer(r.layer),p;r.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=c):p=this._createRadioElement("leaflet-base-layers_"+d(this),c),this._layerControlInputs.push(p),p.layerId=d(r.layer),ze(p,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+r.name;var O=document.createElement("span");a.appendChild(O),O.appendChild(p),O.appendChild(x);var B=r.overlay?this._overlaysList:this._baseLayersList;return B.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,c,p=[],x=[];this._handlingClick=!0;for(var O=r.length-1;O>=0;O--)a=r[O],c=this._getLayer(a.layerId).layer,a.checked?p.push(c):a.checked||x.push(c);for(O=0;O<x.length;O++)this._map.hasLayer(x[O])&&this._map.removeLayer(x[O]);for(O=0;O<p.length;O++)this._map.hasLayer(p[O])||this._map.addLayer(p[O]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,c,p=this._map.getZoom(),x=r.length-1;x>=0;x--)a=r[x],c=this._getLayer(a.layerId).layer,a.disabled=c.options.minZoom!==void 0&&p<c.options.minZoom||c.options.maxZoom!==void 0&&p>c.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,ze(r,"click",D),this.expand();var a=this;setTimeout(function(){Ke(r,"click",D),a._preventClick=!1})}}),Iu=function(r,a,c){return new rs(r,a,c)},is=tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",c=$e("div",a+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,a+"-in",c,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,a+"-out",c,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),c},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,c,p,x){var O=$e("a",c,p);return O.innerHTML=r,O.href="#",O.title=a,O.setAttribute("role","button"),O.setAttribute("aria-label",a),C(O),ze(O,"click",F),ze(O,"click",x,this),ze(O,"click",this._refocusOnMap,this),O},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";it(this._zoomInButton,a),it(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Re(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Re(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});qe.mergeOptions({zoomControl:!0}),qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new is,this.addControl(this.zoomControl))});var zu=function(r){return new is(r)},Pa=tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",c=$e("div",a),p=this.options;return this._addScales(p,a+"-line",c),r.on(p.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),c},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,c){r.metric&&(this._mScale=$e("div",a,c)),r.imperial&&(this._iScale=$e("div",a,c))},_update:function(){var r=this._map,a=r.getSize().y/2,c=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(c)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),c=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,c,a/r)},_updateImperial:function(r){var a=r*3.2808399,c,p,x;a>5280?(c=a/5280,p=this._getRoundNum(c),this._updateScale(this._iScale,p+" mi",p/c)):(x=this._getRoundNum(a),this._updateScale(this._iScale,x+" ft",x/a))},_updateScale:function(r,a,c){r.style.width=Math.round(this.options.maxWidth*c)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),c=r/a;return c=c>=10?10:c>=5?5:c>=3?3:c>=2?2:1,a*c}}),Au=function(r){return new Pa(r)},Ru='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',os=tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ce.inlineSvg?Ru+" ":"")+"Leaflet</a>"},initialize:function(r){k(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=$e("div","leaflet-control-attribution"),C(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var c=[];this.options.prefix&&c.push(this.options.prefix),r.length&&c.push(r.join(", ")),this._container.innerHTML=c.join(' <span aria-hidden="true">|</span> ')}}});qe.mergeOptions({attributionControl:!0}),qe.addInitHook(function(){this.options.attributionControl&&new os().addTo(this)});var ju=function(r){return new os(r)};tn.Layers=rs,tn.Zoom=is,tn.Scale=Pa,tn.Attribution=os,Ni.layers=Iu,Ni.zoom=zu,Ni.scale=Au,Ni.attribution=ju;var _n=N.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});_n.addTo=function(r,a){return r.addHandler(a,this),this};var Fu={Events:xe},Ma=Ce.touch?"touchstart mousedown":"mousedown",rr=de.extend({options:{clickTolerance:3},initialize:function(r,a,c,p){k(this,p),this._element=r,this._dragStartTarget=a||r,this._preventOutline=c},enable:function(){this._enabled||(ze(this._dragStartTarget,Ma,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(rr._dragging===this&&this.finishDrag(!0),Ke(this._dragStartTarget,Ma,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Wr(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){rr._dragging===this&&this.finishDrag();return}if(!(rr._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(rr._dragging=this,this._preventOutline&&Cn(this._element),Hr(),gr(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,c=Ca(this._element);this._startPoint=new J(a.clientX,a.clientY),this._startPos=er(this._element),this._parentScale=Me(c);var p=r.type==="mousedown";ze(document,p?"mousemove":"touchmove",this._onMove,this),ze(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,c=new J(a.clientX,a.clientY)._subtract(this._startPoint);!c.x&&!c.y||Math.abs(c.x)+Math.abs(c.y)<this.options.clickTolerance||(c.x/=this._parentScale.x,c.y/=this._parentScale.y,D(r),this._moved||(this.fire("dragstart"),this._moved=!0,Re(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Re(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(c),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ht(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){it(document.body,"leaflet-dragging"),this._lastTarget&&(it(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ke(document,"mousemove touchmove",this._onMove,this),Ke(document,"mouseup touchend touchcancel",this._onUp,this),Wn(),yr();var a=this._moved&&this._moving;this._moving=!1,rr._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Na(r,a,c){var p,x=[1,4,2,8],O,B,K,oe,ve,Ee,Ie,Ze;for(O=0,Ee=r.length;O<Ee;O++)r[O]._code=xr(r[O],a);for(K=0;K<4;K++){for(Ie=x[K],p=[],O=0,Ee=r.length,B=Ee-1;O<Ee;B=O++)oe=r[O],ve=r[B],oe._code&Ie?ve._code&Ie||(Ze=to(ve,oe,Ie,a,c),Ze._code=xr(Ze,a),p.push(Ze)):(ve._code&Ie&&(Ze=to(ve,oe,Ie,a,c),Ze._code=xr(Ze,a),p.push(Ze)),p.push(oe));r=p}return r}function Oa(r,a){var c,p,x,O,B,K,oe,ve,Ee;if(!r||r.length===0)throw new Error("latlngs not passed");Gt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ie=Le([0,0]),Ze=me(r),Vt=Ze.getNorthWest().distanceTo(Ze.getSouthWest())*Ze.getNorthEast().distanceTo(Ze.getNorthWest());Vt<1700&&(Ie=ss(r));var Pt=r.length,Mn=[];for(c=0;c<Pt;c++){var nn=Le(r[c]);Mn.push(a.project(Le([nn.lat-Ie.lat,nn.lng-Ie.lng])))}for(K=oe=ve=0,c=0,p=Pt-1;c<Pt;p=c++)x=Mn[c],O=Mn[p],B=x.y*O.x-O.y*x.x,oe+=(x.x+O.x)*B,ve+=(x.y+O.y)*B,K+=B*3;K===0?Ee=Mn[0]:Ee=[oe/K,ve/K];var oo=a.unproject(Q(Ee));return Le([oo.lat+Ie.lat,oo.lng+Ie.lng])}function ss(r){for(var a=0,c=0,p=0,x=0;x<r.length;x++){var O=Le(r[x]);a+=O.lat,c+=O.lng,p++}return Le([a/p,c/p])}var Bu={__proto__:null,clipPolygon:Na,polygonCenter:Oa,centroid:ss};function as(r,a){if(!a||!r.length)return r.slice();var c=a*a;return r=Hu(r,c),r=Wu(r,c),r}function Da(r,a,c){return Math.sqrt(ir(r,a,c,!0))}function Uu(r,a,c){return ir(r,a,c)}function Wu(r,a){var c=r.length,p=typeof Uint8Array<"u"?Uint8Array:Array,x=new p(c);x[0]=x[c-1]=1,ls(r,x,a,0,c-1);var O,B=[];for(O=0;O<c;O++)x[O]&&B.push(r[O]);return B}function ls(r,a,c,p,x){var O=0,B,K,oe;for(K=p+1;K<=x-1;K++)oe=ir(r[K],r[p],r[x],!0),oe>O&&(B=K,O=oe);O>c&&(a[B]=1,ls(r,a,c,p,B),ls(r,a,c,B,x))}function Hu(r,a){for(var c=[r[0]],p=1,x=0,O=r.length;p<O;p++)Zu(r[p],r[x])>a&&(c.push(r[p]),x=p);return x<O-1&&c.push(r[O-1]),c}var Ia;function us(r,a,c,p,x){var O=p?Ia:xr(r,c),B=xr(a,c),K,oe,ve;for(Ia=B;;){if(!(O|B))return[r,a];if(O&B)return!1;K=O||B,oe=to(r,a,K,c,x),ve=xr(oe,c),K===O?(r=oe,O=ve):(a=oe,B=ve)}}function to(r,a,c,p,x){var O=a.x-r.x,B=a.y-r.y,K=p.min,oe=p.max,ve,Ee;return c&8?(ve=r.x+O*(oe.y-r.y)/B,Ee=oe.y):c&4?(ve=r.x+O*(K.y-r.y)/B,Ee=K.y):c&2?(ve=oe.x,Ee=r.y+B*(oe.x-r.x)/O):c&1&&(ve=K.x,Ee=r.y+B*(K.x-r.x)/O),new J(ve,Ee,x)}function xr(r,a){var c=0;return r.x<a.min.x?c|=1:r.x>a.max.x&&(c|=2),r.y<a.min.y?c|=4:r.y>a.max.y&&(c|=8),c}function Zu(r,a){var c=a.x-r.x,p=a.y-r.y;return c*c+p*p}function ir(r,a,c,p){var x=a.x,O=a.y,B=c.x-x,K=c.y-O,oe=B*B+K*K,ve;return oe>0&&(ve=((r.x-x)*B+(r.y-O)*K)/oe,ve>1?(x=c.x,O=c.y):ve>0&&(x+=B*ve,O+=K*ve)),B=r.x-x,K=r.y-O,p?B*B+K*K:new J(x,O)}function Gt(r){return!T(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function cs(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Gt(r)}function ds(r,a){var c,p,x,O,B,K,oe,ve;if(!r||r.length===0)throw new Error("latlngs not passed");Gt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var Ee=Le([0,0]),Ie=me(r),Ze=Ie.getNorthWest().distanceTo(Ie.getSouthWest())*Ie.getNorthEast().distanceTo(Ie.getNorthWest());Ze<1700&&(Ee=ss(r));var Vt=r.length,Pt=[];for(c=0;c<Vt;c++){var Mn=Le(r[c]);Pt.push(a.project(Le([Mn.lat-Ee.lat,Mn.lng-Ee.lng])))}for(c=0,p=0;c<Vt-1;c++)p+=Pt[c].distanceTo(Pt[c+1])/2;if(p===0)ve=Pt[0];else for(c=0,O=0;c<Vt-1;c++)if(B=Pt[c],K=Pt[c+1],x=B.distanceTo(K),O+=x,O>p){oe=(O-p)/x,ve=[K.x-oe*(K.x-B.x),K.y-oe*(K.y-B.y)];break}var nn=a.unproject(Q(ve));return Le([nn.lat+Ee.lat,nn.lng+Ee.lng])}var Y={__proto__:null,simplify:as,pointToSegmentDistance:Da,closestPointOnSegment:Uu,clipSegment:us,_getEdgeIntersection:to,_getBitCode:xr,_sqClosestPointOnSegment:ir,isFlat:Gt,_flat:cs,polylineCenter:ds},fe={project:function(r){return new J(r.lng,r.lat)},unproject:function(r){return new le(r.y,r.x)},bounds:new W([-180,-90],[180,90])},Te={R:6378137,R_MINOR:6356752314245179e-9,bounds:new W([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,c=this.R,p=r.lat*a,x=this.R_MINOR/c,O=Math.sqrt(1-x*x),B=O*Math.sin(p),K=Math.tan(Math.PI/4-p/2)/Math.pow((1-B)/(1+B),O/2);return p=-c*Math.log(Math.max(K,1e-10)),new J(r.lng*a*c,p)},unproject:function(r){for(var a=180/Math.PI,c=this.R,p=this.R_MINOR/c,x=Math.sqrt(1-p*p),O=Math.exp(-r.y/c),B=Math.PI/2-2*Math.atan(O),K=0,oe=.1,ve;K<15&&Math.abs(oe)>1e-7;K++)ve=x*Math.sin(B),ve=Math.pow((1-ve)/(1+ve),x/2),oe=Math.PI/2-2*Math.atan(O*ve)-B,B+=oe;return new le(B*a,r.x*a/c)}},Oe={__proto__:null,LonLat:fe,Mercator:Te,SphericalMercator:lt},je=i({},Ae,{code:"EPSG:3395",projection:Te,transformation:function(){var r=.5/(Math.PI*Te.R);return nt(r,.5,-r,.5)}()}),Qe=i({},Ae,{code:"EPSG:4326",projection:fe,transformation:nt(1/180,1,-1/180,.5)}),gn=i({},Ue,{projection:fe,transformation:nt(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var c=a.lng-r.lng,p=a.lat-r.lat;return Math.sqrt(c*c+p*p)},infinite:!0});Ue.Earth=Ae,Ue.EPSG3395=je,Ue.EPSG3857=Et,Ue.EPSG900913=S,Ue.EPSG4326=Qe,Ue.Simple=gn;var pt=de.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[d(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[d(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var c=this.getEvents();a.on(c,this),this.once("remove",function(){a.off(c,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});qe.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=d(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return d(r)in this._layers},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},_addLayers:function(r){r=r?T(r)?r:[r]:[];for(var a=0,c=r.length;a<c;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[d(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=d(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,c=this._getZoomSpan();for(var p in this._zoomBoundLayers){var x=this._zoomBoundLayers[p].options;r=x.minZoom===void 0?r:Math.min(r,x.minZoom),a=x.maxZoom===void 0?a:Math.max(a,x.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,c!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var bt=pt.extend({initialize:function(r,a){k(this,a),this._layers={};var c,p;if(r)for(c=0,p=r.length;c<p;c++)this.addLayer(r[c])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),c,p;for(c in this._layers)p=this._layers[c],p[r]&&p[r].apply(p,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var c in this._layers)r.call(a,this._layers[c]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return d(r)}}),yn=function(r,a){return new bt(r,a)},wn=bt.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),bt.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),bt.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new we;for(var a in this._layers){var c=this._layers[a];r.extend(c.getBounds?c.getBounds():c.getLatLng())}return r}}),br=function(r,a){return new wn(r,a)},Gr=N.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){k(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var c=this._getIconUrl(r);if(!c){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(c,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(p,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(r,a){var c=this.options,p=c[a+"Size"];typeof p=="number"&&(p=[p,p]);var x=Q(p),O=Q(a==="shadow"&&c.shadowAnchor||c.iconAnchor||x&&x.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(c.className||""),O&&(r.style.marginLeft=-O.x+"px",r.style.marginTop=-O.y+"px"),x&&(r.style.width=x.x+"px",r.style.height=x.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return Ce.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function mg(r){return new Gr(r)}var hs=Gr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof hs.imagePath!="string"&&(hs.imagePath=this._detectIconPath()),(this.options.imagePath||hs.imagePath)+Gr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(c,p,x){var O=p.exec(c);return O&&O[x]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=$e("div","leaflet-default-icon-path",document.body),a=Ur(r,"background-image")||Ur(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var c=document.querySelector('link[href$="leaflet.css"]');return c?c.href.substring(0,c.href.length-11-1):""}}),Hh=_n.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new rr(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Re(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&it(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,c=a._map,p=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,O=er(a._icon),B=c.getPixelBounds(),K=c.getPixelOrigin(),oe=Z(B.min._subtract(K).add(x),B.max._subtract(K).subtract(x));if(!oe.contains(O)){var ve=Q((Math.max(oe.max.x,O.x)-oe.max.x)/(B.max.x-oe.max.x)-(Math.min(oe.min.x,O.x)-oe.min.x)/(B.min.x-oe.min.x),(Math.max(oe.max.y,O.y)-oe.max.y)/(B.max.y-oe.max.y)-(Math.min(oe.min.y,O.y)-oe.min.y)/(B.min.y-oe.min.y)).multiplyBy(p);c.panBy(ve,{animate:!1}),this._draggable._newPos._add(ve),this._draggable._startPos._add(ve),ht(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=se(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=se(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,c=a._shadow,p=er(a._icon),x=a._map.layerPointToLatLng(p);c&&ht(c,p),a._latlng=x,r.latlng=x,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),za=pt.extend({options:{icon:new hs,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){k(this,a),this._latlng=Le(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=Le(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),c=r.icon.createIcon(this._icon),p=!1;c!==this._icon&&(this._icon&&this._removeIcon(),p=!0,r.title&&(c.title=r.title),c.tagName==="IMG"&&(c.alt=r.alt||"")),Re(c,a),r.keyboard&&(c.tabIndex="0",c.setAttribute("role","button")),this._icon=c,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(c,"focus",this._panOnFocus,this);var x=r.icon.createShadow(this._shadow),O=!1;x!==this._shadow&&(this._removeShadow(),O=!0),x&&(Re(x,a),x.alt=""),this._shadow=x,r.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&O&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(this._icon,"focus",this._panOnFocus,this),ut(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ut(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ht(this._icon,r),this._shadow&&ht(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Re(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hh)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hh(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&en(this._icon,r),this._shadow&&en(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,c=a.iconSize?Q(a.iconSize):Q(0,0),p=a.iconAnchor?Q(a.iconAnchor):Q(0,0);r.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:c.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vg(r,a){return new za(r,a)}var Vr=pt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return k(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Aa=Vr.extend({options:{fill:!0,radius:10},initialize:function(r,a){k(this,a),this._latlng=Le(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=Le(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Vr.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,c=this._clickTolerance(),p=[r+c,a+c];this._pxBounds=new W(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _g(r,a){return new Aa(r,a)}var qu=Aa.extend({initialize:function(r,a,c){if(typeof a=="number"&&(a=i({},c,{radius:a})),k(this,a),this._latlng=Le(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new we(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Vr.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,c=this._map,p=c.options.crs;if(p.distance===Ae.distance){var x=Math.PI/180,O=this._mRadius/Ae.R/x,B=c.project([a+O,r]),K=c.project([a-O,r]),oe=B.add(K).divideBy(2),ve=c.unproject(oe).lat,Ee=Math.acos((Math.cos(O*x)-Math.sin(a*x)*Math.sin(ve*x))/(Math.cos(a*x)*Math.cos(ve*x)))/x;(isNaN(Ee)||Ee===0)&&(Ee=O/Math.cos(Math.PI/180*a)),this._point=oe.subtract(c.getPixelOrigin()),this._radius=isNaN(Ee)?0:oe.x-c.project([ve,r-Ee]).x,this._radiusY=oe.y-B.y}else{var Ie=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=c.latLngToLayerPoint(this._latlng),this._radius=this._point.x-c.latLngToLayerPoint(Ie).x}this._updateBounds()}});function gg(r,a,c){return new qu(r,a,c)}var Lr=Vr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){k(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,c=null,p=ir,x,O,B=0,K=this._parts.length;B<K;B++)for(var oe=this._parts[B],ve=1,Ee=oe.length;ve<Ee;ve++){x=oe[ve-1],O=oe[ve];var Ie=p(r,x,O,!0);Ie<a&&(a=Ie,c=p(r,x,O))}return c&&(c.distance=Math.sqrt(a)),c},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ds(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=Le(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new we,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return Gt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],c=Gt(r),p=0,x=r.length;p<x;p++)c?(a[p]=Le(r[p]),this._bounds.extend(a[p])):a[p]=this._convertLatLngs(r[p]);return a},_project:function(){var r=new W;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new J(r,r);this._rawPxBounds&&(this._pxBounds=new W([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,c){var p=r[0]instanceof le,x=r.length,O,B;if(p){for(B=[],O=0;O<x;O++)B[O]=this._map.latLngToLayerPoint(r[O]),c.extend(B[O]);a.push(B)}else for(O=0;O<x;O++)this._projectLatlngs(r[O],a,c)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,c,p,x,O,B,K,oe;for(c=0,x=0,O=this._rings.length;c<O;c++)for(oe=this._rings[c],p=0,B=oe.length;p<B-1;p++)K=us(oe[p],oe[p+1],r,p,!0),K&&(a[x]=a[x]||[],a[x].push(K[0]),(K[1]!==oe[p+1]||p===B-2)&&(a[x].push(K[1]),x++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,c=0,p=r.length;c<p;c++)r[c]=as(r[c],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var c,p,x,O,B,K,oe=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(c=0,O=this._parts.length;c<O;c++)for(K=this._parts[c],p=0,B=K.length,x=B-1;p<B;x=p++)if(!(!a&&p===0)&&Da(r,K[x],K[p])<=oe)return!0;return!1}});function yg(r,a){return new Lr(r,a)}Lr._flat=cs;var no=Lr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oa(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=Lr.prototype._convertLatLngs.call(this,r),c=a.length;return c>=2&&a[0]instanceof le&&a[0].equals(a[c-1])&&a.pop(),a},_setLatLngs:function(r){Lr.prototype._setLatLngs.call(this,r),Gt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Gt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,c=new J(a,a);if(r=new W(r.min.subtract(c),r.max.add(c)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,x=this._rings.length,O;p<x;p++)O=Na(this._rings[p],r,!0),O.length&&this._parts.push(O)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,c,p,x,O,B,K,oe,ve;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(O=0,oe=this._parts.length;O<oe;O++)for(c=this._parts[O],B=0,ve=c.length,K=ve-1;B<ve;K=B++)p=c[B],x=c[K],p.y>r.y!=x.y>r.y&&r.x<(x.x-p.x)*(r.y-p.y)/(x.y-p.y)+p.x&&(a=!a);return a||Lr.prototype._containsPoint.call(this,r,!0)}});function wg(r,a){return new no(r,a)}var kr=wn.extend({initialize:function(r,a){k(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=T(r)?r:r.features,c,p,x;if(a){for(c=0,p=a.length;c<p;c++)x=a[c],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var O=this.options;if(O.filter&&!O.filter(r))return this;var B=Ra(r,O);return B?(B.feature=Ba(r),B.defaultOptions=B.options,this.resetStyle(B),O.onEachFeature&&O.onEachFeature(r,B),this.addLayer(B)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=i({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function Ra(r,a){var c=r.type==="Feature"?r.geometry:r,p=c?c.coordinates:null,x=[],O=a&&a.pointToLayer,B=a&&a.coordsToLatLng||Gu,K,oe,ve,Ee;if(!p&&!c)return null;switch(c.type){case"Point":return K=B(p),Zh(O,r,K,a);case"MultiPoint":for(ve=0,Ee=p.length;ve<Ee;ve++)K=B(p[ve]),x.push(Zh(O,r,K,a));return new wn(x);case"LineString":case"MultiLineString":return oe=ja(p,c.type==="LineString"?0:1,B),new Lr(oe,a);case"Polygon":case"MultiPolygon":return oe=ja(p,c.type==="Polygon"?1:2,B),new no(oe,a);case"GeometryCollection":for(ve=0,Ee=c.geometries.length;ve<Ee;ve++){var Ie=Ra({geometry:c.geometries[ve],type:"Feature",properties:r.properties},a);Ie&&x.push(Ie)}return new wn(x);case"FeatureCollection":for(ve=0,Ee=c.features.length;ve<Ee;ve++){var Ze=Ra(c.features[ve],a);Ze&&x.push(Ze)}return new wn(x);default:throw new Error("Invalid GeoJSON object.")}}function Zh(r,a,c,p){return r?r(a,c):new za(c,p&&p.markersInheritOptions&&p)}function Gu(r){return new le(r[1],r[0],r[2])}function ja(r,a,c){for(var p=[],x=0,O=r.length,B;x<O;x++)B=a?ja(r[x],a-1,c):(c||Gu)(r[x]),p.push(B);return p}function Vu(r,a){return r=Le(r),r.alt!==void 0?[w(r.lng,a),w(r.lat,a),w(r.alt,a)]:[w(r.lng,a),w(r.lat,a)]}function Fa(r,a,c,p){for(var x=[],O=0,B=r.length;O<B;O++)x.push(a?Fa(r[O],Gt(r[O])?0:a-1,c,p):Vu(r[O],p));return!a&&c&&x.length>0&&x.push(x[0].slice()),x}function ro(r,a){return r.feature?i({},r.feature,{geometry:a}):Ba(a)}function Ba(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var $u={toGeoJSON:function(r){return ro(this,{type:"Point",coordinates:Vu(this.getLatLng(),r)})}};za.include($u),qu.include($u),Aa.include($u),Lr.include({toGeoJSON:function(r){var a=!Gt(this._latlngs),c=Fa(this._latlngs,a?1:0,!1,r);return ro(this,{type:(a?"Multi":"")+"LineString",coordinates:c})}}),no.include({toGeoJSON:function(r){var a=!Gt(this._latlngs),c=a&&!Gt(this._latlngs[0]),p=Fa(this._latlngs,c?2:a?1:0,!0,r);return a||(p=[p]),ro(this,{type:(c?"Multi":"")+"Polygon",coordinates:p})}}),bt.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(c){a.push(c.toGeoJSON(r).geometry.coordinates)}),ro(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var c=a==="GeometryCollection",p=[];return this.eachLayer(function(x){if(x.toGeoJSON){var O=x.toGeoJSON(r);if(c)p.push(O.geometry);else{var B=Ba(O);B.type==="FeatureCollection"?p.push.apply(p,B.features):p.push(B)}}}),c?ro(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function qh(r,a){return new kr(r,a)}var xg=qh,Ua=pt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,c){this._url=r,this._bounds=me(a),k(this,c)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Re(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ut(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Xe(this._image),this},bringToBack:function(){return this._map&&Jt(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=me(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:$e("img");if(Re(a,"leaflet-image-layer"),this._zoomAnimated&&Re(a,"leaflet-zoom-animated"),this.options.className&&Re(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),c=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;_r(this._image,c,a)},_reset:function(){var r=this._image,a=new W(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),c=a.getSize();ht(r,a.min),r.style.width=c.x+"px",r.style.height=c.y+"px"},_updateOpacity:function(){en(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),bg=function(r,a,c){return new Ua(r,a,c)},Gh=Ua.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:$e("video");if(Re(a,"leaflet-image-layer"),this._zoomAnimated&&Re(a,"leaflet-zoom-animated"),this.options.className&&Re(a,this.options.className),a.onselectstart=m,a.onmousemove=m,a.onloadeddata=l(this.fire,this,"load"),r){for(var c=a.getElementsByTagName("source"),p=[],x=0;x<c.length;x++)p.push(c[x].src);this._url=c.length>0?p:[a.src];return}T(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var O=0;O<this._url.length;O++){var B=$e("source");B.src=this._url[O],a.appendChild(B)}}});function Lg(r,a,c){return new Gh(r,a,c)}var Vh=Ua.extend({_initImage:function(){var r=this._image=this._url;Re(r,"leaflet-image-layer"),this._zoomAnimated&&Re(r,"leaflet-zoom-animated"),this.options.className&&Re(r,this.options.className),r.onselectstart=m,r.onmousemove=m}});function kg(r,a,c){return new Vh(r,a,c)}var or=pt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof le||T(r))?(this._latlng=Le(r),k(this,a)):(k(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&en(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&en(this._container,1),this.bringToFront(),this.options.interactive&&(Re(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(en(this._container,0),this._removeTimeout=setTimeout(l(ut,void 0,this._container),200)):ut(this._container),this.options.interactive&&(it(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=Le(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xe(this._container),this},bringToBack:function(){return this._map&&Jt(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof wn){a=null;var c=this._source._layers;for(var p in c)if(c[p]._map){a=c[p];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=Q(this.options.offset),c=this._getAnchor();this._zoomAnimated?ht(this._container,r.add(c)):a=a.add(r).add(c);var p=this._containerBottom=-a.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=p+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});qe.include({_initOverlay:function(r,a,c,p){var x=a;return x instanceof r||(x=new r(p).setContent(a)),c&&x.setLatLng(c),x}}),pt.include({_initOverlay:function(r,a,c,p){var x=c;return x instanceof r?(k(x,p),x._source=this):(x=a&&!p?a:new r(p,this),x.setContent(c)),x}});var Wa=or.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,or.prototype.openOn.call(this,r)},onAdd:function(r){or.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Vr||this._source.on("preclick",h))},onRemove:function(r){or.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Vr||this._source.off("preclick",h))},getEvents:function(){var r=or.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=$e("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),c=this._wrapper=$e("div",r+"-content-wrapper",a);if(this._contentNode=$e("div",r+"-content",c),C(a),v(this._contentNode),ze(a,"contextmenu",h),this._tipContainer=$e("div",r+"-tip-container",a),this._tip=$e("div",r+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=$e("a",r+"-close-button",a);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ze(p,"click",function(x){D(x),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var c=r.offsetWidth;c=Math.min(c,this.options.maxWidth),c=Math.max(c,this.options.minWidth),a.width=c+1+"px",a.whiteSpace="",a.height="";var p=r.offsetHeight,x=this.options.maxHeight,O="leaflet-popup-scrolled";x&&p>x?(a.height=x+"px",Re(r,O)):it(r,O),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),c=this._getAnchor();ht(this._container,a.add(c))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(Ur(this._container,"marginBottom"),10)||0,c=this._container.offsetHeight+a,p=this._containerWidth,x=new J(this._containerLeft,-c-this._containerBottom);x._add(er(this._container));var O=r.layerPointToContainerPoint(x),B=Q(this.options.autoPanPadding),K=Q(this.options.autoPanPaddingTopLeft||B),oe=Q(this.options.autoPanPaddingBottomRight||B),ve=r.getSize(),Ee=0,Ie=0;O.x+p+oe.x>ve.x&&(Ee=O.x+p-ve.x+oe.x),O.x-Ee-K.x<0&&(Ee=O.x-K.x),O.y+c+oe.y>ve.y&&(Ie=O.y+c-ve.y+oe.y),O.y-Ie-K.y<0&&(Ie=O.y-K.y),(Ee||Ie)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([Ee,Ie]))}},_getAnchor:function(){return Q(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Eg=function(r,a){return new Wa(r,a)};qe.mergeOptions({closePopupOnClick:!0}),qe.include({openPopup:function(r,a,c){return this._initOverlay(Wa,r,a,c).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),pt.include({bindPopup:function(r,a){return this._popup=this._initOverlay(Wa,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof wn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){F(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Vr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Ha=or.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){or.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){or.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=or.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$e("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,c,p=this._map,x=this._container,O=p.latLngToContainerPoint(p.getCenter()),B=p.layerPointToContainerPoint(r),K=this.options.direction,oe=x.offsetWidth,ve=x.offsetHeight,Ee=Q(this.options.offset),Ie=this._getAnchor();K==="top"?(a=oe/2,c=ve):K==="bottom"?(a=oe/2,c=0):K==="center"?(a=oe/2,c=ve/2):K==="right"?(a=0,c=ve/2):K==="left"?(a=oe,c=ve/2):B.x<O.x?(K="right",a=0,c=ve/2):(K="left",a=oe+(Ee.x+Ie.x)*2,c=ve/2),r=r.subtract(Q(a,c,!0)).add(Ee).add(Ie),it(x,"leaflet-tooltip-right"),it(x,"leaflet-tooltip-left"),it(x,"leaflet-tooltip-top"),it(x,"leaflet-tooltip-bottom"),Re(x,"leaflet-tooltip-"+K),ht(x,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&en(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return Q(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sg=function(r,a){return new Ha(r,a)};qe.include({openTooltip:function(r,a,c){return this._initOverlay(Ha,r,a,c).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),pt.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ha,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",c={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?c.add=this._openTooltip:(c.mouseover=this._openTooltip,c.mouseout=this.closeTooltip,c.click=this._openTooltip,this._map?this._addFocusListeners():c.add=this._addFocusListeners),this._tooltip.options.sticky&&(c.mousemove=this._moveTooltip),this[a](c),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof wn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(ze(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),ze(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,c,p;this._tooltip.options.sticky&&r.originalEvent&&(c=this._map.mouseEventToContainerPoint(r.originalEvent),p=this._map.containerPointToLayerPoint(c),a=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(a)}});var $h=Gr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),c=this.options;if(c.html instanceof Element?(pn(a),a.appendChild(c.html)):a.innerHTML=c.html!==!1?c.html:"",c.bgPos){var p=Q(c.bgPos);a.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function Tg(r){return new $h(r)}Gr.Default=hs;var fs=pt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ce.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){k(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ut(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xe(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Jt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof J?r:new J(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,c=-r(-1/0,1/0),p=0,x=a.length,O;p<x;p++)O=a[p].style.zIndex,a[p]!==this._container&&O&&(c=r(c,+O));isFinite(c)&&(this.options.zIndex=c+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ce.ielt9){en(this._container,this.options.opacity);var r=+new Date,a=!1,c=!1;for(var p in this._tiles){var x=this._tiles[p];if(!(!x.current||!x.loaded)){var O=Math.min(1,(r-x.loaded)/200);en(x.el,O),O<1?a=!0:(x.active?c=!0:this._onOpaqueTile(x),x.active=!0)}}c&&!this._noPrune&&this._pruneTiles(),a&&(j(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=$e("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var c in this._levels)c=Number(c),this._levels[c].el.children.length||c===r?(this._levels[c].el.style.zIndex=a-Math.abs(r-c),this._onUpdateLevel(c)):(ut(this._levels[c].el),this._removeTilesAtZoom(c),this._onRemoveLevel(c),delete this._levels[c]);var p=this._levels[r],x=this._map;return p||(p=this._levels[r]={},p.el=$e("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=a,p.origin=x.project(x.unproject(x.getPixelOrigin()),r).round(),p.zoom=r,this._setZoomTransform(p,x.getCenter(),x.getZoom()),m(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var r,a,c=this._map.getZoom();if(c>this.options.maxZoom||c<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var p=a.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ut(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,c,p){var x=Math.floor(r/2),O=Math.floor(a/2),B=c-1,K=new J(+x,+O);K.z=+B;var oe=this._tileCoordsToKey(K),ve=this._tiles[oe];return ve&&ve.active?(ve.retain=!0,!0):(ve&&ve.loaded&&(ve.retain=!0),B>p?this._retainParent(x,O,B,p):!1)},_retainChildren:function(r,a,c,p){for(var x=2*r;x<2*r+2;x++)for(var O=2*a;O<2*a+2;O++){var B=new J(x,O);B.z=c+1;var K=this._tileCoordsToKey(B),oe=this._tiles[K];if(oe&&oe.active){oe.retain=!0;continue}else oe&&oe.loaded&&(oe.retain=!0);c+1<p&&this._retainChildren(x,O,c+1,p)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,c,p){var x=Math.round(a);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var O=this.options.updateWhenZooming&&x!==this._tileZoom;(!p||O)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(r),c||this._pruneTiles(),this._noPrune=!!c),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var c in this._levels)this._setZoomTransform(this._levels[c],r,a)},_setZoomTransform:function(r,a,c){var p=this._map.getZoomScale(c,r.zoom),x=r.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(a,c)).round();Ce.any3d?_r(r.el,x,p):ht(r.el,x)},_resetGrid:function(){var r=this._map,a=r.options.crs,c=this._tileSize=this.getTileSize(),p=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],p).x/c.x),Math.ceil(r.project([0,a.wrapLng[1]],p).x/c.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],p).y/c.x),Math.ceil(r.project([a.wrapLat[1],0],p).y/c.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,c=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),p=a.getZoomScale(c,this._tileZoom),x=a.project(r,this._tileZoom).floor(),O=a.getSize().divideBy(p*2);return new W(x.subtract(O),x.add(O))},_update:function(r){var a=this._map;if(a){var c=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(r),x=this._pxBoundsToTileRange(p),O=x.getCenter(),B=[],K=this.options.keepBuffer,oe=new W(x.getBottomLeft().subtract([K,-K]),x.getTopRight().add([K,-K]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ve in this._tiles){var Ee=this._tiles[ve].coords;(Ee.z!==this._tileZoom||!oe.contains(new J(Ee.x,Ee.y)))&&(this._tiles[ve].current=!1)}if(Math.abs(c-this._tileZoom)>1){this._setView(r,c);return}for(var Ie=x.min.y;Ie<=x.max.y;Ie++)for(var Ze=x.min.x;Ze<=x.max.x;Ze++){var Vt=new J(Ze,Ie);if(Vt.z=this._tileZoom,!!this._isValidTile(Vt)){var Pt=this._tiles[this._tileCoordsToKey(Vt)];Pt?Pt.current=!0:B.push(Vt)}}if(B.sort(function(nn,oo){return nn.distanceTo(O)-oo.distanceTo(O)}),B.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mn=document.createDocumentFragment();for(Ze=0;Ze<B.length;Ze++)this._addTile(B[Ze],Mn);this._level.el.appendChild(Mn)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var c=this._globalTileRange;if(!a.wrapLng&&(r.x<c.min.x||r.x>c.max.x)||!a.wrapLat&&(r.y<c.min.y||r.y>c.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(r);return me(this.options.bounds).overlaps(p)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,c=this.getTileSize(),p=r.scaleBy(c),x=p.add(c),O=a.unproject(p,r.z),B=a.unproject(x,r.z);return[O,B]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),c=new we(a[0],a[1]);return this.options.noWrap||(c=this._map.wrapLatLngBounds(c)),c},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),c=new J(+a[0],+a[1]);return c.z=+a[2],c},_removeTile:function(r){var a=this._tiles[r];a&&(ut(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Re(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=m,r.onmousemove=m,Ce.ielt9&&this.options.opacity<1&&en(r,this.options.opacity)},_addTile:function(r,a){var c=this._getTilePos(r),p=this._tileCoordsToKey(r),x=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(x),this.createTile.length<2&&se(l(this._tileReady,this,r,null,x)),ht(x,c),this._tiles[p]={el:x,coords:r,current:!0},a.appendChild(x),this.fire("tileloadstart",{tile:x,coords:r})},_tileReady:function(r,a,c){a&&this.fire("tileerror",{error:a,tile:c,coords:r});var p=this._tileCoordsToKey(r);c=this._tiles[p],c&&(c.loaded=+new Date,this._map._fadeAnimated?(en(c.el,0),j(this._fadeFrame),this._fadeFrame=se(this._updateOpacity,this)):(c.active=!0,this._pruneTiles()),a||(Re(c.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:c.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ce.ielt9||!this._map._fadeAnimated?se(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new J(this._wrapX?_(r.x,this._wrapX):r.x,this._wrapY?_(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new W(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Cg(r){return new fs(r)}var io=fs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=k(this,a),a.detectRetina&&Ce.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var c=document.createElement("img");return ze(c,"load",l(this._tileOnLoad,this,a,c)),ze(c,"error",l(this._tileOnError,this,a,c)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(c.referrerPolicy=this.options.referrerPolicy),c.alt="",c.src=this.getTileUrl(r),c},getTileUrl:function(r){var a={r:Ce.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var c=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=c),a["-y"]=c}return y(this._url,i(a,this.options))},_tileOnLoad:function(r,a){Ce.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,c){var p=this.options.errorTileUrl;p&&a.getAttribute("src")!==p&&(a.src=p),r(c,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,c=this.options.zoomReverse,p=this.options.zoomOffset;return c&&(r=a-r),r+p},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=m,a.onerror=m,!a.complete)){a.src=z;var c=this._tiles[r].coords;ut(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:c})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",z),fs.prototype._removeTile.call(this,r)},_tileReady:function(r,a,c){if(!(!this._map||c&&c.getAttribute("src")===z))return fs.prototype._tileReady.call(this,r,a,c)}});function Yh(r,a){return new io(r,a)}var Xh=io.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var c=i({},this.defaultWmsParams);for(var p in a)p in this.options||(c[p]=a[p]);a=k(this,a);var x=a.detectRetina&&Ce.retina?2:1,O=this.getTileSize();c.width=O.x*x,c.height=O.y*x,this.wmsParams=c},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,io.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),c=this._crs,p=Z(c.project(a[0]),c.project(a[1])),x=p.min,O=p.max,B=(this._wmsVersion>=1.3&&this._crs===Qe?[x.y,x.x,O.y,O.x]:[x.x,x.y,O.x,O.y]).join(","),K=io.prototype.getTileUrl.call(this,r);return K+M(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+B},setParams:function(r,a){return i(this.wmsParams,r),a||this.redraw(),this}});function Pg(r,a){return new Xh(r,a)}io.WMS=Xh,Yh.wms=Pg;var Er=pt.extend({options:{padding:.1},initialize:function(r){k(this,r),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Re(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var c=this._map.getZoomScale(a,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,a),O=p.multiplyBy(-c).add(x).subtract(this._map._getNewPixelOrigin(r,a));Ce.any3d?_r(this._container,O,c):ht(this._container,O)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),c=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new W(c,c.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Qh=Er.extend({options:{tolerance:0},getEvents:function(){var r=Er.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Er.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");ze(r,"mousemove",this._onMouseMove,this),ze(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ze(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,ut(this._container),Ke(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var r=this._bounds,a=this._container,c=r.getSize(),p=Ce.retina?2:1;ht(a,r.min),a.width=p*c.x,a.height=p*c.y,a.style.width=c.x+"px",a.style.height=c.y+"px",Ce.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Er.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[d(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,c=a.next,p=a.prev;c?c.prev=p:this._drawLast=p,p?p.next=c:this._drawFirst=c,delete r._order,delete this._layers[d(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),c=[],p,x;for(x=0;x<a.length;x++){if(p=Number(a[x]),isNaN(p))return;c.push(p)}r.options._dashArray=c}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||se(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new W,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var c=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,c.x,c.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)r=p.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var c,p,x,O,B=r._parts,K=B.length,oe=this._ctx;if(K){for(oe.beginPath(),c=0;c<K;c++){for(p=0,x=B[c].length;p<x;p++)O=B[c][p],oe[p?"lineTo":"moveTo"](O.x,O.y);a&&oe.closePath()}this._fillStroke(oe,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,c=this._ctx,p=Math.max(Math.round(r._radius),1),x=(Math.max(Math.round(r._radiusY),1)||p)/p;x!==1&&(c.save(),c.scale(1,x)),c.beginPath(),c.arc(a.x,a.y/x,p,0,Math.PI*2,!1),x!==1&&c.restore(),this._fillStroke(c,r)}},_fillStroke:function(r,a){var c=a.options;c.fill&&(r.globalAlpha=c.fillOpacity,r.fillStyle=c.fillColor||c.color,r.fill(c.fillRule||"evenodd")),c.stroke&&c.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=c.opacity,r.lineWidth=c.weight,r.strokeStyle=c.color,r.lineCap=c.lineCap,r.lineJoin=c.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),c,p,x=this._drawFirst;x;x=x.next)c=x.layer,c.options.interactive&&c._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(c))&&(p=c);this._fireEvent(p?[p]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(it(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var c,p,x=this._drawFirst;x;x=x.next)c=x.layer,c.options.interactive&&c._containsPoint(a)&&(p=c);p!==this._hoveredLayer&&(this._handleMouseOut(r),p&&(Re(this._container,"leaflet-interactive"),this._fireEvent([p],r,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,c){this._map._fireDOMEvent(a,c||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var c=a.next,p=a.prev;if(c)c.prev=p;else return;p?p.next=c:c&&(this._drawFirst=c),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var c=a.next,p=a.prev;if(p)p.next=c;else return;c?c.prev=p:p&&(this._drawLast=p),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function Kh(r){return Ce.canvas?new Qh(r):null}var ps=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Mg={_initContainer:function(){this._container=$e("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Er.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=ps("shape");Re(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=ps("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;ut(a),r.removeInteractiveTarget(a),delete this._layers[d(r)]},_updateStyle:function(r){var a=r._stroke,c=r._fill,p=r.options,x=r._container;x.stroked=!!p.stroke,x.filled=!!p.fill,p.stroke?(a||(a=r._stroke=ps("stroke")),x.appendChild(a),a.weight=p.weight+"px",a.color=p.color,a.opacity=p.opacity,p.dashArray?a.dashStyle=T(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=p.lineCap.replace("butt","flat"),a.joinstyle=p.lineJoin):a&&(x.removeChild(a),r._stroke=null),p.fill?(c||(c=r._fill=ps("fill")),x.appendChild(c),c.color=p.fillColor||p.color,c.opacity=p.fillOpacity):c&&(x.removeChild(c),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),c=Math.round(r._radius),p=Math.round(r._radiusY||c);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+c+","+p+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){Xe(r._container)},_bringToBack:function(r){Jt(r._container)}},Za=Ce.vml?ps:ce,ms=Er.extend({_initContainer:function(){this._container=Za("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Za("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ut(this._container),Ke(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Er.prototype._update.call(this);var r=this._bounds,a=r.getSize(),c=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,c.setAttribute("width",a.x),c.setAttribute("height",a.y)),ht(c,r.min),c.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=Za("path");r.options.className&&Re(a,r.options.className),r.options.interactive&&Re(a,"leaflet-interactive"),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ut(r._path),r.removeInteractiveTarget(r._path),delete this._layers[d(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,c=r.options;a&&(c.stroke?(a.setAttribute("stroke",c.color),a.setAttribute("stroke-opacity",c.opacity),a.setAttribute("stroke-width",c.weight),a.setAttribute("stroke-linecap",c.lineCap),a.setAttribute("stroke-linejoin",c.lineJoin),c.dashArray?a.setAttribute("stroke-dasharray",c.dashArray):a.removeAttribute("stroke-dasharray"),c.dashOffset?a.setAttribute("stroke-dashoffset",c.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),c.fill?(a.setAttribute("fill",c.fillColor||c.color),a.setAttribute("fill-opacity",c.fillOpacity),a.setAttribute("fill-rule",c.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,te(r._parts,a))},_updateCircle:function(r){var a=r._point,c=Math.max(Math.round(r._radius),1),p=Math.max(Math.round(r._radiusY),1)||c,x="a"+c+","+p+" 0 1,0 ",O=r._empty()?"M0 0":"M"+(a.x-c)+","+a.y+x+c*2+",0 "+x+-c*2+",0 ";this._setPath(r,O)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){Xe(r._path)},_bringToBack:function(r){Jt(r._path)}});Ce.vml&&ms.include(Mg);function Jh(r){return Ce.svg||Ce.vml?new ms(r):null}qe.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&Kh(r)||Jh(r)}});var ef=no.extend({initialize:function(r,a){no.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=me(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Ng(r,a){return new ef(r,a)}ms.create=Za,ms.pointsToPath=te,kr.geometryToLayer=Ra,kr.coordsToLatLng=Gu,kr.coordsToLatLngs=ja,kr.latLngToCoords=Vu,kr.latLngsToCoords=Fa,kr.getFeature=ro,kr.asFeature=Ba,qe.mergeOptions({boxZoom:!0});var tf=_n.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ut(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),gr(),Hr(),this._startPoint=this._map.mouseEventToContainerPoint(r),ze(document,{contextmenu:F,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=$e("div","leaflet-zoom-box",this._container),Re(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new W(this._point,this._startPoint),c=a.getSize();ht(this._box,a.min),this._box.style.width=c.x+"px",this._box.style.height=c.y+"px"},_finish:function(){this._moved&&(ut(this._box),it(this._container,"leaflet-crosshair")),yr(),Wn(),Ke(document,{contextmenu:F,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new we(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qe.addInitHook("addHandler","boxZoom",tf),qe.mergeOptions({doubleClickZoom:!0});var nf=_n.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,c=a.getZoom(),p=a.options.zoomDelta,x=r.originalEvent.shiftKey?c-p:c+p;a.options.doubleClickZoom==="center"?a.setZoom(x):a.setZoomAround(r.containerPoint,x)}});qe.addInitHook("addHandler","doubleClickZoom",nf),qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rf=_n.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new rr(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Re(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){it(this._map._container,"leaflet-grab"),it(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=me(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,c=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(c),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),c=this._initialWorldOffset,p=this._draggable._newPos.x,x=(p-a+c)%r+a-c,O=(p+a+c)%r-a-c,B=Math.abs(x+c)<Math.abs(O+c)?x:O;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=B},_onDragEnd:function(r){var a=this._map,c=a.options,p=!c.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),p)a.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),O=(this._lastTime-this._times[0])/1e3,B=c.easeLinearity,K=x.multiplyBy(B/O),oe=K.distanceTo([0,0]),ve=Math.min(c.inertiaMaxSpeed,oe),Ee=K.multiplyBy(ve/oe),Ie=ve/(c.inertiaDeceleration*B),Ze=Ee.multiplyBy(-Ie/2).round();!Ze.x&&!Ze.y?a.fire("moveend"):(Ze=a._limitOffset(Ze,a.options.maxBounds),se(function(){a.panBy(Ze,{duration:Ie,easeLinearity:B,noMoveStart:!0,animate:!0})}))}}});qe.addInitHook("addHandler","dragging",rf),qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var of=_n.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),ze(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ke(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,c=r.scrollTop||a.scrollTop,p=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(p,c)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},c=this.keyCodes,p,x;for(p=0,x=c.left.length;p<x;p++)a[c.left[p]]=[-1*r,0];for(p=0,x=c.right.length;p<x;p++)a[c.right[p]]=[r,0];for(p=0,x=c.down.length;p<x;p++)a[c.down[p]]=[0,r];for(p=0,x=c.up.length;p<x;p++)a[c.up[p]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},c=this.keyCodes,p,x;for(p=0,x=c.zoomIn.length;p<x;p++)a[c.zoomIn[p]]=r;for(p=0,x=c.zoomOut.length;p<x;p++)a[c.zoomOut[p]]=-r},_addHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,c=this._map,p;if(a in this._panKeys){if(!c._panAnim||!c._panAnim._inProgress)if(p=this._panKeys[a],r.shiftKey&&(p=Q(p).multiplyBy(3)),c.options.maxBounds&&(p=c._limitOffset(Q(p),c.options.maxBounds)),c.options.worldCopyJump){var x=c.wrapLatLng(c.unproject(c.project(c.getCenter()).add(p)));c.panTo(x)}else c.panBy(p)}else if(a in this._zoomKeys)c.setZoom(c.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&c._popup&&c._popup.options.closeOnEscapeKey)c.closePopup();else return;F(r)}}});qe.addInitHook("addHandler","keyboard",of),qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var sf=_n.extend({addHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=Be(r),c=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var p=Math.max(c-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),p),F(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),c=this._map.options.zoomSnap||0;r._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,O=c?Math.ceil(x/c)*c:x,B=r._limitZoom(a+(this._delta>0?O:-O))-a;this._delta=0,this._startTime=null,B&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+B):r.setZoomAround(this._lastMousePos,a+B))}});qe.addInitHook("addHandler","scrollWheelZoom",sf);var Og=600;qe.mergeOptions({tapHold:Ce.touchNative&&Ce.safari&&Ce.mobile,tapTolerance:15});var af=_n.extend({addHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new J(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(ze(document,"touchend",D),ze(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Og),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Ke(document,"touchend",D),Ke(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new J(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var c=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});c._simulated=!0,a.target.dispatchEvent(c)}});qe.addInitHook("addHandler","tapHold",af),qe.mergeOptions({touchZoom:Ce.touch,bounceAtZoomLimits:!0});var lf=_n.extend({addHooks:function(){Re(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){it(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var c=a.mouseEventToContainerPoint(r.touches[0]),p=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(c.add(p)._divideBy(2))),this._startDist=c.distanceTo(p),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),D(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,c=a.mouseEventToContainerPoint(r.touches[0]),p=a.mouseEventToContainerPoint(r.touches[1]),x=c.distanceTo(p)/this._startDist;if(this._zoom=a.getScaleZoom(x,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&x<1||this._zoom>a.getMaxZoom()&&x>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var O=c._add(p)._divideBy(2)._subtract(this._centerPoint);if(x===1&&O.x===0&&O.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(O),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var B=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=se(B,this,!0),D(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qe.addInitHook("addHandler","touchZoom",lf),qe.BoxZoom=tf,qe.DoubleClickZoom=nf,qe.Drag=rf,qe.Keyboard=of,qe.ScrollWheelZoom=sf,qe.TapHold=af,qe.TouchZoom=lf,n.Bounds=W,n.Browser=Ce,n.CRS=Ue,n.Canvas=Qh,n.Circle=qu,n.CircleMarker=Aa,n.Class=N,n.Control=tn,n.DivIcon=$h,n.DivOverlay=or,n.DomEvent=ft,n.DomUtil=ns,n.Draggable=rr,n.Evented=de,n.FeatureGroup=wn,n.GeoJSON=kr,n.GridLayer=fs,n.Handler=_n,n.Icon=Gr,n.ImageOverlay=Ua,n.LatLng=le,n.LatLngBounds=we,n.Layer=pt,n.LayerGroup=bt,n.LineUtil=Y,n.Map=qe,n.Marker=za,n.Mixin=Fu,n.Path=Vr,n.Point=J,n.PolyUtil=Bu,n.Polygon=no,n.Polyline=Lr,n.Popup=Wa,n.PosAnimation=Dt,n.Projection=Oe,n.Rectangle=ef,n.Renderer=Er,n.SVG=ms,n.SVGOverlay=Vh,n.TileLayer=io,n.Tooltip=Ha,n.Transformation=tt,n.Util=X,n.VideoOverlay=Gh,n.bind=l,n.bounds=Z,n.canvas=Kh,n.circle=gg,n.circleMarker=_g,n.control=Ni,n.divIcon=Tg,n.extend=i,n.featureGroup=br,n.geoJSON=qh,n.geoJson=xg,n.gridLayer=Cg,n.icon=mg,n.imageOverlay=bg,n.latLng=Le,n.latLngBounds=me,n.layerGroup=yn,n.map=Du,n.marker=vg,n.point=Q,n.polygon=wg,n.polyline=yg,n.popup=Eg,n.rectangle=Ng,n.setOptions=k,n.stamp=d,n.svg=Jh,n.svgOverlay=kg,n.tileLayer=Yh,n.tooltip=Sg,n.transformation=nt,n.version=o,n.videoOverlay=Lg;var Dg=window.L;n.noConflict=function(){return window.L=Dg,this},window.L=n})})(Pd,Pd.exports);var hr=Pd.exports;const qn=ua(hr);function Li(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function _a(e,t){return t==null?function(o,i){const s=H.useRef();return s.current||(s.current=e(o,i)),s}:function(o,i){const s=H.useRef();s.current||(s.current=e(o,i));const l=H.useRef(o),{instance:u}=s.current;return H.useEffect(function(){l.current!==o&&(t(u,o,l.current),l.current=o)},[u,o,i]),s}}function j_(e,t){H.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function F_(e){return function(n){const o=va(),i=e(Eu(n,o),o);return O_(o.map,n.attribution),Oh(i.current,n.eventHandlers),j_(i.current,o),i}}function lx(e,t){const n=H.useRef();H.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function ux(e){return function(n){const o=va(),i=e(Eu(n,o),o);return Oh(i.current,n.eventHandlers),j_(i.current,o),lx(i.current,n),i}}function cx(e){function t(i,s){return Li(e(i),s)}const n=_a(t),o=sx(n);return R_(o)}function dx(e,t){const n=_a(e,t),o=F_(n);return A_(o)}function hx(e,t){const n=_a(e),o=ax(n,t);return ox(o)}function Su(e,t){const n=_a(e,t),o=ux(n);return A_(o)}function fx(e,t){const n=_a(e,t),o=F_(n);return R_(o)}function px(e,t,n){const{opacity:o,zIndex:i}=t;o!=null&&o!==n.opacity&&e.setOpacity(o),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function ga(){return va().map}function mx(e){const t=ga();return H.useEffect(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}const vx=Su(function({center:t,children:n,...o},i){const s=new hr.Circle(t,o);return Li(s,ma(i,{overlayContainer:s}))},D_),_x=Su(function({center:t,children:n,...o},i){const s=new hr.CircleMarker(t,o);return Li(s,ma(i,{overlayContainer:s}))},D_);function Md(){return Md=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Md.apply(this,arguments)}function gx({bounds:e,boundsOptions:t,center:n,children:o,className:i,id:s,placeholder:l,style:u,whenReady:d,zoom:f,..._},m){const[w]=H.useState({className:i,id:s,style:u}),[b,P]=H.useState(null);H.useImperativeHandle(m,()=>b?.map??null,[b]);const k=H.useCallback(g=>{if(g!==null&&b===null){const y=new hr.Map(g,_);n!=null&&f!=null?y.setView(n,f):e!=null&&y.fitBounds(e,t),d!=null&&y.whenReady(d),P(ix(y))}},[]);H.useEffect(()=>()=>{b?.map.remove()},[b]);const M=b?Po.createElement(z_,{value:b},o):l??null;return Po.createElement("div",Md({},w,{ref:k}),M)}const yx=H.forwardRef(gx),wx=dx(function({position:t,...n},o){const i=new hr.Marker(t,n);return Li(i,ma(o,{overlayContainer:i}))},function(t,n,o){n.position!==o.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==o.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==o.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==o.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==o.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),xx=Su(function({positions:t,...n},o){const i=new hr.Polygon(t,n);return Li(i,ma(o,{overlayContainer:i}))},function(t,n,o){n.positions!==o.positions&&t.setLatLngs(n.positions)}),bx=Su(function({positions:t,...n},o){const i=new hr.Polyline(t,n);return Li(i,ma(o,{overlayContainer:i}))},function(t,n,o){n.positions!==o.positions&&t.setLatLngs(n.positions)}),Lx=hx(function(t,n){const o=new hr.Popup(t,n.overlayContainer);return Li(o,n)},function(t,n,{position:o},i){H.useEffect(function(){const{instance:l}=t;function u(f){f.popup===l&&(l.update(),i(!0))}function d(f){f.popup===l&&i(!1)}return n.map.on({popupopen:u,popupclose:d}),n.overlayContainer==null?(o!=null&&l.setLatLng(o),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){n.map.off({popupopen:u,popupclose:d}),n.overlayContainer?.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,o])}),Rp=fx(function({url:t,...n},o){const i=new hr.TileLayer(t,Eu(n,o));return Li(i,o)},function(t,n,o){px(t,n,o);const{url:i}=n;i!=null&&i!==o.url&&t.setUrl(i)}),kx=cx(function(t){return new hr.Control.Zoom(t)}),Ex={},jp=e=>{let t;const n=new Set,o=(_,m)=>{const w=typeof _=="function"?_(t):_;if(!Object.is(w,t)){const b=t;t=m??(typeof w!="object"||w===null)?w:Object.assign({},t,w),n.forEach(P=>P(t,b))}},i=()=>t,d={setState:o,getState:i,getInitialState:()=>f,subscribe:_=>(n.add(_),()=>n.delete(_)),destroy:()=>{(Ex?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(o,i,d);return d},Sx=e=>e?jp(e):jp;var B_={exports:{}},U_={},W_={exports:{}},H_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bo=H;function Tx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cx=typeof Object.is=="function"?Object.is:Tx,Px=Bo.useState,Mx=Bo.useEffect,Nx=Bo.useLayoutEffect,Ox=Bo.useDebugValue;function Dx(e,t){var n=t(),o=Px({inst:{value:n,getSnapshot:t}}),i=o[0].inst,s=o[1];return Nx(function(){i.value=n,i.getSnapshot=t,kc(i)&&s({inst:i})},[e,n,t]),Mx(function(){return kc(i)&&s({inst:i}),e(function(){kc(i)&&s({inst:i})})},[e]),Ox(n),n}function kc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cx(e,n)}catch{return!0}}function Ix(e,t){return t()}var zx=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ix:Dx;H_.useSyncExternalStore=Bo.useSyncExternalStore!==void 0?Bo.useSyncExternalStore:zx;W_.exports=H_;var Ax=W_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=H,Rx=Ax;function jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fx=typeof Object.is=="function"?Object.is:jx,Bx=Rx.useSyncExternalStore,Ux=Tu.useRef,Wx=Tu.useEffect,Hx=Tu.useMemo,Zx=Tu.useDebugValue;U_.useSyncExternalStoreWithSelector=function(e,t,n,o,i){var s=Ux(null);if(s.current===null){var l={hasValue:!1,value:null};s.current=l}else l=s.current;s=Hx(function(){function d(b){if(!f){if(f=!0,_=b,b=o(b),i!==void 0&&l.hasValue){var P=l.value;if(i(P,b))return m=P}return m=b}if(P=m,Fx(_,b))return P;var k=o(b);return i!==void 0&&i(P,k)?(_=b,P):(_=b,m=k)}var f=!1,_,m,w=n===void 0?null:n;return[function(){return d(t())},w===null?void 0:function(){return d(w())}]},[t,n,o,i]);var u=Bx(e,s[0],s[1]);return Wx(function(){l.hasValue=!0,l.value=u},[u]),Zx(u),u};B_.exports=U_;var qx=B_.exports;const Gx=ua(qx),Z_={},{useDebugValue:Vx}=Po,{useSyncExternalStoreWithSelector:$x}=Gx;let Fp=!1;const Yx=e=>e;function Xx(e,t=Yx,n){(Z_?"production":void 0)!=="production"&&n&&!Fp&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Fp=!0);const o=$x(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Vx(o),o}const Bp=e=>{(Z_?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Sx(e):e,n=(o,i)=>Xx(t,o,i);return Object.assign(n,t),n},Dh=e=>e?Bp(e):Bp;let cl;const Qx=new Uint8Array(16);function Kx(){if(!cl&&(cl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!cl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cl(Qx)}const It=[];for(let e=0;e<256;++e)It.push((e+256).toString(16).slice(1));function Jx(e,t=0){return It[e[t+0]]+It[e[t+1]]+It[e[t+2]]+It[e[t+3]]+"-"+It[e[t+4]]+It[e[t+5]]+"-"+It[e[t+6]]+It[e[t+7]]+"-"+It[e[t+8]]+It[e[t+9]]+"-"+It[e[t+10]]+It[e[t+11]]+It[e[t+12]]+It[e[t+13]]+It[e[t+14]]+It[e[t+15]]}const eb=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Up={randomUUID:eb};function tb(e,t,n){if(Up.randomUUID&&!e)return Up.randomUUID();e=e||{};const o=e.random||(e.rng||Kx)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,Jx(o)}function ya(){return tb()}function Jl(e){"@babel/helpers - typeof";return Jl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jl(e)}function _i(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function at(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function st(e){at(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Jl(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function nb(e,t){at(2,arguments);var n=st(e).getTime(),o=_i(t);return new Date(n+o)}var rb={};function wa(){return rb}function Nd(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Sl(e,t){at(2,arguments);var n=st(e),o=st(t),i=n.getTime()-o.getTime();return i<0?-1:i>0?1:i}var q_=6e4,G_=36e5;function ib(e){return at(1,arguments),e instanceof Date||Jl(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ob(e){if(at(1,arguments),!ib(e)&&typeof e!="number")return!1;var t=st(e);return!isNaN(Number(t))}function sb(e,t){at(2,arguments);var n=st(e),o=st(t),i=n.getFullYear()-o.getFullYear(),s=n.getMonth()-o.getMonth();return i*12+s}function ab(e,t){return at(2,arguments),st(e).getTime()-st(t).getTime()}var lb={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ub="trunc";function cb(e){return lb[ub]}function db(e){at(1,arguments);var t=st(e);return t.setHours(23,59,59,999),t}function hb(e){at(1,arguments);var t=st(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function fb(e){at(1,arguments);var t=st(e);return db(t).getTime()===hb(t).getTime()}function pb(e,t){at(2,arguments);var n=st(e),o=st(t),i=Sl(n,o),s=Math.abs(sb(n,o)),l;if(s<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);var u=Sl(n,o)===-i;fb(st(e))&&s===1&&Sl(e,o)===1&&(u=!1),l=i*(s-Number(u))}return l===0?0:l}function mb(e,t,n){at(2,arguments);var o=ab(e,t)/1e3;return cb()(o)}function vb(e,t){at(2,arguments);var n=_i(t);return nb(e,-n)}var _b=864e5;function gb(e){at(1,arguments);var t=st(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var o=t.getTime(),i=n-o;return Math.floor(i/_b)+1}function eu(e){at(1,arguments);var t=1,n=st(e),o=n.getUTCDay(),i=(o<t?7:0)+o-t;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function V_(e){at(1,arguments);var t=st(e),n=t.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(n+1,0,4),o.setUTCHours(0,0,0,0);var i=eu(o),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var l=eu(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function yb(e){at(1,arguments);var t=V_(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var o=eu(n);return o}var wb=6048e5;function xb(e){at(1,arguments);var t=st(e),n=eu(t).getTime()-yb(t).getTime();return Math.round(n/wb)+1}function tu(e,t){var n,o,i,s,l,u,d,f;at(1,arguments);var _=wa(),m=_i((n=(o=(i=(s=t?.weekStartsOn)!==null&&s!==void 0?s:t==null||(l=t.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&i!==void 0?i:_.weekStartsOn)!==null&&o!==void 0?o:(d=_.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&n!==void 0?n:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var w=st(e),b=w.getUTCDay(),P=(b<m?7:0)+b-m;return w.setUTCDate(w.getUTCDate()-P),w.setUTCHours(0,0,0,0),w}function $_(e,t){var n,o,i,s,l,u,d,f;at(1,arguments);var _=st(e),m=_.getUTCFullYear(),w=wa(),b=_i((n=(o=(i=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(l=t.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:w.firstWeekContainsDate)!==null&&o!==void 0?o:(d=w.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=new Date(0);P.setUTCFullYear(m+1,0,b),P.setUTCHours(0,0,0,0);var k=tu(P,t),M=new Date(0);M.setUTCFullYear(m,0,b),M.setUTCHours(0,0,0,0);var g=tu(M,t);return _.getTime()>=k.getTime()?m+1:_.getTime()>=g.getTime()?m:m-1}function bb(e,t){var n,o,i,s,l,u,d,f;at(1,arguments);var _=wa(),m=_i((n=(o=(i=(s=t?.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(l=t.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:_.firstWeekContainsDate)!==null&&o!==void 0?o:(d=_.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&n!==void 0?n:1),w=$_(e,t),b=new Date(0);b.setUTCFullYear(w,0,m),b.setUTCHours(0,0,0,0);var P=tu(b,t);return P}var Lb=6048e5;function kb(e,t){at(1,arguments);var n=st(e),o=tu(n,t).getTime()-bb(n,t).getTime();return Math.round(o/Lb)+1}function Je(e,t){for(var n=e<0?"-":"",o=Math.abs(e).toString();o.length<t;)o="0"+o;return n+o}var Xr={y:function(t,n){var o=t.getUTCFullYear(),i=o>0?o:1-o;return Je(n==="yy"?i%100:i,n.length)},M:function(t,n){var o=t.getUTCMonth();return n==="M"?String(o+1):Je(o+1,2)},d:function(t,n){return Je(t.getUTCDate(),n.length)},a:function(t,n){var o=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return o.toUpperCase();case"aaa":return o;case"aaaaa":return o[0];case"aaaa":default:return o==="am"?"a.m.":"p.m."}},h:function(t,n){return Je(t.getUTCHours()%12||12,n.length)},H:function(t,n){return Je(t.getUTCHours(),n.length)},m:function(t,n){return Je(t.getUTCMinutes(),n.length)},s:function(t,n){return Je(t.getUTCSeconds(),n.length)},S:function(t,n){var o=n.length,i=t.getUTCMilliseconds(),s=Math.floor(i*Math.pow(10,o-3));return Je(s,n.length)}},ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Eb={G:function(t,n,o){var i=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return o.era(i,{width:"abbreviated"});case"GGGGG":return o.era(i,{width:"narrow"});case"GGGG":default:return o.era(i,{width:"wide"})}},y:function(t,n,o){if(n==="yo"){var i=t.getUTCFullYear(),s=i>0?i:1-i;return o.ordinalNumber(s,{unit:"year"})}return Xr.y(t,n)},Y:function(t,n,o,i){var s=$_(t,i),l=s>0?s:1-s;if(n==="YY"){var u=l%100;return Je(u,2)}return n==="Yo"?o.ordinalNumber(l,{unit:"year"}):Je(l,n.length)},R:function(t,n){var o=V_(t);return Je(o,n.length)},u:function(t,n){var o=t.getUTCFullYear();return Je(o,n.length)},Q:function(t,n,o){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return Je(i,2);case"Qo":return o.ordinalNumber(i,{unit:"quarter"});case"QQQ":return o.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return o.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return o.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,n,o){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return Je(i,2);case"qo":return o.ordinalNumber(i,{unit:"quarter"});case"qqq":return o.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return o.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return o.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,n,o){var i=t.getUTCMonth();switch(n){case"M":case"MM":return Xr.M(t,n);case"Mo":return o.ordinalNumber(i+1,{unit:"month"});case"MMM":return o.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return o.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return o.month(i,{width:"wide",context:"formatting"})}},L:function(t,n,o){var i=t.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return Je(i+1,2);case"Lo":return o.ordinalNumber(i+1,{unit:"month"});case"LLL":return o.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return o.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return o.month(i,{width:"wide",context:"standalone"})}},w:function(t,n,o,i){var s=kb(t,i);return n==="wo"?o.ordinalNumber(s,{unit:"week"}):Je(s,n.length)},I:function(t,n,o){var i=xb(t);return n==="Io"?o.ordinalNumber(i,{unit:"week"}):Je(i,n.length)},d:function(t,n,o){return n==="do"?o.ordinalNumber(t.getUTCDate(),{unit:"date"}):Xr.d(t,n)},D:function(t,n,o){var i=gb(t);return n==="Do"?o.ordinalNumber(i,{unit:"dayOfYear"}):Je(i,n.length)},E:function(t,n,o){var i=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return o.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return o.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return o.day(i,{width:"short",context:"formatting"});case"EEEE":default:return o.day(i,{width:"wide",context:"formatting"})}},e:function(t,n,o,i){var s=t.getUTCDay(),l=(s-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return Je(l,2);case"eo":return o.ordinalNumber(l,{unit:"day"});case"eee":return o.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return o.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return o.day(s,{width:"short",context:"formatting"});case"eeee":default:return o.day(s,{width:"wide",context:"formatting"})}},c:function(t,n,o,i){var s=t.getUTCDay(),l=(s-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return Je(l,n.length);case"co":return o.ordinalNumber(l,{unit:"day"});case"ccc":return o.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return o.day(s,{width:"narrow",context:"standalone"});case"cccccc":return o.day(s,{width:"short",context:"standalone"});case"cccc":default:return o.day(s,{width:"wide",context:"standalone"})}},i:function(t,n,o){var i=t.getUTCDay(),s=i===0?7:i;switch(n){case"i":return String(s);case"ii":return Je(s,n.length);case"io":return o.ordinalNumber(s,{unit:"day"});case"iii":return o.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return o.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return o.day(i,{width:"short",context:"formatting"});case"iiii":default:return o.day(i,{width:"wide",context:"formatting"})}},a:function(t,n,o){var i=t.getUTCHours(),s=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,n,o){var i=t.getUTCHours(),s;switch(i===12?s=ao.noon:i===0?s=ao.midnight:s=i/12>=1?"pm":"am",n){case"b":case"bb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,n,o){var i=t.getUTCHours(),s;switch(i>=17?s=ao.evening:i>=12?s=ao.afternoon:i>=4?s=ao.morning:s=ao.night,n){case"B":case"BB":case"BBB":return o.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return o.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return o.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,n,o){if(n==="ho"){var i=t.getUTCHours()%12;return i===0&&(i=12),o.ordinalNumber(i,{unit:"hour"})}return Xr.h(t,n)},H:function(t,n,o){return n==="Ho"?o.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Xr.H(t,n)},K:function(t,n,o){var i=t.getUTCHours()%12;return n==="Ko"?o.ordinalNumber(i,{unit:"hour"}):Je(i,n.length)},k:function(t,n,o){var i=t.getUTCHours();return i===0&&(i=24),n==="ko"?o.ordinalNumber(i,{unit:"hour"}):Je(i,n.length)},m:function(t,n,o){return n==="mo"?o.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Xr.m(t,n)},s:function(t,n,o){return n==="so"?o.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Xr.s(t,n)},S:function(t,n){return Xr.S(t,n)},X:function(t,n,o,i){var s=i._originalDate||t,l=s.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return Hp(l);case"XXXX":case"XX":return zi(l);case"XXXXX":case"XXX":default:return zi(l,":")}},x:function(t,n,o,i){var s=i._originalDate||t,l=s.getTimezoneOffset();switch(n){case"x":return Hp(l);case"xxxx":case"xx":return zi(l);case"xxxxx":case"xxx":default:return zi(l,":")}},O:function(t,n,o,i){var s=i._originalDate||t,l=s.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+Wp(l,":");case"OOOO":default:return"GMT"+zi(l,":")}},z:function(t,n,o,i){var s=i._originalDate||t,l=s.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+Wp(l,":");case"zzzz":default:return"GMT"+zi(l,":")}},t:function(t,n,o,i){var s=i._originalDate||t,l=Math.floor(s.getTime()/1e3);return Je(l,n.length)},T:function(t,n,o,i){var s=i._originalDate||t,l=s.getTime();return Je(l,n.length)}};function Wp(e,t){var n=e>0?"-":"+",o=Math.abs(e),i=Math.floor(o/60),s=o%60;if(s===0)return n+String(i);var l=t;return n+String(i)+l+Je(s,2)}function Hp(e,t){if(e%60===0){var n=e>0?"-":"+";return n+Je(Math.abs(e)/60,2)}return zi(e,t)}function zi(e,t){var n=t||"",o=e>0?"-":"+",i=Math.abs(e),s=Je(Math.floor(i/60),2),l=Je(i%60,2);return o+s+n+l}var Zp=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Y_=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Sb=function(t,n){var o=t.match(/(P+)(p+)?/)||[],i=o[1],s=o[2];if(!s)return Zp(t,n);var l;switch(i){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",Zp(i,n)).replace("{{time}}",Y_(s,n))},Tb={p:Y_,P:Sb},Cb=["D","DD"],Pb=["YY","YYYY"];function Mb(e){return Cb.indexOf(e)!==-1}function Nb(e){return Pb.indexOf(e)!==-1}function qp(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ob={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Db=function(t,n,o){var i,s=Ob[t];return typeof s=="string"?i=s:n===1?i=s.one:i=s.other.replace("{{count}}",n.toString()),o!=null&&o.addSuffix?o.comparison&&o.comparison>0?"in "+i:i+" ago":i};function Ec(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,o=e.formats[n]||e.formats[e.defaultWidth];return o}}var Ib={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},zb={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ab={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rb={date:Ec({formats:Ib,defaultWidth:"full"}),time:Ec({formats:zb,defaultWidth:"full"}),dateTime:Ec({formats:Ab,defaultWidth:"full"})},jb={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Fb=function(t,n,o,i){return jb[t]};function ks(e){return function(t,n){var o=n!=null&&n.context?String(n.context):"standalone",i;if(o==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):s;i=e.formattingValues[l]||e.formattingValues[s]}else{var u=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[d]||e.values[u]}var f=e.argumentCallback?e.argumentCallback(t):t;return i[f]}}var Bb={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ub={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Wb={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Hb={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Zb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},qb={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gb=function(t,n){var o=Number(t),i=o%100;if(i>20||i<10)switch(i%10){case 1:return o+"st";case 2:return o+"nd";case 3:return o+"rd"}return o+"th"},Vb={ordinalNumber:Gb,era:ks({values:Bb,defaultWidth:"wide"}),quarter:ks({values:Ub,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:ks({values:Wb,defaultWidth:"wide"}),day:ks({values:Hb,defaultWidth:"wide"}),dayPeriod:ks({values:Zb,defaultWidth:"wide",formattingValues:qb,defaultFormattingWidth:"wide"})};function Es(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.width,i=o&&e.matchPatterns[o]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;var l=s[0],u=o&&e.parsePatterns[o]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?Yb(u,function(m){return m.test(l)}):$b(u,function(m){return m.test(l)}),f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;var _=t.slice(l.length);return{value:f,rest:_}}}function $b(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function Yb(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function Xb(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=t.match(e.matchPattern);if(!o)return null;var i=o[0],s=t.match(e.parsePattern);if(!s)return null;var l=e.valueCallback?e.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;var u=t.slice(i.length);return{value:l,rest:u}}}var Qb=/^(\d+)(th|st|nd|rd)?/i,Kb=/\d+/i,Jb={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eL={any:[/^b/i,/^(a|c)/i]},tL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},nL={any:[/1/i,/2/i,/3/i,/4/i]},rL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},iL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},oL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},sL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},uL={ordinalNumber:Xb({matchPattern:Qb,parsePattern:Kb,valueCallback:function(t){return parseInt(t,10)}}),era:Es({matchPatterns:Jb,defaultMatchWidth:"wide",parsePatterns:eL,defaultParseWidth:"any"}),quarter:Es({matchPatterns:tL,defaultMatchWidth:"wide",parsePatterns:nL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Es({matchPatterns:rL,defaultMatchWidth:"wide",parsePatterns:iL,defaultParseWidth:"any"}),day:Es({matchPatterns:oL,defaultMatchWidth:"wide",parsePatterns:sL,defaultParseWidth:"any"}),dayPeriod:Es({matchPatterns:aL,defaultMatchWidth:"any",parsePatterns:lL,defaultParseWidth:"any"})},X_={code:"en-US",formatDistance:Db,formatLong:Rb,formatRelative:Fb,localize:Vb,match:uL,options:{weekStartsOn:0,firstWeekContainsDate:1}},cL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hL=/^'([^]*?)'?$/,fL=/''/g,pL=/[a-zA-Z]/;function mL(e,t,n){var o,i,s,l,u,d,f,_,m,w,b,P,k,M;at(2,arguments);var g=String(t),y=wa(),T=(o=(i=void 0)!==null&&i!==void 0?i:y.locale)!==null&&o!==void 0?o:X_,I=_i((s=(l=(u=(d=void 0)!==null&&d!==void 0?d:void 0)!==null&&u!==void 0?u:y.firstWeekContainsDate)!==null&&l!==void 0?l:(f=y.locale)===null||f===void 0||(_=f.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var z=_i((m=(w=(b=(P=void 0)!==null&&P!==void 0?P:void 0)!==null&&b!==void 0?b:y.weekStartsOn)!==null&&w!==void 0?w:(k=y.locale)===null||k===void 0||(M=k.options)===null||M===void 0?void 0:M.weekStartsOn)!==null&&m!==void 0?m:0);if(!(z>=0&&z<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!T.localize)throw new RangeError("locale must contain localize property");if(!T.formatLong)throw new RangeError("locale must contain formatLong property");var q=st(e);if(!ob(q))throw new RangeError("Invalid time value");var U=Nd(q),V=vb(q,U),$={firstWeekContainsDate:I,weekStartsOn:z,locale:T,_originalDate:q},ne=g.match(dL).map(function(se){var j=se[0];if(j==="p"||j==="P"){var X=Tb[j];return X(se,T.formatLong)}return se}).join("").match(cL).map(function(se){if(se==="''")return"'";var j=se[0];if(j==="'")return vL(se);var X=Eb[j];if(X)return Nb(se)&&qp(se,t,String(e)),Mb(se)&&qp(se,t,String(e)),X(V,se,T.localize,$);if(j.match(pL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return se}).join("");return ne}function vL(e){var t=e.match(hL);return t?t[1].replace(fL,"'"):e}function Q_(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function _L(e){return Q_({},e)}var Gp=1440,gL=2520,Sc=43200,yL=86400;function wL(e,t,n){var o,i;at(2,arguments);var s=wa(),l=(o=(i=n?.locale)!==null&&i!==void 0?i:s.locale)!==null&&o!==void 0?o:X_;if(!l.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=Sl(e,t);if(isNaN(u))throw new RangeError("Invalid time value");var d=Q_(_L(n),{addSuffix:!!n?.addSuffix,comparison:u}),f,_;u>0?(f=st(t),_=st(e)):(f=st(e),_=st(t));var m=mb(_,f),w=(Nd(_)-Nd(f))/1e3,b=Math.round((m-w)/60),P;if(b<2)return n!=null&&n.includeSeconds?m<5?l.formatDistance("lessThanXSeconds",5,d):m<10?l.formatDistance("lessThanXSeconds",10,d):m<20?l.formatDistance("lessThanXSeconds",20,d):m<40?l.formatDistance("halfAMinute",0,d):m<60?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",1,d):b===0?l.formatDistance("lessThanXMinutes",1,d):l.formatDistance("xMinutes",b,d);if(b<45)return l.formatDistance("xMinutes",b,d);if(b<90)return l.formatDistance("aboutXHours",1,d);if(b<Gp){var k=Math.round(b/60);return l.formatDistance("aboutXHours",k,d)}else{if(b<gL)return l.formatDistance("xDays",1,d);if(b<Sc){var M=Math.round(b/Gp);return l.formatDistance("xDays",M,d)}else if(b<yL)return P=Math.round(b/Sc),l.formatDistance("aboutXMonths",P,d)}if(P=pb(_,f),P<12){var g=Math.round(b/Sc);return l.formatDistance("xMonths",g,d)}else{var y=P%12,T=Math.floor(P/12);return y<3?l.formatDistance("aboutXYears",T,d):y<9?l.formatDistance("overXYears",T,d):l.formatDistance("almostXYears",T+1,d)}}function xL(e,t){return at(1,arguments),wL(e,Date.now(),t)}function Ih(e,t){var n;at(1,arguments);var o=_i((n=void 0)!==null&&n!==void 0?n:2);if(o!==2&&o!==1&&o!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=EL(e),s;if(i.date){var l=SL(i.date,o);s=TL(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var u=s.getTime(),d=0,f;if(i.time&&(d=CL(i.time),isNaN(d)))return new Date(NaN);if(i.timezone){if(f=PL(i.timezone),isNaN(f))return new Date(NaN)}else{var _=new Date(u+d),m=new Date(0);return m.setFullYear(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),m.setHours(_.getUTCHours(),_.getUTCMinutes(),_.getUTCSeconds(),_.getUTCMilliseconds()),m}return new Date(u+d+f)}var dl={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,LL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function EL(e){var t={},n=e.split(dl.dateTimeDelimiter),o;if(n.length>2)return t;if(/:/.test(n[0])?o=n[0]:(t.date=n[0],o=n[1],dl.timeZoneDelimiter.test(t.date)&&(t.date=e.split(dl.timeZoneDelimiter)[0],o=e.substr(t.date.length,e.length))),o){var i=dl.timezone.exec(o);i?(t.time=o.replace(i[1],""),t.timezone=i[1]):t.time=o}return t}function SL(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),o=e.match(n);if(!o)return{year:NaN,restDateString:""};var i=o[1]?parseInt(o[1]):null,s=o[2]?parseInt(o[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((o[1]||o[2]).length)}}function TL(e,t){if(t===null)return new Date(NaN);var n=e.match(bL);if(!n)return new Date(NaN);var o=!!n[4],i=Ss(n[1]),s=Ss(n[2])-1,l=Ss(n[3]),u=Ss(n[4]),d=Ss(n[5])-1;if(o)return IL(t,u,d)?ML(t,u,d):new Date(NaN);var f=new Date(0);return!OL(t,s,l)||!DL(t,i)?new Date(NaN):(f.setUTCFullYear(t,s,Math.max(i,l)),f)}function Ss(e){return e?parseInt(e):1}function CL(e){var t=e.match(LL);if(!t)return NaN;var n=Tc(t[1]),o=Tc(t[2]),i=Tc(t[3]);return zL(n,o,i)?n*G_+o*q_+i*1e3:NaN}function Tc(e){return e&&parseFloat(e.replace(",","."))||0}function PL(e){if(e==="Z")return 0;var t=e.match(kL);if(!t)return 0;var n=t[1]==="+"?-1:1,o=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return AL(o,i)?n*(o*G_+i*q_):NaN}function ML(e,t,n){var o=new Date(0);o.setUTCFullYear(e,0,4);var i=o.getUTCDay()||7,s=(t-1)*7+n+1-i;return o.setUTCDate(o.getUTCDate()+s),o}var NL=[31,null,31,30,31,30,31,31,30,31,30,31];function K_(e){return e%400===0||e%4===0&&e%100!==0}function OL(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(NL[t]||(K_(e)?29:28))}function DL(e,t){return t>=1&&t<=(K_(e)?366:365)}function IL(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function zL(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function AL(e,t){return t>=0&&t<=59}function RL(e){const t=typeof e=="string"?Ih(e):e;return mL(t,"yyyy-MM-dd")}function zh(e){const t=typeof e=="string"?Ih(e):e;return xL(t,{addSuffix:!0})}function jn(e){return e.toISOString()}function an(e){return Ih(e)}function J_(e){return{id:e.id,name:e.name,description:e.description||void 0,geometryType:e.geometry_type,geometry:JSON.parse(e.geometry),templateId:e.template_id||void 0,tags:JSON.parse(e.tags||"[]"),properties:JSON.parse(e.properties||"{}"),createdAt:an(e.created_at),updatedAt:an(e.updated_at)}}async function Ah(e){return(await e.all(`
    SELECT id, name, description, geometry_type, geometry,
           template_id, tags, properties, created_at, updated_at
    FROM features
    ORDER BY created_at DESC
  `)).map(J_)}async function Od(e,t){const n=await e.get(`
    SELECT id, name, description, geometry_type, geometry,
           template_id, tags, properties, created_at, updated_at
    FROM features
    WHERE id = ?
  `,[t]);return n?J_(n):null}async function eg(e,t){const n=ya(),o=jn(new Date);await e.run(`
    INSERT INTO features (
      id, name, description, geometry_type, geometry,
      template_id, tags, properties, created_at, updated_at
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[n,t.name,t.description||null,t.geometryType,JSON.stringify(t.geometry),t.templateId||null,JSON.stringify(t.tags||[]),JSON.stringify(t.properties||{}),o,o]);const i=await Od(e,n);if(!i)throw new Error("Failed to create feature");return i}async function jL(e,t,n){if(!await Od(e,t))throw new Error("Feature not found");const i=jn(new Date);await e.run(`
    UPDATE features SET
      name = COALESCE(?, name),
      description = COALESCE(?, description),
      geometry = COALESCE(?, geometry),
      tags = COALESCE(?, tags),
      properties = COALESCE(?, properties),
      updated_at = ?
    WHERE id = ?
  `,[n.name||null,n.description||null,n.geometry?JSON.stringify(n.geometry):null,n.tags?JSON.stringify(n.tags):null,n.properties?JSON.stringify(n.properties):null,i,t]);const s=await Od(e,t);if(!s)throw new Error("Failed to update feature");return s}async function tg(e,t){await e.run("DELETE FROM features WHERE id = ?",[t])}function Rh(e){return{id:e.id,featureId:e.feature_id,notes:e.notes||void 0,tags:JSON.parse(e.tags||"[]"),recordedAt:an(e.recorded_at),createdAt:an(e.created_at),observerLatitude:e.observer_latitude||void 0,observerLongitude:e.observer_longitude||void 0,observerAccuracy:e.observer_accuracy||void 0}}async function Vp(e,t){return(await e.all(`
    SELECT * FROM observations
    WHERE feature_id = ?
    ORDER BY recorded_at DESC
  `,[t])).map(Rh)}async function FL(e,t){const n=await e.get(`
    SELECT * FROM observations WHERE id = ?
  `,[t]);return n?Rh(n):null}async function BL(e){return(await e.all(`
    SELECT * FROM observations ORDER BY recorded_at DESC
  `)).map(Rh)}async function ng(e,t){const n=ya(),o=new Date,i=t.recordedAt||o;await e.run(`
    INSERT INTO observations (
      id, feature_id, notes, tags, recorded_at, created_at,
      observer_latitude, observer_longitude, observer_accuracy
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[n,t.featureId,t.notes||null,JSON.stringify(t.tags||[]),jn(i),jn(o),t.observerLatitude||null,t.observerLongitude||null,t.observerAccuracy||null]);const s=await FL(e,n);if(!s)throw new Error("Failed to create observation");return s}function jh(e){return{id:e.id,featureId:e.feature_id,metric:e.metric,value:e.value,unit:e.unit,method:e.method,accuracy:e.accuracy||void 0,confidence:e.confidence||void 0,notes:e.notes||void 0,recordedAt:an(e.recorded_at),createdAt:an(e.created_at)}}async function $p(e,t){return(await e.all(`
    SELECT * FROM measurements
    WHERE feature_id = ?
    ORDER BY recorded_at DESC
  `,[t])).map(jh)}async function UL(e,t){const n=await e.get(`
    SELECT * FROM measurements WHERE id = ?
  `,[t]);return n?jh(n):null}async function WL(e){return(await e.all(`
    SELECT * FROM measurements ORDER BY recorded_at DESC
  `)).map(jh)}async function rg(e,t){const n=ya(),o=new Date,i=t.recordedAt||o;await e.run(`
    INSERT INTO measurements (
      id, feature_id, metric, value, unit, method,
      accuracy, confidence, notes, recorded_at, created_at
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[n,t.featureId,t.metric,t.value,t.unit,t.method||"estimated",t.accuracy||null,t.confidence||null,t.notes||null,jn(i),jn(o)]);const s=await UL(e,n);if(!s)throw new Error("Failed to create measurement");return s}function Cu(e){return{id:e.id,featureId:e.feature_id,title:e.title,description:e.description||void 0,status:e.status,priority:e.priority||void 0,dueDate:e.due_date?an(e.due_date):void 0,tags:JSON.parse(e.tags||"[]"),createdAt:an(e.created_at),updatedAt:an(e.updated_at),completedAt:e.completed_at?an(e.completed_at):void 0}}async function Yp(e,t){return(await e.all(`
    SELECT * FROM tasks
    WHERE feature_id = ?
    ORDER BY
      CASE status
        WHEN 'active' THEN 1
        WHEN 'planned' THEN 2
        WHEN 'done' THEN 3
        WHEN 'abandoned' THEN 4
      END,
      priority DESC NULLS LAST,
      created_at DESC
  `,[t])).map(Cu)}async function Dd(e,t){const n=await e.get("SELECT * FROM tasks WHERE id = ?",[t]);return n?Cu(n):null}async function HL(e){return(await e.all(`
    SELECT * FROM tasks
    ORDER BY
      CASE status
        WHEN 'active' THEN 1
        WHEN 'planned' THEN 2
        WHEN 'done' THEN 3
        WHEN 'abandoned' THEN 4
      END,
      priority DESC NULLS LAST,
      created_at DESC
  `)).map(Cu)}async function ZL(e,t){let n="SELECT t.* FROM tasks t";const o=[],i=[];if(t.geometryType&&(n+=" JOIN features f ON t.feature_id = f.id",i.push("f.geometry_type = ?"),o.push(t.geometryType)),t.status&&t.status.length>0&&(i.push(`t.status IN (${t.status.map(()=>"?").join(", ")})`),o.push(...t.status)),t.featureId&&(i.push("t.feature_id = ?"),o.push(t.featureId)),t.tags&&t.tags.length>0){const l=t.tags.map(()=>"t.tags LIKE ?");i.push(`(${l.join(" OR ")})`),o.push(...t.tags.map(u=>`%"${u}"%`))}return t.hasDueDate!==void 0&&i.push(t.hasDueDate?"t.due_date IS NOT NULL":"t.due_date IS NULL"),t.overdue&&i.push("t.due_date < date('now') AND t.status NOT IN ('done', 'abandoned')"),i.length>0&&(n+=" WHERE "+i.join(" AND ")),n+=` ORDER BY
    CASE t.status
      WHEN 'active' THEN 1
      WHEN 'planned' THEN 2
      WHEN 'done' THEN 3
      WHEN 'abandoned' THEN 4
    END,
    t.priority DESC NULLS LAST,
    t.created_at DESC`,(await e.all(n,o)).map(Cu)}async function ig(e,t){const n=ya(),o=jn(new Date);await e.run(`
    INSERT INTO tasks (
      id, feature_id, title, description, status,
      priority, due_date, tags, created_at, updated_at
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
  `,[n,t.featureId,t.title,t.description||null,t.status||"planned",t.priority||null,t.dueDate?jn(t.dueDate):null,JSON.stringify(t.tags||[]),o,o]);const i=await Dd(e,n);if(!i)throw new Error("Failed to create task");return i}async function qL(e,t,n){const o=await Dd(e,t);if(!o)throw new Error("Task not found");const i=jn(new Date),s=n.status==="done"&&o.status!=="done"?i:null;await e.run(`
    UPDATE tasks SET
      title = COALESCE(?, title),
      description = COALESCE(?, description),
      status = COALESCE(?, status),
      priority = COALESCE(?, priority),
      due_date = COALESCE(?, due_date),
      tags = COALESCE(?, tags),
      updated_at = ?,
      completed_at = COALESCE(?, completed_at)
    WHERE id = ?
  `,[n.title||null,n.description||null,n.status||null,n.priority??null,n.dueDate?jn(n.dueDate):null,n.tags?JSON.stringify(n.tags):null,i,s,t]);const l=await Dd(e,t);if(!l)throw new Error("Failed to update task");return l}function og(e){return{id:e.id,name:e.name,description:e.description||void 0,icon:e.icon||void 0,isBuiltin:e.is_builtin===1,schema:JSON.parse(e.schema),createdAt:an(e.created_at),updatedAt:an(e.updated_at)}}async function Id(e){return(await e.all(`
    SELECT * FROM templates
    ORDER BY is_builtin DESC, name ASC
  `)).map(og)}async function nu(e,t){const n=await e.get("SELECT * FROM templates WHERE id = ?",[t]);return n?og(n):null}async function Fh(e,t,n=!1){const o=jn(new Date);await e.run(`
    INSERT INTO templates (
      id, name, description, icon, is_builtin, schema, created_at, updated_at
    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
  `,[t.id,t.name,t.description||null,t.icon||null,n?1:0,JSON.stringify(t.schema),o,o]);const i=await nu(e,t.id);if(!i)throw new Error("Failed to create template");return i}async function GL(e,t,n){const o=await nu(e,t);if(!o)throw new Error("Template not found");if(o.isBuiltin)throw new Error("Cannot modify builtin template");const i=jn(new Date);await e.run(`
    UPDATE templates SET
      name = COALESCE(?, name),
      description = COALESCE(?, description),
      icon = COALESCE(?, icon),
      schema = COALESCE(?, schema),
      updated_at = ?
    WHERE id = ?
  `,[n.name||null,n.description||null,n.icon||null,n.schema?JSON.stringify(n.schema):null,i,t]);const s=await nu(e,t);if(!s)throw new Error("Failed to update template");return s}async function VL(e){return(await e.get("SELECT COUNT(*) as count FROM templates"))?.count||0}function sg(e){return{id:e.id,featureId:e.feature_id||void 0,observationId:e.observation_id||void 0,type:e.type,filename:e.filename,storagePath:e.storage_path,mimeType:e.mime_type,sizeBytes:e.size_bytes||void 0,width:e.width||void 0,height:e.height||void 0,durationSeconds:e.duration_seconds||void 0,caption:e.caption||void 0,recordedAt:an(e.recorded_at),createdAt:an(e.created_at),latitude:e.latitude||void 0,longitude:e.longitude||void 0,accuracy:e.accuracy||void 0}}async function Xp(e,t){return(await e.all(`
    SELECT * FROM media
    WHERE feature_id = ?
    ORDER BY recorded_at DESC
  `,[t])).map(sg)}async function $L(e){return(await e.all("SELECT * FROM media ORDER BY recorded_at DESC")).map(sg)}const Vo=Dh((e,t)=>({features:[],selectedFeatureId:null,isLoading:!1,error:null,loadFeatures:async()=>{e({isLoading:!0,error:null});try{const n=await xo(),o=await Ah(n);e({features:o,isLoading:!1})}catch(n){e({error:n.message,isLoading:!1})}},selectFeature:n=>{e({selectedFeatureId:n})},createFeature:async n=>{e({isLoading:!0,error:null});try{const o=await xo(),i=await eg(o,n);return e(s=>({features:[i,...s.features],isLoading:!1})),i}catch(o){throw e({error:o.message,isLoading:!1}),o}},updateFeature:async(n,o)=>{e({isLoading:!0,error:null});try{const i=await xo(),s=await jL(i,n,o);return e(l=>({features:l.features.map(u=>u.id===n?s:u),isLoading:!1})),s}catch(i){throw e({error:i.message,isLoading:!1}),i}},deleteFeature:async n=>{e({isLoading:!0,error:null});try{const o=await xo();await tg(o,n),e(i=>({features:i.features.filter(s=>s.id!==n),selectedFeatureId:i.selectedFeatureId===n?null:i.selectedFeatureId,isLoading:!1}))}catch(o){throw e({error:o.message,isLoading:!1}),o}},getFeatureById:n=>t().features.find(o=>o.id===n)})),YL={};function XL(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const l=d=>d===null?null:JSON.parse(d,void 0),u=(s=n.getItem(i))!=null?s:null;return u instanceof Promise?u.then(l):l(u)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const aa=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(o){return aa(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return aa(o)(n)}}}},QL=(e,t)=>(n,o,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:M=>M,version:0,merge:(M,g)=>({...g,...M}),...t},l=!1;const u=new Set,d=new Set;let f;try{f=s.getStorage()}catch{}if(!f)return e((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...M)},o,i);const _=aa(s.serialize),m=()=>{const M=s.partialize({...o()});let g;const y=_({state:M,version:s.version}).then(T=>f.setItem(s.name,T)).catch(T=>{g=T});if(g)throw g;return y},w=i.setState;i.setState=(M,g)=>{w(M,g),m()};const b=e((...M)=>{n(...M),m()},o,i);let P;const k=()=>{var M;if(!f)return;l=!1,u.forEach(y=>y(o()));const g=((M=s.onRehydrateStorage)==null?void 0:M.call(s,o()))||void 0;return aa(f.getItem.bind(f))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var T;return P=s.merge(y,(T=o())!=null?T:b),n(P,!0),m()}).then(()=>{g?.(P,void 0),l=!0,d.forEach(y=>y(P))}).catch(y=>{g?.(void 0,y)})};return i.persist={setOptions:M=>{s={...s,...M},M.getStorage&&(f=M.getStorage())},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>k(),hasHydrated:()=>l,onHydrate:M=>(u.add(M),()=>{u.delete(M)}),onFinishHydration:M=>(d.add(M),()=>{d.delete(M)})},k(),P||b},KL=(e,t)=>(n,o,i)=>{let s={storage:XL(()=>localStorage),partialize:k=>k,version:0,merge:(k,M)=>({...M,...k}),...t},l=!1;const u=new Set,d=new Set;let f=s.storage;if(!f)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...k)},o,i);const _=()=>{const k=s.partialize({...o()});return f.setItem(s.name,{state:k,version:s.version})},m=i.setState;i.setState=(k,M)=>{m(k,M),_()};const w=e((...k)=>{n(...k),_()},o,i);i.getInitialState=()=>w;let b;const P=()=>{var k,M;if(!f)return;l=!1,u.forEach(y=>{var T;return y((T=o())!=null?T:w)});const g=((M=s.onRehydrateStorage)==null?void 0:M.call(s,(k=o())!=null?k:w))||void 0;return aa(f.getItem.bind(f))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return[!0,s.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var T;const[I,z]=y;if(b=s.merge(z,(T=o())!=null?T:w),n(b,!0),I)return _()}).then(()=>{g?.(b,void 0),b=o(),l=!0,d.forEach(y=>y(b))}).catch(y=>{g?.(void 0,y)})};return i.persist={setOptions:k=>{s={...s,...k},k.storage&&(f=k.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>P(),hasHydrated:()=>l,onHydrate:k=>(u.add(k),()=>{u.delete(k)}),onFinishHydration:k=>(d.add(k),()=>{d.delete(k)})},s.skipHydration||P(),b||w},JL=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((YL?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),QL(e,t)):KL(e,t),ag=JL,Qn=Dh()(ag(e=>({center:[0,0],zoom:13,basemap:"osm",drawingMode:"none",showGpsLocation:!0,gpsPosition:null,gpsError:null,visibleGeometryTypes:new Set(["Point","LineString","Polygon"]),visibleTags:new Set,setCenter:t=>e({center:t}),setZoom:t=>e({zoom:t}),setView:(t,n)=>e({center:t,zoom:n}),setBasemap:t=>e({basemap:t}),setDrawingMode:t=>e({drawingMode:t}),setGpsPosition:t=>e({gpsPosition:t,gpsError:null}),setGpsError:t=>e({gpsError:t}),toggleGpsLocation:()=>e(t=>({showGpsLocation:!t.showGpsLocation})),toggleGeometryType:t=>e(n=>{const o=new Set(n.visibleGeometryTypes);return o.has(t)?o.delete(t):o.add(t),{visibleGeometryTypes:o}}),toggleTag:t=>e(n=>{const o=new Set(n.visibleTags);return o.has(t)?o.delete(t):o.add(t),{visibleTags:o}}),resetFilters:()=>e({visibleGeometryTypes:new Set(["Point","LineString","Polygon"]),visibleTags:new Set})}),{name:"landmark-map-store",partialize:e=>({center:e.center,zoom:e.zoom,basemap:e.basemap})})),e2=Dh()(ag(e=>({unitsSystem:"metric",dateFormat:"relative",showTutorial:!0,hapticFeedback:!0,highContrast:!1,setUnitsSystem:t=>e({unitsSystem:t}),setDateFormat:t=>e({dateFormat:t}),setShowTutorial:t=>e({showTutorial:t}),setHapticFeedback:t=>e({hapticFeedback:t}),setHighContrast:t=>e({highContrast:t})}),{name:"landmark-settings"}));function jr(){const[e,t]=H.useState(Ap()),[n,o]=H.useState(!!Ap()),[i,s]=H.useState(null);return H.useEffect(()=>{if(e)return;let l=!1;async function u(){try{const d=await xo();l||(t(d),o(!0))}catch(d){if(!l){const f=d instanceof Error?d.message:String(d??"Unknown error");s(f)}}}return u(),()=>{l=!0}},[e]),{db:e,isReady:n,error:i}}function t2(){const{isReady:e}=jr(),t=Vo();return H.useEffect(()=>{e&&t.features.length===0&&!t.isLoading&&t.loadFeatures()},[e,t.features.length,t.isLoading]),t}const Cc=Lu("Geolocation",{web:()=>P_(()=>import("./web-DPfWhk83.js"),[]).then(e=>new e.GeolocationWeb)});function Pu(e={}){const{enableHighAccuracy:t=!0,timeout:n=1e4,maximumAge:o=0,watch:i=!1}=e,[s,l]=H.useState({position:null,error:null,isLoading:!1,isWatching:!1}),{setGpsPosition:u,setGpsError:d}=Qn(),f=H.useCallback(async()=>{l(w=>({...w,isLoading:!0,error:null}));try{const w=await Cc.getCurrentPosition({enableHighAccuracy:t,timeout:n,maximumAge:o});return l(b=>({...b,position:w,isLoading:!1,error:null})),u(w),w}catch(w){const b=Pc(w);throw l(P=>({...P,isLoading:!1,error:b})),d(b),w}},[t,n,o,u,d]),_=H.useCallback(async()=>{if(!s.isWatching){l(w=>({...w,isWatching:!0,error:null}));try{await Cc.watchPosition({enableHighAccuracy:t,timeout:n,maximumAge:o},(w,b)=>{if(b){const P=Pc(b);l(k=>({...k,error:P})),d(P)}else w&&(l(P=>({...P,position:w,error:null})),u(w))})}catch(w){const b=Pc(w);l(P=>({...P,isWatching:!1,error:b})),d(b)}}},[s.isWatching,t,n,o,u,d]),m=H.useCallback(async()=>{await Cc.clearWatch({id:""}),l(w=>({...w,isWatching:!1}))},[]);return H.useEffect(()=>(i&&_(),()=>{i&&m()}),[i,_,m]),{...s,getCurrentPosition:f,startWatching:_,stopWatching:m,latitude:s.position?.coords.latitude,longitude:s.position?.coords.longitude,accuracy:s.position?.coords.accuracy}}function Pc(e){return e instanceof Error?e.message:typeof e=="object"&&e!==null&&"message"in e?String(e.message):"Unknown geolocation error"}function n2(){const[e,t]=H.useState(typeof navigator<"u"?navigator.onLine:!0);return H.useEffect(()=>{function n(){t(!0)}function o(){t(!1)}return window.addEventListener("online",n),window.addEventListener("offline",o),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",o)}},[]),{isOnline:e,isOffline:!e}}var rn=63710088e-1,r2={centimeters:rn*100,centimetres:rn*100,degrees:rn/111325,feet:rn*3.28084,inches:rn*39.37,kilometers:rn/1e3,kilometres:rn/1e3,meters:rn,metres:rn,miles:rn/1609.344,millimeters:rn*1e3,millimetres:rn*1e3,nauticalmiles:rn/1852,radians:1,yards:rn*1.0936};function la(e,t,n){n===void 0&&(n={});var o={type:"Feature"};return(n.id===0||n.id)&&(o.id=n.id),n.bbox&&(o.bbox=n.bbox),o.properties=t||{},o.geometry=e,o}function i2(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Qp(e[0])||!Qp(e[1]))throw new Error("coordinates must contain numbers");var o={type:"Point",coordinates:e};return la(o,t,n)}function lg(e,t,n){n===void 0&&(n={});for(var o=0,i=e;o<i.length;o++){var s=i[o];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var l=0;l<s[s.length-1].length;l++)if(s[s.length-1][l]!==s[0][l])throw new Error("First and last Position are not equivalent.")}var u={type:"Polygon",coordinates:e};return la(u,t,n)}function Bh(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var o={type:"LineString",coordinates:e};return la(o,t,n)}function o2(e,t){t===void 0&&(t="kilometers");var n=r2[t];if(!n)throw new Error(t+" units is invalid");return e*n}function hl(e){var t=e%360;return t*Math.PI/180}function Qp(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Uh(e,t,n){if(e!==null)for(var o,i,s,l,u,d,f,_=0,m=0,w,b=e.type,P=b==="FeatureCollection",k=b==="Feature",M=P?e.features.length:1,g=0;g<M;g++){f=P?e.features[g].geometry:k?e.geometry:e,w=f?f.type==="GeometryCollection":!1,u=w?f.geometries.length:1;for(var y=0;y<u;y++){var T=0,I=0;if(l=w?f.geometries[y]:f,l!==null){d=l.coordinates;var z=l.type;switch(_=n&&(z==="Polygon"||z==="MultiPolygon")?1:0,z){case null:break;case"Point":if(t(d,m,g,T,I)===!1)return!1;m++,T++;break;case"LineString":case"MultiPoint":for(o=0;o<d.length;o++){if(t(d[o],m,g,T,I)===!1)return!1;m++,z==="MultiPoint"&&T++}z==="LineString"&&T++;break;case"Polygon":case"MultiLineString":for(o=0;o<d.length;o++){for(i=0;i<d[o].length-_;i++){if(t(d[o][i],m,g,T,I)===!1)return!1;m++}z==="MultiLineString"&&T++,z==="Polygon"&&I++}z==="Polygon"&&T++;break;case"MultiPolygon":for(o=0;o<d.length;o++){for(I=0,i=0;i<d[o].length;i++){for(s=0;s<d[o][i].length-_;s++){if(t(d[o][i][s],m,g,T,I)===!1)return!1;m++}I++}T++}break;case"GeometryCollection":for(o=0;o<l.geometries.length;o++)if(Uh(l.geometries[o],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function ug(e,t){var n,o,i,s,l,u,d,f,_,m,w=0,b=e.type==="FeatureCollection",P=e.type==="Feature",k=b?e.features.length:1;for(n=0;n<k;n++){for(u=b?e.features[n].geometry:P?e.geometry:e,f=b?e.features[n].properties:P?e.properties:{},_=b?e.features[n].bbox:P?e.bbox:void 0,m=b?e.features[n].id:P?e.id:void 0,d=u?u.type==="GeometryCollection":!1,l=d?u.geometries.length:1,i=0;i<l;i++){if(s=d?u.geometries[i]:u,s===null){if(t(null,w,f,_,m)===!1)return!1;continue}switch(s.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(s,w,f,_,m)===!1)return!1;break}case"GeometryCollection":{for(o=0;o<s.geometries.length;o++)if(t(s.geometries[o],w,f,_,m)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}w++}}function s2(e,t,n){var o=n;return ug(e,function(i,s,l,u,d){o=t(o,i,s,l,u,d)}),o}function a2(e,t){ug(e,function(n,o,i,s,l){var u=n===null?null:n.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return t(la(n,i,{bbox:s,id:l}),o,0)===!1?!1:void 0}var d;switch(u){case"MultiPoint":d="Point";break;case"MultiLineString":d="LineString";break;case"MultiPolygon":d="Polygon";break}for(var f=0;f<n.coordinates.length;f++){var _=n.coordinates[f],m={type:d,coordinates:_};if(t(la(m,i),o,f)===!1)return!1}})}function l2(e,t){a2(e,function(n,o,i){var s=0;if(n.geometry){var l=n.geometry.type;if(!(l==="Point"||l==="MultiPoint")){var u,d=0,f=0,_=0;if(Uh(n,function(m,w,b,P,k){if(u===void 0||o>d||P>f||k>_){u=m,d=o,f=P,_=k,s=0;return}var M=Bh([u,m],n.properties);if(t(M,o,i,k,s)===!1)return!1;s++,u=m})===!1)return!1}}})}function u2(e,t,n){var o=n,i=!1;return l2(e,function(s,l,u,d,f){i===!1&&n===void 0?o=s:o=t(o,s,l,u,d,f),i=!0}),o}function Kp(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function c2(e,t,n){n===void 0&&(n={});var o=Kp(e),i=Kp(t),s=hl(i[1]-o[1]),l=hl(i[0]-o[0]),u=hl(o[1]),d=hl(i[1]),f=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(u)*Math.cos(d);return o2(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n.units)}function d2(e,t){t===void 0&&(t={});var n=0,o=0,i=0;return Uh(e,function(s){n+=s[0],o+=s[1],i++},!0),i2([n/i,o/i],t.properties)}var Jp=6378137;function h2(e){return s2(e,function(t,n){return t+f2(n)},0)}function f2(e){var t=0,n;switch(e.type){case"Polygon":return em(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)t+=em(e.coordinates[n]);return t;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function em(e){var t=0;if(e&&e.length>0){t+=Math.abs(tm(e[0]));for(var n=1;n<e.length;n++)t-=Math.abs(tm(e[n]))}return t}function tm(e){var t,n,o,i,s,l,u,d=0,f=e.length;if(f>2){for(u=0;u<f;u++)u===f-2?(i=f-2,s=f-1,l=0):u===f-1?(i=f-1,s=0,l=1):(i=u,s=u+1,l=u+2),t=e[i],n=e[s],o=e[l],d+=(Mc(o[0])-Mc(t[0]))*Math.sin(Mc(n[1]));d=d*Jp*Jp/2}return d}function Mc(e){return e*Math.PI/180}function p2(e,t){return t===void 0&&(t={}),u2(e,function(n,o){var i=o.geometry.coordinates;return n+c2(i[0],i[1],t)},0)}function m2(e){const t=lg(e.coordinates);return h2(t)}function v2(e){const t=Bh(e.coordinates);return p2(t,{units:"meters"})}function _2(e){let t;switch(e.type){case"Point":return[e.coordinates[1],e.coordinates[0]];case"LineString":t=Bh(e.coordinates);break;case"Polygon":t=lg(e.coordinates);break}const n=d2(t);return[n.geometry.coordinates[1],n.geometry.coordinates[0]]}function g2(e,t="metric"){if(t==="imperial"){const n=e*247105e-9;return n>=1?`${n.toFixed(2)} acres`:`${(e*10.7639).toFixed(0)} ft`}return e>=1e4?`${(e/1e4).toFixed(2)} ha`:`${e.toFixed(0)} m`}function y2(e,t="metric"){if(t==="imperial"){const n=e*3.28084;return n>=5280?`${(n/5280).toFixed(2)} mi`:`${n.toFixed(0)} ft`}return e>=1e3?`${(e/1e3).toFixed(2)} km`:`${e.toFixed(0)} m`}function cg(e,t){return{type:"Point",coordinates:[e,t]}}function w2(e){return{type:"LineString",coordinates:e}}function x2(e){const t=[...e];return t.length>0&&(t[0][0]!==t[t.length-1][0]||t[0][1]!==t[t.length-1][1])&&t.push(t[0]),{type:"Polygon",coordinates:[t]}}function b2({features:e,isLoading:t}){const{visibleGeometryTypes:n,visibleTags:o}=Qn(),{selectedFeatureId:i,selectFeature:s}=Vo(),l=bi(),u=ga(),d=H.useMemo(()=>e.filter(m=>!(!n.has(m.geometryType)||o.size>0&&!m.tags.some(b=>o.has(b)))),[e,n,o]),f=m=>{s(m.id);const w=_2(m.geometry);u.setView(w,u.getZoom())},_=m=>{l(`/feature/${m.id}`)};return t?null:E.jsx(E.Fragment,{children:d.map(m=>{const w=m.id===i;switch(m.geometryType){case"Point":return E.jsx(L2,{feature:m,isSelected:w,onClick:()=>f(m),onViewDetails:()=>_(m)},m.id);case"LineString":return E.jsx(k2,{feature:m,isSelected:w,onClick:()=>f(m),onViewDetails:()=>_(m)},m.id);case"Polygon":return E.jsx(E2,{feature:m,isSelected:w,onClick:()=>f(m),onViewDetails:()=>_(m)},m.id);default:return null}})})}function L2({feature:e,isSelected:t,onClick:n,onViewDetails:o}){const i=e.geometry,s=[i.coordinates[1],i.coordinates[0]],l=H.useMemo(()=>qn.divIcon({className:"",html:`
        <div class="landmark-marker ${t?"selected":""}">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="white">
            <circle cx="12" cy="12" r="4"/>
          </svg>
        </div>
      `,iconSize:[32,32],iconAnchor:[16,16]}),[t]);return E.jsx(wx,{position:s,icon:l,eventHandlers:{click:n},children:E.jsx(Wh,{feature:e,onViewDetails:o})})}function k2({feature:e,isSelected:t,onClick:n,onViewDetails:o}){const s=e.geometry.coordinates.map(l=>[l[1],l[0]]);return E.jsx(bx,{positions:s,pathOptions:{color:t?"#0ea5e9":"#16a34a",weight:t?4:3,opacity:.9},eventHandlers:{click:n},children:E.jsx(Wh,{feature:e,onViewDetails:o})})}function E2({feature:e,isSelected:t,onClick:n,onViewDetails:o}){const s=e.geometry.coordinates.map(l=>l.map(u=>[u[1],u[0]]));return E.jsx(xx,{positions:s,pathOptions:{color:t?"#0ea5e9":"#16a34a",weight:t?3:2,fillColor:t?"#0ea5e9":"#16a34a",fillOpacity:.2},eventHandlers:{click:n},children:E.jsx(Wh,{feature:e,onViewDetails:o})})}function Wh({feature:e,onViewDetails:t}){return E.jsx(Lx,{children:E.jsxs("div",{className:"min-w-[150px]",children:[E.jsx("h3",{className:"font-semibold text-stone-900 mb-1",children:e.name}),e.description&&E.jsx("p",{className:"text-sm text-stone-600 mb-2 line-clamp-2",children:e.description}),e.tags.length>0&&E.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[e.tags.slice(0,3).map(n=>E.jsx("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-600 text-xs rounded-full",children:n},n)),e.tags.length>3&&E.jsxs("span",{className:"text-xs text-stone-500",children:["+",e.tags.length-3]})]}),E.jsx("button",{onClick:t,className:"w-full px-3 py-1.5 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 transition-colors",children:"View Details"})]})})}function S2(){const{showGpsLocation:e,gpsPosition:t}=Qn(),{getCurrentPosition:n,latitude:o,longitude:i,accuracy:s}=Pu();H.useEffect(()=>{e&&!t&&n().catch(()=>{})},[e,t,n]);const l=H.useMemo(()=>o&&i?[o,i]:null,[o,i]);return!e||!l?null:E.jsxs(E.Fragment,{children:[s&&s>10&&E.jsx(vx,{center:l,radius:s,pathOptions:{color:"#0ea5e9",weight:2,fillColor:"#0ea5e9",fillOpacity:.1}}),E.jsx(_x,{center:l,radius:8,pathOptions:{color:"#ffffff",weight:3,fillColor:"#0ea5e9",fillOpacity:1}})]})}(function(e,t,n){function o(i,s){for(;(i=i.parentElement)&&!i.classList.contains(s););return i}L.drawVersion="1.0.4",L.Draw={},L.drawLocal={draw:{toolbar:{actions:{title:"Cancel drawing",text:"Cancel"},finish:{title:"Finish drawing",text:"Finish"},undo:{title:"Delete last point drawn",text:"Delete last point"},buttons:{polyline:"Draw a polyline",polygon:"Draw a polygon",rectangle:"Draw a rectangle",circle:"Draw a circle",marker:"Draw a marker",circlemarker:"Draw a circlemarker"}},handlers:{circle:{tooltip:{start:"Click and drag to draw circle."},radius:"Radius"},circlemarker:{tooltip:{start:"Click map to place circle marker."}},marker:{tooltip:{start:"Click map to place marker."}},polygon:{tooltip:{start:"Click to start drawing shape.",cont:"Click to continue drawing shape.",end:"Click first point to close this shape."}},polyline:{error:"<strong>Error:</strong> shape edges cannot cross!",tooltip:{start:"Click to start drawing line.",cont:"Click to continue drawing line.",end:"Click last point to finish line."}},rectangle:{tooltip:{start:"Click and drag to draw rectangle."}},simpleshape:{tooltip:{end:"Release mouse to finish drawing."}}}},edit:{toolbar:{actions:{save:{title:"Save changes",text:"Save"},cancel:{title:"Cancel editing, discards all changes",text:"Cancel"},clearAll:{title:"Clear all layers",text:"Clear All"}},buttons:{edit:"Edit layers",editDisabled:"No layers to edit",remove:"Delete layers",removeDisabled:"No layers to delete"}},handlers:{edit:{tooltip:{text:"Drag handles or markers to edit features.",subtext:"Click cancel to undo changes."}},remove:{tooltip:{text:"Click on a feature to remove."}}}}},L.Draw.Event={},L.Draw.Event.CREATED="draw:created",L.Draw.Event.EDITED="draw:edited",L.Draw.Event.DELETED="draw:deleted",L.Draw.Event.DRAWSTART="draw:drawstart",L.Draw.Event.DRAWSTOP="draw:drawstop",L.Draw.Event.DRAWVERTEX="draw:drawvertex",L.Draw.Event.EDITSTART="draw:editstart",L.Draw.Event.EDITMOVE="draw:editmove",L.Draw.Event.EDITRESIZE="draw:editresize",L.Draw.Event.EDITVERTEX="draw:editvertex",L.Draw.Event.EDITSTOP="draw:editstop",L.Draw.Event.DELETESTART="draw:deletestart",L.Draw.Event.DELETESTOP="draw:deletestop",L.Draw.Event.TOOLBAROPENED="draw:toolbaropened",L.Draw.Event.TOOLBARCLOSED="draw:toolbarclosed",L.Draw.Event.MARKERCONTEXT="draw:markercontext",L.Draw=L.Draw||{},L.Draw.Feature=L.Handler.extend({initialize:function(i,s){this._map=i,this._container=i._container,this._overlayPane=i._panes.overlayPane,this._popupPane=i._panes.popupPane,s&&s.shapeOptions&&(s.shapeOptions=L.Util.extend({},this.options.shapeOptions,s.shapeOptions)),L.setOptions(this,s);var l=L.version.split(".");parseInt(l[0],10)===1&&parseInt(l[1],10)>=2?L.Draw.Feature.include(L.Evented.prototype):L.Draw.Feature.include(L.Mixin.Events)},enable:function(){this._enabled||(L.Handler.prototype.enable.call(this),this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DRAWSTART,{layerType:this.type}))},disable:function(){this._enabled&&(L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DRAWSTOP,{layerType:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(L.DomUtil.disableTextSelection(),i.getContainer().focus(),this._tooltip=new L.Draw.Tooltip(this._map),L.DomEvent.on(this._container,"keyup",this._cancelDrawing,this))},removeHooks:function(){this._map&&(L.DomUtil.enableTextSelection(),this._tooltip.dispose(),this._tooltip=null,L.DomEvent.off(this._container,"keyup",this._cancelDrawing,this))},setOptions:function(i){L.setOptions(this,i)},_fireCreatedEvent:function(i){this._map.fire(L.Draw.Event.CREATED,{layer:i,layerType:this.type})},_cancelDrawing:function(i){i.keyCode===27&&(this._map.fire("draw:canceled",{layerType:this.type}),this.disable())}}),L.Draw.Polyline=L.Draw.Feature.extend({statics:{TYPE:"polyline"},Poly:L.Polyline,options:{allowIntersection:!0,repeatMode:!1,drawError:{color:"#b00b00",timeout:2500},icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),guidelineDistance:20,maxGuideLineLength:4e3,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!1,clickable:!0},metric:!0,feet:!0,nautic:!1,showLength:!0,zIndexOffset:2e3,factor:1,maxPoints:0},initialize:function(i,s){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this.options.drawError.message=L.drawLocal.draw.handlers.polyline.error,s&&s.drawError&&(s.drawError=L.Util.extend({},this.options.drawError,s.drawError)),this.type=L.Draw.Polyline.TYPE,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._markers=[],this._markerGroup=new L.LayerGroup,this._map.addLayer(this._markerGroup),this._poly=new L.Polyline([],this.options.shapeOptions),this._tooltip.updateContent(this._getTooltipText()),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("mouseout",this._onMouseOut,this).on("mousemove",this._onMouseMove,this).on("mousedown",this._onMouseDown,this).on("mouseup",this._onMouseUp,this).addTo(this._map),this._map.on("mouseup",this._onMouseUp,this).on("mousemove",this._onMouseMove,this).on("zoomlevelschange",this._onZoomEnd,this).on("touchstart",this._onTouch,this).on("zoomend",this._onZoomEnd,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._clearHideErrorTimeout(),this._cleanUpShape(),this._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers,this._map.removeLayer(this._poly),delete this._poly,this._mouseMarker.off("mousedown",this._onMouseDown,this).off("mouseout",this._onMouseOut,this).off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._clearGuides(),this._map.off("mouseup",this._onMouseUp,this).off("mousemove",this._onMouseMove,this).off("zoomlevelschange",this._onZoomEnd,this).off("zoomend",this._onZoomEnd,this).off("touchstart",this._onTouch,this).off("click",this._onTouch,this)},deleteLastVertex:function(){if(!(this._markers.length<=1)){var i=this._markers.pop(),s=this._poly,l=s.getLatLngs(),u=l.splice(-1,1)[0];this._poly.setLatLngs(l),this._markerGroup.removeLayer(i),s.getLatLngs().length<2&&this._map.removeLayer(s),this._vertexChanged(u,!1)}},addVertex:function(i){if(this._markers.length>=2&&!this.options.allowIntersection&&this._poly.newLatLngIntersects(i))return void this._showErrorTooltip();this._errorShown&&this._hideErrorTooltip(),this._markers.push(this._createMarker(i)),this._poly.addLatLng(i),this._poly.getLatLngs().length===2&&this._map.addLayer(this._poly),this._vertexChanged(i,!0)},completeShape:function(){this._markers.length<=1||!this._shapeIsValid()||(this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable())},_finishShape:function(){var i=this._poly._defaultShape?this._poly._defaultShape():this._poly.getLatLngs(),s=this._poly.newLatLngIntersects(i[i.length-1]);if(!this.options.allowIntersection&&s||!this._shapeIsValid())return void this._showErrorTooltip();this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_shapeIsValid:function(){return!0},_onZoomEnd:function(){this._markers!==null&&this._updateGuide()},_onMouseMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent),l=this._map.layerPointToLatLng(s);this._currentLatLng=l,this._updateTooltip(l),this._updateGuide(s),this._mouseMarker.setLatLng(l),L.DomEvent.preventDefault(i.originalEvent)},_vertexChanged:function(i,s){this._map.fire(L.Draw.Event.DRAWVERTEX,{layers:this._markerGroup}),this._updateFinishHandler(),this._updateRunningMeasure(i,s),this._clearGuides(),this._updateTooltip()},_onMouseDown:function(i){if(!this._clickHandled&&!this._touchHandled&&!this._disableMarkers){this._onMouseMove(i),this._clickHandled=!0,this._disableNewMarkers();var s=i.originalEvent,l=s.clientX,u=s.clientY;this._startPoint.call(this,l,u)}},_startPoint:function(i,s){this._mouseDownOrigin=L.point(i,s)},_onMouseUp:function(i){var s=i.originalEvent,l=s.clientX,u=s.clientY;this._endPoint.call(this,l,u,i),this._clickHandled=null},_endPoint:function(i,s,l){if(this._mouseDownOrigin){var u=L.point(i,s).distanceTo(this._mouseDownOrigin),d=this._calculateFinishDistance(l.latlng);this.options.maxPoints>1&&this.options.maxPoints==this._markers.length+1?(this.addVertex(l.latlng),this._finishShape()):d<10&&L.Browser.touch?this._finishShape():Math.abs(u)<9*(e.devicePixelRatio||1)&&this.addVertex(l.latlng),this._enableNewMarkers()}this._mouseDownOrigin=null},_onTouch:function(i){var s,l,u=i.originalEvent;!u.touches||!u.touches[0]||this._clickHandled||this._touchHandled||this._disableMarkers||(s=u.touches[0].clientX,l=u.touches[0].clientY,this._disableNewMarkers(),this._touchHandled=!0,this._startPoint.call(this,s,l),this._endPoint.call(this,s,l,i),this._touchHandled=null),this._clickHandled=null},_onMouseOut:function(){this._tooltip&&this._tooltip._onMouseOut.call(this._tooltip)},_calculateFinishDistance:function(i){var s;if(this._markers.length>0){var l;if(this.type===L.Draw.Polyline.TYPE)l=this._markers[this._markers.length-1];else{if(this.type!==L.Draw.Polygon.TYPE)return 1/0;l=this._markers[0]}var u=this._map.latLngToContainerPoint(l.getLatLng()),d=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset}),f=this._map.latLngToContainerPoint(d.getLatLng());s=u.distanceTo(f)}else s=1/0;return s},_updateFinishHandler:function(){var i=this._markers.length;i>1&&this._markers[i-1].on("click",this._finishShape,this),i>2&&this._markers[i-2].off("click",this._finishShape,this)},_createMarker:function(i){var s=new L.Marker(i,{icon:this.options.icon,zIndexOffset:2*this.options.zIndexOffset});return this._markerGroup.addLayer(s),s},_updateGuide:function(i){var s=this._markers?this._markers.length:0;s>0&&(i=i||this._map.latLngToLayerPoint(this._currentLatLng),this._clearGuides(),this._drawGuide(this._map.latLngToLayerPoint(this._markers[s-1].getLatLng()),i))},_updateTooltip:function(i){var s=this._getTooltipText();i&&this._tooltip.updatePosition(i),this._errorShown||this._tooltip.updateContent(s)},_drawGuide:function(i,s){var l,u,d,f=Math.floor(Math.sqrt(Math.pow(s.x-i.x,2)+Math.pow(s.y-i.y,2))),_=this.options.guidelineDistance,m=this.options.maxGuideLineLength,w=f>m?f-m:_;for(this._guidesContainer||(this._guidesContainer=L.DomUtil.create("div","leaflet-draw-guides",this._overlayPane));w<f;w+=this.options.guidelineDistance)l=w/f,u={x:Math.floor(i.x*(1-l)+l*s.x),y:Math.floor(i.y*(1-l)+l*s.y)},d=L.DomUtil.create("div","leaflet-draw-guide-dash",this._guidesContainer),d.style.backgroundColor=this._errorShown?this.options.drawError.color:this.options.shapeOptions.color,L.DomUtil.setPosition(d,u)},_updateGuideColor:function(i){if(this._guidesContainer)for(var s=0,l=this._guidesContainer.childNodes.length;s<l;s++)this._guidesContainer.childNodes[s].style.backgroundColor=i},_clearGuides:function(){if(this._guidesContainer)for(;this._guidesContainer.firstChild;)this._guidesContainer.removeChild(this._guidesContainer.firstChild)},_getTooltipText:function(){var i,s,l=this.options.showLength;return this._markers.length===0?i={text:L.drawLocal.draw.handlers.polyline.tooltip.start}:(s=l?this._getMeasurementString():"",i=this._markers.length===1?{text:L.drawLocal.draw.handlers.polyline.tooltip.cont,subtext:s}:{text:L.drawLocal.draw.handlers.polyline.tooltip.end,subtext:s}),i},_updateRunningMeasure:function(i,s){var l,u,d=this._markers.length;this._markers.length===1?this._measurementRunningTotal=0:(l=d-(s?2:1),u=L.GeometryUtil.isVersion07x()?i.distanceTo(this._markers[l].getLatLng())*(this.options.factor||1):this._map.distance(i,this._markers[l].getLatLng())*(this.options.factor||1),this._measurementRunningTotal+=u*(s?1:-1))},_getMeasurementString:function(){var i,s=this._currentLatLng,l=this._markers[this._markers.length-1].getLatLng();return i=L.GeometryUtil.isVersion07x()?l&&s&&s.distanceTo?this._measurementRunningTotal+s.distanceTo(l)*(this.options.factor||1):this._measurementRunningTotal||0:l&&s?this._measurementRunningTotal+this._map.distance(s,l)*(this.options.factor||1):this._measurementRunningTotal||0,L.GeometryUtil.readableDistance(i,this.options.metric,this.options.feet,this.options.nautic,this.options.precision)},_showErrorTooltip:function(){this._errorShown=!0,this._tooltip.showAsError().updateContent({text:this.options.drawError.message}),this._updateGuideColor(this.options.drawError.color),this._poly.setStyle({color:this.options.drawError.color}),this._clearHideErrorTimeout(),this._hideErrorTimeout=setTimeout(L.Util.bind(this._hideErrorTooltip,this),this.options.drawError.timeout)},_hideErrorTooltip:function(){this._errorShown=!1,this._clearHideErrorTimeout(),this._tooltip.removeError().updateContent(this._getTooltipText()),this._updateGuideColor(this.options.shapeOptions.color),this._poly.setStyle({color:this.options.shapeOptions.color})},_clearHideErrorTimeout:function(){this._hideErrorTimeout&&(clearTimeout(this._hideErrorTimeout),this._hideErrorTimeout=null)},_disableNewMarkers:function(){this._disableMarkers=!0},_enableNewMarkers:function(){setTimeout(function(){this._disableMarkers=!1}.bind(this),50)},_cleanUpShape:function(){this._markers.length>1&&this._markers[this._markers.length-1].off("click",this._finishShape,this)},_fireCreatedEvent:function(){var i=new this.Poly(this._poly.getLatLngs(),this.options.shapeOptions);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.Polygon=L.Draw.Polyline.extend({statics:{TYPE:"polygon"},Poly:L.Polygon,options:{showArea:!1,showLength:!1,shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},metric:!0,feet:!0,nautic:!1,precision:{}},initialize:function(i,s){L.Draw.Polyline.prototype.initialize.call(this,i,s),this.type=L.Draw.Polygon.TYPE},_updateFinishHandler:function(){var i=this._markers.length;i===1&&this._markers[0].on("click",this._finishShape,this),i>2&&(this._markers[i-1].on("dblclick",this._finishShape,this),i>3&&this._markers[i-2].off("dblclick",this._finishShape,this))},_getTooltipText:function(){var i,s;return this._markers.length===0?i=L.drawLocal.draw.handlers.polygon.tooltip.start:this._markers.length<3?(i=L.drawLocal.draw.handlers.polygon.tooltip.cont,s=this._getMeasurementString()):(i=L.drawLocal.draw.handlers.polygon.tooltip.end,s=this._getMeasurementString()),{text:i,subtext:s}},_getMeasurementString:function(){var i=this._area,s="";return i||this.options.showLength?(this.options.showLength&&(s=L.Draw.Polyline.prototype._getMeasurementString.call(this)),i&&(s+="<br>"+L.GeometryUtil.readableArea(i,this.options.metric,this.options.precision)),s):null},_shapeIsValid:function(){return this._markers.length>=3},_vertexChanged:function(i,s){var l;!this.options.allowIntersection&&this.options.showArea&&(l=this._poly.getLatLngs(),this._area=L.GeometryUtil.geodesicArea(l)),L.Draw.Polyline.prototype._vertexChanged.call(this,i,s)},_cleanUpShape:function(){var i=this._markers.length;i>0&&(this._markers[0].off("click",this._finishShape,this),i>2&&this._markers[i-1].off("dblclick",this._finishShape,this))}}),L.SimpleShape={},L.Draw.SimpleShape=L.Draw.Feature.extend({options:{repeatMode:!1},initialize:function(i,s){this._endLabelText=L.drawLocal.draw.handlers.simpleshape.tooltip.end,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._mapDraggable=this._map.dragging.enabled(),this._mapDraggable&&this._map.dragging.disable(),this._container.style.cursor="crosshair",this._tooltip.updateContent({text:this._initialLabelText}),this._map.on("mousedown",this._onMouseDown,this).on("mousemove",this._onMouseMove,this).on("touchstart",this._onMouseDown,this).on("touchmove",this._onMouseMove,this),t.addEventListener("touchstart",L.DomEvent.preventDefault,{passive:!1}))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._mapDraggable&&this._map.dragging.enable(),this._container.style.cursor="",this._map.off("mousedown",this._onMouseDown,this).off("mousemove",this._onMouseMove,this).off("touchstart",this._onMouseDown,this).off("touchmove",this._onMouseMove,this),L.DomEvent.off(t,"mouseup",this._onMouseUp,this),L.DomEvent.off(t,"touchend",this._onMouseUp,this),t.removeEventListener("touchstart",L.DomEvent.preventDefault),this._shape&&(this._map.removeLayer(this._shape),delete this._shape)),this._isDrawing=!1},_getTooltipText:function(){return{text:this._endLabelText}},_onMouseDown:function(i){this._isDrawing=!0,this._startLatLng=i.latlng,L.DomEvent.on(t,"mouseup",this._onMouseUp,this).on(t,"touchend",this._onMouseUp,this).preventDefault(i.originalEvent)},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._isDrawing&&(this._tooltip.updateContent(this._getTooltipText()),this._drawShape(s))},_onMouseUp:function(){this._shape&&this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()}}),L.Draw.Rectangle=L.Draw.SimpleShape.extend({statics:{TYPE:"rectangle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showArea:!0,metric:!0},initialize:function(i,s){this.type=L.Draw.Rectangle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.rectangle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},disable:function(){this._enabled&&(this._isCurrentlyTwoClickDrawing=!1,L.Draw.SimpleShape.prototype.disable.call(this))},_onMouseUp:function(i){if(!this._shape&&!this._isCurrentlyTwoClickDrawing)return void(this._isCurrentlyTwoClickDrawing=!0);this._isCurrentlyTwoClickDrawing&&!o(i.target,"leaflet-pane")||L.Draw.SimpleShape.prototype._onMouseUp.call(this)},_drawShape:function(i){this._shape?this._shape.setBounds(new L.LatLngBounds(this._startLatLng,i)):(this._shape=new L.Rectangle(new L.LatLngBounds(this._startLatLng,i),this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Rectangle(this._shape.getBounds(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_getTooltipText:function(){var i,s,l,u=L.Draw.SimpleShape.prototype._getTooltipText.call(this),d=this._shape,f=this.options.showArea;return d&&(i=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),s=L.GeometryUtil.geodesicArea(i),l=f?L.GeometryUtil.readableArea(s,this.options.metric):""),{text:u.text,subtext:l}}}),L.Draw.Marker=L.Draw.Feature.extend({statics:{TYPE:"marker"},options:{icon:new L.Icon.Default,repeatMode:!1,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.Marker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.marker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},addHooks:function(){L.Draw.Feature.prototype.addHooks.call(this),this._map&&(this._tooltip.updateContent({text:this._initialLabelText}),this._mouseMarker||(this._mouseMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"leaflet-mouse-marker",iconAnchor:[20,20],iconSize:[40,40]}),opacity:0,zIndexOffset:this.options.zIndexOffset})),this._mouseMarker.on("click",this._onClick,this).addTo(this._map),this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onTouch,this))},removeHooks:function(){L.Draw.Feature.prototype.removeHooks.call(this),this._map&&(this._map.off("click",this._onClick,this).off("click",this._onTouch,this),this._marker&&(this._marker.off("click",this._onClick,this),this._map.removeLayer(this._marker),delete this._marker),this._mouseMarker.off("click",this._onClick,this),this._map.removeLayer(this._mouseMarker),delete this._mouseMarker,this._map.off("mousemove",this._onMouseMove,this))},_onMouseMove:function(i){var s=i.latlng;this._tooltip.updatePosition(s),this._mouseMarker.setLatLng(s),this._marker?(s=this._mouseMarker.getLatLng(),this._marker.setLatLng(s)):(this._marker=this._createMarker(s),this._marker.on("click",this._onClick,this),this._map.on("click",this._onClick,this).addLayer(this._marker))},_createMarker:function(i){return new L.Marker(i,{icon:this.options.icon,zIndexOffset:this.options.zIndexOffset})},_onClick:function(){this._fireCreatedEvent(),this.disable(),this.options.repeatMode&&this.enable()},_onTouch:function(i){this._onMouseMove(i),this._onClick()},_fireCreatedEvent:function(){var i=new L.Marker.Touch(this._marker.getLatLng(),{icon:this.options.icon});L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)}}),L.Draw.CircleMarker=L.Draw.Marker.extend({statics:{TYPE:"circlemarker"},options:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0,zIndexOffset:2e3},initialize:function(i,s){this.type=L.Draw.CircleMarker.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circlemarker.tooltip.start,L.Draw.Feature.prototype.initialize.call(this,i,s)},_fireCreatedEvent:function(){var i=new L.CircleMarker(this._marker.getLatLng(),this.options);L.Draw.Feature.prototype._fireCreatedEvent.call(this,i)},_createMarker:function(i){return new L.CircleMarker(i,this.options)}}),L.Draw.Circle=L.Draw.SimpleShape.extend({statics:{TYPE:"circle"},options:{shapeOptions:{stroke:!0,color:"#3388ff",weight:4,opacity:.5,fill:!0,fillColor:null,fillOpacity:.2,clickable:!0},showRadius:!0,metric:!0,feet:!0,nautic:!1},initialize:function(i,s){this.type=L.Draw.Circle.TYPE,this._initialLabelText=L.drawLocal.draw.handlers.circle.tooltip.start,L.Draw.SimpleShape.prototype.initialize.call(this,i,s)},_drawShape:function(i){if(L.GeometryUtil.isVersion07x())var s=this._startLatLng.distanceTo(i);else var s=this._map.distance(this._startLatLng,i);this._shape?this._shape.setRadius(s):(this._shape=new L.Circle(this._startLatLng,s,this.options.shapeOptions),this._map.addLayer(this._shape))},_fireCreatedEvent:function(){var i=new L.Circle(this._startLatLng,this._shape.getRadius(),this.options.shapeOptions);L.Draw.SimpleShape.prototype._fireCreatedEvent.call(this,i)},_onMouseMove:function(i){var s,l=i.latlng,u=this.options.showRadius,d=this.options.metric;if(this._tooltip.updatePosition(l),this._isDrawing){this._drawShape(l),s=this._shape.getRadius().toFixed(1);var f="";u&&(f=L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(s,d,this.options.feet,this.options.nautic)),this._tooltip.updateContent({text:this._endLabelText,subtext:f})}}}),L.Edit=L.Edit||{},L.Edit.Marker=L.Handler.extend({initialize:function(i,s){this._marker=i,L.setOptions(this,s)},addHooks:function(){var i=this._marker;i.dragging.enable(),i.on("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},removeHooks:function(){var i=this._marker;i.dragging.disable(),i.off("dragend",this._onDragEnd,i),this._toggleMarkerHighlight()},_onDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_toggleMarkerHighlight:function(){var i=this._marker._icon;i&&(i.style.display="none",L.DomUtil.hasClass(i,"leaflet-edit-marker-selected")?(L.DomUtil.removeClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,-4)):(L.DomUtil.addClass(i,"leaflet-edit-marker-selected"),this._offsetMarker(i,4)),i.style.display="")},_offsetMarker:function(i,s){var l=parseInt(i.style.marginTop,10)-s,u=parseInt(i.style.marginLeft,10)-s;i.style.marginTop=l+"px",i.style.marginLeft=u+"px"}}),L.Marker.addInitHook(function(){L.Edit.Marker&&(this.editing=new L.Edit.Marker(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.Poly=L.Handler.extend({initialize:function(i){this.latlngs=[i._latlngs],i._holes&&(this.latlngs=this.latlngs.concat(i._holes)),this._poly=i,this._poly.on("revert-edited",this._updateLatLngs,this)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._poly._latlngs)?this._poly._latlngs:this._poly._latlngs[0]:this._poly._latlngs},_eachVertexHandler:function(i){for(var s=0;s<this._verticesHandlers.length;s++)i(this._verticesHandlers[s])},addHooks:function(){this._initHandlers(),this._eachVertexHandler(function(i){i.addHooks()})},removeHooks:function(){this._eachVertexHandler(function(i){i.removeHooks()})},updateMarkers:function(){this._eachVertexHandler(function(i){i.updateMarkers()})},_initHandlers:function(){this._verticesHandlers=[];for(var i=0;i<this.latlngs.length;i++)this._verticesHandlers.push(new L.Edit.PolyVerticesEdit(this._poly,this.latlngs[i],this._poly.options.poly))},_updateLatLngs:function(i){this.latlngs=[i.layer._latlngs],i.layer._holes&&(this.latlngs=this.latlngs.concat(i.layer._holes))}}),L.Edit.PolyVerticesEdit=L.Handler.extend({options:{icon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon"}),touchIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-touch-icon"}),drawError:{color:"#b00b00",timeout:1e3}},initialize:function(i,s,l){L.Browser.touch&&(this.options.icon=this.options.touchIcon),this._poly=i,l&&l.drawError&&(l.drawError=L.Util.extend({},this.options.drawError,l.drawError)),this._latlngs=s,L.setOptions(this,l)},_defaultShape:function(){return L.Polyline._flat?L.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]:this._latlngs},addHooks:function(){var i=this._poly,s=i._path;i instanceof L.Polygon||(i.options.fill=!1,i.options.editing&&(i.options.editing.fill=!1)),s&&i.options.editing&&i.options.editing.className&&(i.options.original.className&&i.options.original.className.split(" ").forEach(function(l){L.DomUtil.removeClass(s,l)}),i.options.editing.className.split(" ").forEach(function(l){L.DomUtil.addClass(s,l)})),i.setStyle(i.options.editing),this._poly._map&&(this._map=this._poly._map,this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){var i=this._poly,s=i._path;s&&i.options.editing&&i.options.editing.className&&(i.options.editing.className.split(" ").forEach(function(l){L.DomUtil.removeClass(s,l)}),i.options.original.className&&i.options.original.className.split(" ").forEach(function(l){L.DomUtil.addClass(s,l)})),i.setStyle(i.options.original),i._map&&(i._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._markers=[];var i,s,l,u,d=this._defaultShape();for(i=0,l=d.length;i<l;i++)u=this._createMarker(d[i],i),u.on("click",this._onMarkerClick,this),u.on("contextmenu",this._onContextMenu,this),this._markers.push(u);var f,_;for(i=0,s=l-1;i<l;s=i++)(i!==0||L.Polygon&&this._poly instanceof L.Polygon)&&(f=this._markers[s],_=this._markers[i],this._createMiddleMarker(f,_),this._updatePrevNext(f,_))},_createMarker:function(i,s){var l=new L.Marker.Touch(i,{draggable:!0,icon:this.options.icon});return l._origLatLng=i,l._index=s,l.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._fireEdit,this).on("touchmove",this._onTouchMove,this).on("touchend",this._fireEdit,this).on("MSPointerMove",this._onTouchMove,this).on("MSPointerUp",this._fireEdit,this),this._markerGroup.addLayer(l),l},_onMarkerDragStart:function(){this._poly.fire("editstart")},_spliceLatLngs:function(){var i=this._defaultShape(),s=[].splice.apply(i,arguments);return this._poly._convertLatLngs(i,!0),this._poly.redraw(),s},_removeMarker:function(i){var s=i._index;this._markerGroup.removeLayer(i),this._markers.splice(s,1),this._spliceLatLngs(s,1),this._updateIndexes(s,-1),i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._fireEdit,this).off("touchmove",this._onMarkerDrag,this).off("touchend",this._fireEdit,this).off("click",this._onMarkerClick,this).off("MSPointerMove",this._onTouchMove,this).off("MSPointerUp",this._fireEdit,this)},_fireEdit:function(){this._poly.edited=!0,this._poly.fire("edit"),this._poly._map.fire(L.Draw.Event.EDITVERTEX,{layers:this._markerGroup,poly:this._poly})},_onMarkerDrag:function(i){var s=i.target,l=this._poly,u=L.LatLngUtil.cloneLatLng(s._origLatLng);if(L.extend(s._origLatLng,s._latlng),l.options.poly){var d=l._map._editTooltip;if(!l.options.poly.allowIntersection&&l.intersects()){L.extend(s._origLatLng,u),s.setLatLng(u);var f=l.options.color;l.setStyle({color:this.options.drawError.color}),d&&d.updateContent({text:L.drawLocal.draw.handlers.polyline.error}),setTimeout(function(){l.setStyle({color:f}),d&&d.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext})},1e3)}}s._middleLeft&&s._middleLeft.setLatLng(this._getMiddleLatLng(s._prev,s)),s._middleRight&&s._middleRight.setLatLng(this._getMiddleLatLng(s,s._next)),this._poly._bounds._southWest=L.latLng(1/0,1/0),this._poly._bounds._northEast=L.latLng(-1/0,-1/0);var _=this._poly.getLatLngs();this._poly._convertLatLngs(_,!0),this._poly.redraw(),this._poly.fire("editdrag")},_onMarkerClick:function(i){var s=L.Polygon&&this._poly instanceof L.Polygon?4:3,l=i.target;this._defaultShape().length<s||(this._removeMarker(l),this._updatePrevNext(l._prev,l._next),l._middleLeft&&this._markerGroup.removeLayer(l._middleLeft),l._middleRight&&this._markerGroup.removeLayer(l._middleRight),l._prev&&l._next?this._createMiddleMarker(l._prev,l._next):l._prev?l._next||(l._prev._middleRight=null):l._next._middleLeft=null,this._fireEdit())},_onContextMenu:function(i){var s=i.target;this._poly,this._poly._map.fire(L.Draw.Event.MARKERCONTEXT,{marker:s,layers:this._markerGroup,poly:this._poly}),L.DomEvent.stopPropagation},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),l=this._map.layerPointToLatLng(s),u=i.target;L.extend(u._origLatLng,l),u._middleLeft&&u._middleLeft.setLatLng(this._getMiddleLatLng(u._prev,u)),u._middleRight&&u._middleRight.setLatLng(this._getMiddleLatLng(u,u._next)),this._poly.redraw(),this.updateMarkers()},_updateIndexes:function(i,s){this._markerGroup.eachLayer(function(l){l._index>i&&(l._index+=s)})},_createMiddleMarker:function(i,s){var l,u,d,f=this._getMiddleLatLng(i,s),_=this._createMarker(f);_.setOpacity(.6),i._middleRight=s._middleLeft=_,u=function(){_.off("touchmove",u,this);var m=s._index;_._index=m,_.off("click",l,this).on("click",this._onMarkerClick,this),f.lat=_.getLatLng().lat,f.lng=_.getLatLng().lng,this._spliceLatLngs(m,0,f),this._markers.splice(m,0,_),_.setOpacity(1),this._updateIndexes(m,1),s._index++,this._updatePrevNext(i,_),this._updatePrevNext(_,s),this._poly.fire("editstart")},d=function(){_.off("dragstart",u,this),_.off("dragend",d,this),_.off("touchmove",u,this),this._createMiddleMarker(i,_),this._createMiddleMarker(_,s)},l=function(){u.call(this),d.call(this),this._fireEdit()},_.on("click",l,this).on("dragstart",u,this).on("dragend",d,this).on("touchmove",u,this),this._markerGroup.addLayer(_)},_updatePrevNext:function(i,s){i&&(i._next=s),s&&(s._prev=i)},_getMiddleLatLng:function(i,s){var l=this._poly._map,u=l.project(i.getLatLng()),d=l.project(s.getLatLng());return l.unproject(u._add(d)._divideBy(2))}}),L.Polyline.addInitHook(function(){this.editing||(L.Edit.Poly&&(this.editing=new L.Edit.Poly(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()}))}),L.Edit=L.Edit||{},L.Edit.SimpleShape=L.Handler.extend({options:{moveIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move"}),resizeIcon:new L.DivIcon({iconSize:new L.Point(8,8),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize"}),touchMoveIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-move leaflet-touch-icon"}),touchResizeIcon:new L.DivIcon({iconSize:new L.Point(20,20),className:"leaflet-div-icon leaflet-editing-icon leaflet-edit-resize leaflet-touch-icon"})},initialize:function(i,s){L.Browser.touch&&(this.options.moveIcon=this.options.touchMoveIcon,this.options.resizeIcon=this.options.touchResizeIcon),this._shape=i,L.Util.setOptions(this,s)},addHooks:function(){var i=this._shape;this._shape._map&&(this._map=this._shape._map,i.setStyle(i.options.editing),i._map&&(this._map=i._map,this._markerGroup||this._initMarkers(),this._map.addLayer(this._markerGroup)))},removeHooks:function(){var i=this._shape;if(i.setStyle(i.options.original),i._map){this._unbindMarker(this._moveMarker);for(var s=0,l=this._resizeMarkers.length;s<l;s++)this._unbindMarker(this._resizeMarkers[s]);this._resizeMarkers=null,this._map.removeLayer(this._markerGroup),delete this._markerGroup}this._map=null},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new L.LayerGroup),this._createMoveMarker(),this._createResizeMarker()},_createMoveMarker:function(){},_createResizeMarker:function(){},_createMarker:function(i,s){var l=new L.Marker.Touch(i,{draggable:!0,icon:s,zIndexOffset:10});return this._bindMarker(l),this._markerGroup.addLayer(l),l},_bindMarker:function(i){i.on("dragstart",this._onMarkerDragStart,this).on("drag",this._onMarkerDrag,this).on("dragend",this._onMarkerDragEnd,this).on("touchstart",this._onTouchStart,this).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onTouchEnd,this).on("MSPointerUp",this._onTouchEnd,this)},_unbindMarker:function(i){i.off("dragstart",this._onMarkerDragStart,this).off("drag",this._onMarkerDrag,this).off("dragend",this._onMarkerDragEnd,this).off("touchstart",this._onTouchStart,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onTouchEnd,this).off("MSPointerUp",this._onTouchEnd,this)},_onMarkerDragStart:function(i){i.target.setOpacity(0),this._shape.fire("editstart")},_fireEdit:function(){this._shape.edited=!0,this._shape.fire("edit")},_onMarkerDrag:function(i){var s=i.target,l=s.getLatLng();s===this._moveMarker?this._move(l):this._resize(l),this._shape.redraw(),this._shape.fire("editdrag")},_onMarkerDragEnd:function(i){i.target.setOpacity(1),this._fireEdit()},_onTouchStart:function(i){if(L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i),typeof this._getCorners=="function"){var s=this._getCorners(),l=i.target,u=l._cornerIndex;l.setOpacity(0),this._oppositeCorner=s[(u+2)%4],this._toggleCornerMarkers(0,u)}this._shape.fire("editstart")},_onTouchMove:function(i){var s=this._map.mouseEventToLayerPoint(i.originalEvent.touches[0]),l=this._map.layerPointToLatLng(s);return i.target===this._moveMarker?this._move(l):this._resize(l),this._shape.redraw(),!1},_onTouchEnd:function(i){i.target.setOpacity(1),this.updateMarkers(),this._fireEdit()},_move:function(){},_resize:function(){}}),L.Edit=L.Edit||{},L.Edit.Rectangle=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getBounds(),s=i.getCenter();this._moveMarker=this._createMarker(s,this.options.moveIcon)},_createResizeMarker:function(){var i=this._getCorners();this._resizeMarkers=[];for(var s=0,l=i.length;s<l;s++)this._resizeMarkers.push(this._createMarker(i[s],this.options.resizeIcon)),this._resizeMarkers[s]._cornerIndex=s},_onMarkerDragStart:function(i){L.Edit.SimpleShape.prototype._onMarkerDragStart.call(this,i);var s=this._getCorners(),l=i.target,u=l._cornerIndex;this._oppositeCorner=s[(u+2)%4],this._toggleCornerMarkers(0,u)},_onMarkerDragEnd:function(i){var s,l,u=i.target;u===this._moveMarker&&(s=this._shape.getBounds(),l=s.getCenter(),u.setLatLng(l)),this._toggleCornerMarkers(1),this._repositionCornerMarkers(),L.Edit.SimpleShape.prototype._onMarkerDragEnd.call(this,i)},_move:function(i){for(var s,l=this._shape._defaultShape?this._shape._defaultShape():this._shape.getLatLngs(),u=this._shape.getBounds(),d=u.getCenter(),f=[],_=0,m=l.length;_<m;_++)s=[l[_].lat-d.lat,l[_].lng-d.lng],f.push([i.lat+s[0],i.lng+s[1]]);this._shape.setLatLngs(f),this._repositionCornerMarkers(),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})},_resize:function(i){var s;this._shape.setBounds(L.latLngBounds(i,this._oppositeCorner)),s=this._shape.getBounds(),this._moveMarker.setLatLng(s.getCenter()),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})},_getCorners:function(){var i=this._shape.getBounds();return[i.getNorthWest(),i.getNorthEast(),i.getSouthEast(),i.getSouthWest()]},_toggleCornerMarkers:function(i){for(var s=0,l=this._resizeMarkers.length;s<l;s++)this._resizeMarkers[s].setOpacity(i)},_repositionCornerMarkers:function(){for(var i=this._getCorners(),s=0,l=this._resizeMarkers.length;s<l;s++)this._resizeMarkers[s].setLatLng(i[s])}}),L.Rectangle.addInitHook(function(){L.Edit.Rectangle&&(this.editing=new L.Edit.Rectangle(this),this.options.editable&&this.editing.enable())}),L.Edit=L.Edit||{},L.Edit.CircleMarker=L.Edit.SimpleShape.extend({_createMoveMarker:function(){var i=this._shape.getLatLng();this._moveMarker=this._createMarker(i,this.options.moveIcon)},_createResizeMarker:function(){this._resizeMarkers=[]},_move:function(i){if(this._resizeMarkers.length){var s=this._getResizeMarkerPoint(i);this._resizeMarkers[0].setLatLng(s)}this._shape.setLatLng(i),this._map.fire(L.Draw.Event.EDITMOVE,{layer:this._shape})}}),L.CircleMarker.addInitHook(function(){L.Edit.CircleMarker&&(this.editing=new L.Edit.CircleMarker(this),this.options.editable&&this.editing.enable()),this.on("add",function(){this.editing&&this.editing.enabled()&&this.editing.addHooks()}),this.on("remove",function(){this.editing&&this.editing.enabled()&&this.editing.removeHooks()})}),L.Edit=L.Edit||{},L.Edit.Circle=L.Edit.CircleMarker.extend({_createResizeMarker:function(){var i=this._shape.getLatLng(),s=this._getResizeMarkerPoint(i);this._resizeMarkers=[],this._resizeMarkers.push(this._createMarker(s,this.options.resizeIcon))},_getResizeMarkerPoint:function(i){var s=this._shape._radius*Math.cos(Math.PI/4),l=this._map.project(i);return this._map.unproject([l.x+s,l.y-s])},_resize:function(i){var s=this._moveMarker.getLatLng();L.GeometryUtil.isVersion07x()?radius=s.distanceTo(i):radius=this._map.distance(s,i),this._shape.setRadius(radius),this._map.editTooltip&&this._map._editTooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.subtext+"<br />"+L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.draw.handlers.circle.radius+": "+L.GeometryUtil.readableDistance(radius,!0,this.options.feet,this.options.nautic)}),this._shape.setRadius(radius),this._map.fire(L.Draw.Event.EDITRESIZE,{layer:this._shape})}}),L.Circle.addInitHook(function(){L.Edit.Circle&&(this.editing=new L.Edit.Circle(this),this.options.editable&&this.editing.enable())}),L.Map.mergeOptions({touchExtend:!0}),L.Map.TouchExtend=L.Handler.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane},addHooks:function(){L.DomEvent.on(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.on(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.on(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.on(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.on(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.on(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.on(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.on(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.on(this._container,"touchleave",this._onTouchLeave,this))},removeHooks:function(){L.DomEvent.off(this._container,"touchstart",this._onTouchStart,this),L.DomEvent.off(this._container,"touchend",this._onTouchEnd,this),L.DomEvent.off(this._container,"touchmove",this._onTouchMove,this),this._detectIE()?(L.DomEvent.off(this._container,"MSPointerDown",this._onTouchStart,this),L.DomEvent.off(this._container,"MSPointerUp",this._onTouchEnd,this),L.DomEvent.off(this._container,"MSPointerMove",this._onTouchMove,this),L.DomEvent.off(this._container,"MSPointerCancel",this._onTouchCancel,this)):(L.DomEvent.off(this._container,"touchcancel",this._onTouchCancel,this),L.DomEvent.off(this._container,"touchleave",this._onTouchLeave,this))},_touchEvent:function(i,s){var l={};if(i.touches!==void 0){if(!i.touches.length)return;l=i.touches[0]}else if(i.pointerType!=="touch"||(l=i,!this._filterClick(i)))return;var u=this._map.mouseEventToContainerPoint(l),d=this._map.mouseEventToLayerPoint(l),f=this._map.layerPointToLatLng(d);this._map.fire(s,{latlng:f,layerPoint:d,containerPoint:u,pageX:l.pageX,pageY:l.pageY,originalEvent:i})},_filterClick:function(i){var s=i.timeStamp||i.originalEvent.timeStamp,l=L.DomEvent._lastClick&&s-L.DomEvent._lastClick;return l&&l>100&&l<500||i.target._simulatedClick&&!i._simulated?(L.DomEvent.stop(i),!1):(L.DomEvent._lastClick=s,!0)},_onTouchStart:function(i){this._map._loaded&&this._touchEvent(i,"touchstart")},_onTouchEnd:function(i){this._map._loaded&&this._touchEvent(i,"touchend")},_onTouchCancel:function(i){if(this._map._loaded){var s="touchcancel";this._detectIE()&&(s="pointercancel"),this._touchEvent(i,s)}},_onTouchLeave:function(i){this._map._loaded&&this._touchEvent(i,"touchleave")},_onTouchMove:function(i){this._map._loaded&&this._touchEvent(i,"touchmove")},_detectIE:function(){var i=e.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var l=i.indexOf("rv:");return parseInt(i.substring(l+3,i.indexOf(".",l)),10)}var u=i.indexOf("Edge/");return u>0&&parseInt(i.substring(u+5,i.indexOf(".",u)),10)}}),L.Map.addInitHook("addHandler","touchExtend",L.Map.TouchExtend),L.Marker.Touch=L.Marker.extend({_initInteraction:function(){return this.addInteractiveTarget?L.Marker.prototype._initInteraction.apply(this):this._initInteractionLegacy()},_initInteractionLegacy:function(){if(this.options.clickable){var i=this._icon,s=["dblclick","mousedown","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove"];this._detectIE?s.concat(["MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"]):s.concat(["touchcancel"]),L.DomUtil.addClass(i,"leaflet-clickable"),L.DomEvent.on(i,"click",this._onMouseClick,this),L.DomEvent.on(i,"keypress",this._onKeyPress,this);for(var l=0;l<s.length;l++)L.DomEvent.on(i,s[l],this._fireMouseEvent,this);L.Handler.MarkerDrag&&(this.dragging=new L.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_detectIE:function(){var i=e.navigator.userAgent,s=i.indexOf("MSIE ");if(s>0)return parseInt(i.substring(s+5,i.indexOf(".",s)),10);if(i.indexOf("Trident/")>0){var l=i.indexOf("rv:");return parseInt(i.substring(l+3,i.indexOf(".",l)),10)}var u=i.indexOf("Edge/");return u>0&&parseInt(i.substring(u+5,i.indexOf(".",u)),10)}}),L.LatLngUtil={cloneLatLngs:function(i){for(var s=[],l=0,u=i.length;l<u;l++)Array.isArray(i[l])?s.push(L.LatLngUtil.cloneLatLngs(i[l])):s.push(this.cloneLatLng(i[l]));return s},cloneLatLng:function(i){return L.latLng(i.lat,i.lng)}},function(){var i={km:2,ha:2,m:0,mi:2,ac:2,yd:0,ft:0,nm:2};L.GeometryUtil=L.extend(L.GeometryUtil||{},{geodesicArea:function(s){var l,u,d=s.length,f=0,_=Math.PI/180;if(d>2){for(var m=0;m<d;m++)l=s[m],u=s[(m+1)%d],f+=(u.lng-l.lng)*_*(2+Math.sin(l.lat*_)+Math.sin(u.lat*_));f=6378137*f*6378137/2}return Math.abs(f)},formattedNumber:function(s,l){var u=parseFloat(s).toFixed(l),d=L.drawLocal.format&&L.drawLocal.format.numeric,f=d&&d.delimiters,_=f&&f.thousands,m=f&&f.decimal;if(_||m){var w=u.split(".");u=_?w[0].replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+_):w[0],m=m||".",w.length>1&&(u=u+m+w[1])}return u},readableArea:function(s,l,_){var d,f,_=L.Util.extend({},i,_);return l?(f=["ha","m"],type=typeof l,type==="string"?f=[l]:type!=="boolean"&&(f=l),d=s>=1e6&&f.indexOf("km")!==-1?L.GeometryUtil.formattedNumber(1e-6*s,_.km)+" km":s>=1e4&&f.indexOf("ha")!==-1?L.GeometryUtil.formattedNumber(1e-4*s,_.ha)+" ha":L.GeometryUtil.formattedNumber(s,_.m)+" m"):(s/=.836127,d=s>=3097600?L.GeometryUtil.formattedNumber(s/3097600,_.mi)+" mi":s>=4840?L.GeometryUtil.formattedNumber(s/4840,_.ac)+" acres":L.GeometryUtil.formattedNumber(s,_.yd)+" yd"),d},readableDistance:function(s,l,u,d,m){var _,m=L.Util.extend({},i,m);switch(l?typeof l=="string"?l:"metric":u?"feet":d?"nauticalMile":"yards"){case"metric":_=s>1e3?L.GeometryUtil.formattedNumber(s/1e3,m.km)+" km":L.GeometryUtil.formattedNumber(s,m.m)+" m";break;case"feet":s*=3.28083,_=L.GeometryUtil.formattedNumber(s,m.ft)+" ft";break;case"nauticalMile":s*=.53996,_=L.GeometryUtil.formattedNumber(s/1e3,m.nm)+" nm";break;case"yards":default:s*=1.09361,_=s>1760?L.GeometryUtil.formattedNumber(s/1760,m.mi)+" miles":L.GeometryUtil.formattedNumber(s,m.yd)+" yd"}return _},isVersion07x:function(){var s=L.version.split(".");return parseInt(s[0],10)===0&&parseInt(s[1],10)===7}})}(),L.Util.extend(L.LineUtil,{segmentsIntersect:function(i,s,l,u){return this._checkCounterclockwise(i,l,u)!==this._checkCounterclockwise(s,l,u)&&this._checkCounterclockwise(i,s,l)!==this._checkCounterclockwise(i,s,u)},_checkCounterclockwise:function(i,s,l){return(l.y-i.y)*(s.x-i.x)>(s.y-i.y)*(l.x-i.x)}}),L.Polyline.include({intersects:function(){var i,s,l,u=this._getProjectedPoints(),d=u?u.length:0;if(this._tooFewPointsForIntersection())return!1;for(i=d-1;i>=3;i--)if(s=u[i-1],l=u[i],this._lineSegmentsIntersectsRange(s,l,i-2))return!0;return!1},newLatLngIntersects:function(i,s){return!!this._map&&this.newPointIntersects(this._map.latLngToLayerPoint(i),s)},newPointIntersects:function(i,s){var l=this._getProjectedPoints(),u=l?l.length:0,d=l?l[u-1]:null,f=u-2;return!this._tooFewPointsForIntersection(1)&&this._lineSegmentsIntersectsRange(d,i,f,s?1:0)},_tooFewPointsForIntersection:function(i){var s=this._getProjectedPoints(),l=s?s.length:0;return l+=i||0,!s||l<=3},_lineSegmentsIntersectsRange:function(i,s,l,u){var d,f,_=this._getProjectedPoints();u=u||0;for(var m=l;m>u;m--)if(d=_[m-1],f=_[m],L.LineUtil.segmentsIntersect(i,s,d,f))return!0;return!1},_getProjectedPoints:function(){if(!this._defaultShape)return this._originalPoints;for(var i=[],s=this._defaultShape(),l=0;l<s.length;l++)i.push(this._map.latLngToLayerPoint(s[l]));return i}}),L.Polygon.include({intersects:function(){var i,s,l,u,d=this._getProjectedPoints();return!this._tooFewPointsForIntersection()&&(!!L.Polyline.prototype.intersects.call(this)||(i=d.length,s=d[0],l=d[i-1],u=i-2,this._lineSegmentsIntersectsRange(l,s,u,1)))}}),L.Control.Draw=L.Control.extend({options:{position:"topleft",draw:{},edit:!1},initialize:function(i){if(L.version<"0.7")throw new Error("Leaflet.draw 0.2.3+ requires Leaflet 0.7.0+. Download latest from https://github.com/Leaflet/Leaflet/");L.Control.prototype.initialize.call(this,i);var s;this._toolbars={},L.DrawToolbar&&this.options.draw&&(s=new L.DrawToolbar(this.options.draw),this._toolbars[L.DrawToolbar.TYPE]=s,this._toolbars[L.DrawToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.EditToolbar&&this.options.edit&&(s=new L.EditToolbar(this.options.edit),this._toolbars[L.EditToolbar.TYPE]=s,this._toolbars[L.EditToolbar.TYPE].on("enable",this._toolbarEnabled,this)),L.toolbar=this},onAdd:function(i){var s,l=L.DomUtil.create("div","leaflet-draw"),u=!1;for(var d in this._toolbars)this._toolbars.hasOwnProperty(d)&&(s=this._toolbars[d].addToolbar(i))&&(u||(L.DomUtil.hasClass(s,"leaflet-draw-toolbar-top")||L.DomUtil.addClass(s.childNodes[0],"leaflet-draw-toolbar-top"),u=!0),l.appendChild(s));return l},onRemove:function(){for(var i in this._toolbars)this._toolbars.hasOwnProperty(i)&&this._toolbars[i].removeToolbar()},setDrawingOptions:function(i){for(var s in this._toolbars)this._toolbars[s]instanceof L.DrawToolbar&&this._toolbars[s].setOptions(i)},_toolbarEnabled:function(i){var s=i.target;for(var l in this._toolbars)this._toolbars[l]!==s&&this._toolbars[l].disable()}}),L.Map.mergeOptions({drawControlTooltips:!0,drawControl:!1}),L.Map.addInitHook(function(){this.options.drawControl&&(this.drawControl=new L.Control.Draw,this.addControl(this.drawControl))}),L.Toolbar=L.Class.extend({initialize:function(i){L.setOptions(this,i),this._modes={},this._actionButtons=[],this._activeMode=null;var s=L.version.split(".");parseInt(s[0],10)===1&&parseInt(s[1],10)>=2?L.Toolbar.include(L.Evented.prototype):L.Toolbar.include(L.Mixin.Events)},enabled:function(){return this._activeMode!==null},disable:function(){this.enabled()&&this._activeMode.handler.disable()},addToolbar:function(i){var s,l=L.DomUtil.create("div","leaflet-draw-section"),u=0,d=this._toolbarClass||"",f=this.getModeHandlers(i);for(this._toolbarContainer=L.DomUtil.create("div","leaflet-draw-toolbar leaflet-bar"),this._map=i,s=0;s<f.length;s++)f[s].enabled&&this._initModeHandler(f[s].handler,this._toolbarContainer,u++,d,f[s].title);if(u)return this._lastButtonIndex=--u,this._actionsContainer=L.DomUtil.create("ul","leaflet-draw-actions"),l.appendChild(this._toolbarContainer),l.appendChild(this._actionsContainer),l},removeToolbar:function(){for(var i in this._modes)this._modes.hasOwnProperty(i)&&(this._disposeButton(this._modes[i].button,this._modes[i].handler.enable,this._modes[i].handler),this._modes[i].handler.disable(),this._modes[i].handler.off("enabled",this._handlerActivated,this).off("disabled",this._handlerDeactivated,this));this._modes={};for(var s=0,l=this._actionButtons.length;s<l;s++)this._disposeButton(this._actionButtons[s].button,this._actionButtons[s].callback,this);this._actionButtons=[],this._actionsContainer=null},_initModeHandler:function(i,s,l,u,d){var f=i.type;this._modes[f]={},this._modes[f].handler=i,this._modes[f].button=this._createButton({type:f,title:d,className:u+"-"+f,container:s,callback:this._modes[f].handler.enable,context:this._modes[f].handler}),this._modes[f].buttonIndex=l,this._modes[f].handler.on("enabled",this._handlerActivated,this).on("disabled",this._handlerDeactivated,this)},_detectIOS:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!e.MSStream},_createButton:function(i){var s=L.DomUtil.create("a",i.className||"",i.container),l=L.DomUtil.create("span","sr-only",i.container);s.href="#",s.appendChild(l),i.title&&(s.title=i.title,l.innerHTML=i.title),i.text&&(s.innerHTML=i.text,l.innerHTML=i.text);var u=this._detectIOS()?"touchstart":"click";return L.DomEvent.on(s,"click",L.DomEvent.stopPropagation).on(s,"mousedown",L.DomEvent.stopPropagation).on(s,"dblclick",L.DomEvent.stopPropagation).on(s,"touchstart",L.DomEvent.stopPropagation).on(s,"click",L.DomEvent.preventDefault).on(s,u,i.callback,i.context),s},_disposeButton:function(i,s){var l=this._detectIOS()?"touchstart":"click";L.DomEvent.off(i,"click",L.DomEvent.stopPropagation).off(i,"mousedown",L.DomEvent.stopPropagation).off(i,"dblclick",L.DomEvent.stopPropagation).off(i,"touchstart",L.DomEvent.stopPropagation).off(i,"click",L.DomEvent.preventDefault).off(i,l,s)},_handlerActivated:function(i){this.disable(),this._activeMode=this._modes[i.handler],L.DomUtil.addClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._showActionsToolbar(),this.fire("enable")},_handlerDeactivated:function(){this._hideActionsToolbar(),L.DomUtil.removeClass(this._activeMode.button,"leaflet-draw-toolbar-button-enabled"),this._activeMode=null,this.fire("disable")},_createActions:function(i){var s,l,u,d,f=this._actionsContainer,_=this.getActions(i),m=_.length;for(l=0,u=this._actionButtons.length;l<u;l++)this._disposeButton(this._actionButtons[l].button,this._actionButtons[l].callback);for(this._actionButtons=[];f.firstChild;)f.removeChild(f.firstChild);for(var w=0;w<m;w++)"enabled"in _[w]&&!_[w].enabled||(s=L.DomUtil.create("li","",f),d=this._createButton({title:_[w].title,text:_[w].text,container:s,callback:_[w].callback,context:_[w].context}),this._actionButtons.push({button:d,callback:_[w].callback}))},_showActionsToolbar:function(){var i=this._activeMode.buttonIndex,s=this._lastButtonIndex,l=this._activeMode.button.offsetTop-1;this._createActions(this._activeMode.handler),this._actionsContainer.style.top=l+"px",i===0&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-top")),i===s&&(L.DomUtil.addClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.addClass(this._actionsContainer,"leaflet-draw-actions-bottom")),this._actionsContainer.style.display="block",this._map.fire(L.Draw.Event.TOOLBAROPENED)},_hideActionsToolbar:function(){this._actionsContainer.style.display="none",L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-notop"),L.DomUtil.removeClass(this._toolbarContainer,"leaflet-draw-toolbar-nobottom"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-top"),L.DomUtil.removeClass(this._actionsContainer,"leaflet-draw-actions-bottom"),this._map.fire(L.Draw.Event.TOOLBARCLOSED)}}),L.Draw=L.Draw||{},L.Draw.Tooltip=L.Class.extend({initialize:function(i){this._map=i,this._popupPane=i._panes.popupPane,this._visible=!1,this._container=i.options.drawControlTooltips?L.DomUtil.create("div","leaflet-draw-tooltip",this._popupPane):null,this._singleLineLabel=!1,this._map.on("mouseout",this._onMouseOut,this)},dispose:function(){this._map.off("mouseout",this._onMouseOut,this),this._container&&(this._popupPane.removeChild(this._container),this._container=null)},updateContent:function(i){return this._container?(i.subtext=i.subtext||"",i.subtext.length!==0||this._singleLineLabel?i.subtext.length>0&&this._singleLineLabel&&(L.DomUtil.removeClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!1):(L.DomUtil.addClass(this._container,"leaflet-draw-tooltip-single"),this._singleLineLabel=!0),this._container.innerHTML=(i.subtext.length>0?'<span class="leaflet-draw-tooltip-subtext">'+i.subtext+"</span><br />":"")+"<span>"+i.text+"</span>",i.text||i.subtext?(this._visible=!0,this._container.style.visibility="inherit"):(this._visible=!1,this._container.style.visibility="hidden"),this):this},updatePosition:function(i){var s=this._map.latLngToLayerPoint(i),l=this._container;return this._container&&(this._visible&&(l.style.visibility="inherit"),L.DomUtil.setPosition(l,s)),this},showAsError:function(){return this._container&&L.DomUtil.addClass(this._container,"leaflet-error-draw-tooltip"),this},removeError:function(){return this._container&&L.DomUtil.removeClass(this._container,"leaflet-error-draw-tooltip"),this},_onMouseOut:function(){this._container&&(this._container.style.visibility="hidden")}}),L.DrawToolbar=L.Toolbar.extend({statics:{TYPE:"draw"},options:{polyline:{},polygon:{},rectangle:{},circle:{},marker:{},circlemarker:{}},initialize:function(i){for(var s in this.options)this.options.hasOwnProperty(s)&&i[s]&&(i[s]=L.extend({},this.options[s],i[s]));this._toolbarClass="leaflet-draw-draw",L.Toolbar.prototype.initialize.call(this,i)},getModeHandlers:function(i){return[{enabled:this.options.polyline,handler:new L.Draw.Polyline(i,this.options.polyline),title:L.drawLocal.draw.toolbar.buttons.polyline},{enabled:this.options.polygon,handler:new L.Draw.Polygon(i,this.options.polygon),title:L.drawLocal.draw.toolbar.buttons.polygon},{enabled:this.options.rectangle,handler:new L.Draw.Rectangle(i,this.options.rectangle),title:L.drawLocal.draw.toolbar.buttons.rectangle},{enabled:this.options.circle,handler:new L.Draw.Circle(i,this.options.circle),title:L.drawLocal.draw.toolbar.buttons.circle},{enabled:this.options.marker,handler:new L.Draw.Marker(i,this.options.marker),title:L.drawLocal.draw.toolbar.buttons.marker},{enabled:this.options.circlemarker,handler:new L.Draw.CircleMarker(i,this.options.circlemarker),title:L.drawLocal.draw.toolbar.buttons.circlemarker}]},getActions:function(i){return[{enabled:i.completeShape,title:L.drawLocal.draw.toolbar.finish.title,text:L.drawLocal.draw.toolbar.finish.text,callback:i.completeShape,context:i},{enabled:i.deleteLastVertex,title:L.drawLocal.draw.toolbar.undo.title,text:L.drawLocal.draw.toolbar.undo.text,callback:i.deleteLastVertex,context:i},{title:L.drawLocal.draw.toolbar.actions.title,text:L.drawLocal.draw.toolbar.actions.text,callback:this.disable,context:this}]},setOptions:function(i){L.setOptions(this,i);for(var s in this._modes)this._modes.hasOwnProperty(s)&&i.hasOwnProperty(s)&&this._modes[s].handler.setOptions(i[s])}}),L.EditToolbar=L.Toolbar.extend({statics:{TYPE:"edit"},options:{edit:{selectedPathOptions:{dashArray:"10, 10",fill:!0,fillColor:"#fe57a1",fillOpacity:.1,maintainColor:!1}},remove:{},poly:null,featureGroup:null},initialize:function(i){i.edit&&(i.edit.selectedPathOptions===void 0&&(i.edit.selectedPathOptions=this.options.edit.selectedPathOptions),i.edit.selectedPathOptions=L.extend({},this.options.edit.selectedPathOptions,i.edit.selectedPathOptions)),i.remove&&(i.remove=L.extend({},this.options.remove,i.remove)),i.poly&&(i.poly=L.extend({},this.options.poly,i.poly)),this._toolbarClass="leaflet-draw-edit",L.Toolbar.prototype.initialize.call(this,i),this._selectedFeatureCount=0},getModeHandlers:function(i){var s=this.options.featureGroup;return[{enabled:this.options.edit,handler:new L.EditToolbar.Edit(i,{featureGroup:s,selectedPathOptions:this.options.edit.selectedPathOptions,poly:this.options.poly}),title:L.drawLocal.edit.toolbar.buttons.edit},{enabled:this.options.remove,handler:new L.EditToolbar.Delete(i,{featureGroup:s}),title:L.drawLocal.edit.toolbar.buttons.remove}]},getActions:function(i){var s=[{title:L.drawLocal.edit.toolbar.actions.save.title,text:L.drawLocal.edit.toolbar.actions.save.text,callback:this._save,context:this},{title:L.drawLocal.edit.toolbar.actions.cancel.title,text:L.drawLocal.edit.toolbar.actions.cancel.text,callback:this.disable,context:this}];return i.removeAllLayers&&s.push({title:L.drawLocal.edit.toolbar.actions.clearAll.title,text:L.drawLocal.edit.toolbar.actions.clearAll.text,callback:this._clearAllLayers,context:this}),s},addToolbar:function(i){var s=L.Toolbar.prototype.addToolbar.call(this,i);return this._checkDisabled(),this.options.featureGroup.on("layeradd layerremove",this._checkDisabled,this),s},removeToolbar:function(){this.options.featureGroup.off("layeradd layerremove",this._checkDisabled,this),L.Toolbar.prototype.removeToolbar.call(this)},disable:function(){this.enabled()&&(this._activeMode.handler.revertLayers(),L.Toolbar.prototype.disable.call(this))},_save:function(){this._activeMode.handler.save(),this._activeMode&&this._activeMode.handler.disable()},_clearAllLayers:function(){this._activeMode.handler.removeAllLayers(),this._activeMode&&this._activeMode.handler.disable()},_checkDisabled:function(){var i,s=this.options.featureGroup,l=s.getLayers().length!==0;this.options.edit&&(i=this._modes[L.EditToolbar.Edit.TYPE].button,l?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",l?L.drawLocal.edit.toolbar.buttons.edit:L.drawLocal.edit.toolbar.buttons.editDisabled)),this.options.remove&&(i=this._modes[L.EditToolbar.Delete.TYPE].button,l?L.DomUtil.removeClass(i,"leaflet-disabled"):L.DomUtil.addClass(i,"leaflet-disabled"),i.setAttribute("title",l?L.drawLocal.edit.toolbar.buttons.remove:L.drawLocal.edit.toolbar.buttons.removeDisabled))}}),L.EditToolbar.Edit=L.Handler.extend({statics:{TYPE:"edit"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.setOptions(this,s),this._featureGroup=s.featureGroup,!(this._featureGroup instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this._uneditedLayerProps={},this.type=L.EditToolbar.Edit.TYPE;var l=L.version.split(".");parseInt(l[0],10)===1&&parseInt(l[1],10)>=2?L.EditToolbar.Edit.include(L.Evented.prototype):L.EditToolbar.Edit.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.EDITSTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._featureGroup.on("layeradd",this._enableLayerEdit,this).on("layerremove",this._disableLayerEdit,this))},disable:function(){this._enabled&&(this._featureGroup.off("layeradd",this._enableLayerEdit,this).off("layerremove",this._disableLayerEdit,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.EDITSTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._featureGroup.eachLayer(this._enableLayerEdit,this),this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}),i._editTooltip=this._tooltip,this._updateTooltip(),this._map.on("mousemove",this._onMouseMove,this).on("touchmove",this._onMouseMove,this).on("MSPointerMove",this._onMouseMove,this).on(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},removeHooks:function(){this._map&&(this._featureGroup.eachLayer(this._disableLayerEdit,this),this._uneditedLayerProps={},this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this).off("touchmove",this._onMouseMove,this).off("MSPointerMove",this._onMouseMove,this).off(L.Draw.Event.EDITVERTEX,this._updateTooltip,this))},revertLayers:function(){this._featureGroup.eachLayer(function(i){this._revertLayer(i)},this)},save:function(){var i=new L.LayerGroup;this._featureGroup.eachLayer(function(s){s.edited&&(i.addLayer(s),s.edited=!1)}),this._map.fire(L.Draw.Event.EDITED,{layers:i})},_backupLayer:function(i){var s=L.Util.stamp(i);this._uneditedLayerProps[s]||(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?this._uneditedLayerProps[s]={latlngs:L.LatLngUtil.cloneLatLngs(i.getLatLngs())}:i instanceof L.Circle?this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng()),radius:i.getRadius()}:(i instanceof L.Marker||i instanceof L.CircleMarker)&&(this._uneditedLayerProps[s]={latlng:L.LatLngUtil.cloneLatLng(i.getLatLng())}))},_getTooltipText:function(){return{text:L.drawLocal.edit.handlers.edit.tooltip.text,subtext:L.drawLocal.edit.handlers.edit.tooltip.subtext}},_updateTooltip:function(){this._tooltip.updateContent(this._getTooltipText())},_revertLayer:function(i){var s=L.Util.stamp(i);i.edited=!1,this._uneditedLayerProps.hasOwnProperty(s)&&(i instanceof L.Polyline||i instanceof L.Polygon||i instanceof L.Rectangle?i.setLatLngs(this._uneditedLayerProps[s].latlngs):i instanceof L.Circle?(i.setLatLng(this._uneditedLayerProps[s].latlng),i.setRadius(this._uneditedLayerProps[s].radius)):(i instanceof L.Marker||i instanceof L.CircleMarker)&&i.setLatLng(this._uneditedLayerProps[s].latlng),i.fire("revert-edited",{layer:i}))},_enableLayerEdit:function(i){var s,l,u=i.layer||i.target||i;this._backupLayer(u),this.options.poly&&(l=L.Util.extend({},this.options.poly),u.options.poly=l),this.options.selectedPathOptions&&(s=L.Util.extend({},this.options.selectedPathOptions),s.maintainColor&&(s.color=u.options.color,s.fillColor=u.options.fillColor),u.options.original=L.extend({},u.options),u.options.editing=s),u instanceof L.Marker?(u.editing&&u.editing.enable(),u.dragging.enable(),u.on("dragend",this._onMarkerDragEnd).on("touchmove",this._onTouchMove,this).on("MSPointerMove",this._onTouchMove,this).on("touchend",this._onMarkerDragEnd,this).on("MSPointerUp",this._onMarkerDragEnd,this)):u.editing.enable()},_disableLayerEdit:function(i){var s=i.layer||i.target||i;s.edited=!1,s.editing&&s.editing.disable(),delete s.options.editing,delete s.options.original,this._selectedPathOptions&&(s instanceof L.Marker?this._toggleMarkerHighlight(s):(s.setStyle(s.options.previousOptions),delete s.options.previousOptions)),s instanceof L.Marker?(s.dragging.disable(),s.off("dragend",this._onMarkerDragEnd,this).off("touchmove",this._onTouchMove,this).off("MSPointerMove",this._onTouchMove,this).off("touchend",this._onMarkerDragEnd,this).off("MSPointerUp",this._onMarkerDragEnd,this)):s.editing.disable()},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_onMarkerDragEnd:function(i){var s=i.target;s.edited=!0,this._map.fire(L.Draw.Event.EDITMOVE,{layer:s})},_onTouchMove:function(i){var s=i.originalEvent.changedTouches[0],l=this._map.mouseEventToLayerPoint(s),u=this._map.layerPointToLatLng(l);i.target.setLatLng(u)},_hasAvailableLayers:function(){return this._featureGroup.getLayers().length!==0}}),L.EditToolbar.Delete=L.Handler.extend({statics:{TYPE:"remove"},initialize:function(i,s){if(L.Handler.prototype.initialize.call(this,i),L.Util.setOptions(this,s),this._deletableLayers=this.options.featureGroup,!(this._deletableLayers instanceof L.FeatureGroup))throw new Error("options.featureGroup must be a L.FeatureGroup");this.type=L.EditToolbar.Delete.TYPE;var l=L.version.split(".");parseInt(l[0],10)===1&&parseInt(l[1],10)>=2?L.EditToolbar.Delete.include(L.Evented.prototype):L.EditToolbar.Delete.include(L.Mixin.Events)},enable:function(){!this._enabled&&this._hasAvailableLayers()&&(this.fire("enabled",{handler:this.type}),this._map.fire(L.Draw.Event.DELETESTART,{handler:this.type}),L.Handler.prototype.enable.call(this),this._deletableLayers.on("layeradd",this._enableLayerDelete,this).on("layerremove",this._disableLayerDelete,this))},disable:function(){this._enabled&&(this._deletableLayers.off("layeradd",this._enableLayerDelete,this).off("layerremove",this._disableLayerDelete,this),L.Handler.prototype.disable.call(this),this._map.fire(L.Draw.Event.DELETESTOP,{handler:this.type}),this.fire("disabled",{handler:this.type}))},addHooks:function(){var i=this._map;i&&(i.getContainer().focus(),this._deletableLayers.eachLayer(this._enableLayerDelete,this),this._deletedLayers=new L.LayerGroup,this._tooltip=new L.Draw.Tooltip(this._map),this._tooltip.updateContent({text:L.drawLocal.edit.handlers.remove.tooltip.text}),this._map.on("mousemove",this._onMouseMove,this))},removeHooks:function(){this._map&&(this._deletableLayers.eachLayer(this._disableLayerDelete,this),this._deletedLayers=null,this._tooltip.dispose(),this._tooltip=null,this._map.off("mousemove",this._onMouseMove,this))},revertLayers:function(){this._deletedLayers.eachLayer(function(i){this._deletableLayers.addLayer(i),i.fire("revert-deleted",{layer:i})},this)},save:function(){this._map.fire(L.Draw.Event.DELETED,{layers:this._deletedLayers})},removeAllLayers:function(){this._deletableLayers.eachLayer(function(i){this._removeLayer({layer:i})},this),this.save()},_enableLayerDelete:function(i){(i.layer||i.target||i).on("click",this._removeLayer,this)},_disableLayerDelete:function(i){var s=i.layer||i.target||i;s.off("click",this._removeLayer,this),this._deletedLayers.removeLayer(s)},_removeLayer:function(i){var s=i.layer||i.target||i;this._deletableLayers.removeLayer(s),this._deletedLayers.addLayer(s),s.fire("deleted")},_onMouseMove:function(i){this._tooltip.updatePosition(i.latlng)},_hasAvailableLayers:function(){return this._deletableLayers.getLayers().length!==0}})})(window,document);function T2(){const e=ga(),{drawingMode:t,setDrawingMode:n}=Qn(),{createFeature:o}=Vo(),i=H.useRef(null),s=H.useRef(null),l=bi();return H.useEffect(()=>{s.current||(s.current=new qn.FeatureGroup,e.addLayer(s.current));const u=async d=>{const _=d.layer;try{let m,w;if(_ instanceof qn.Marker){const P=_.getLatLng();m=cg(P.lng,P.lat),w="Point"}else if(_ instanceof qn.Polyline&&!(_ instanceof qn.Polygon)){const k=_.getLatLngs().map(M=>[M.lng,M.lat]);m=w2(k),w="LineString"}else if(_ instanceof qn.Polygon){const k=_.getLatLngs()[0].map(M=>[M.lng,M.lat]);m=x2(k),w="Polygon"}else return;const b=await o({name:`New ${w}`,geometryType:w,geometry:m,tags:[]});l(`/feature/${b.id}?edit=true`)}catch(m){console.error("Failed to create feature:",m)}finally{n("none")}};return e.on(qn.Draw.Event.CREATED,u),()=>{e.off(qn.Draw.Event.CREATED,u)}},[e,o,n,l]),H.useEffect(()=>{if(i.current&&(e.removeControl(i.current),i.current=null),t==="none")return;const u={position:"topright",draw:{polyline:t==="line"?{shapeOptions:{color:"#16a34a",weight:3}}:!1,polygon:t==="polygon"?{shapeOptions:{color:"#16a34a",weight:2,fillColor:"#16a34a",fillOpacity:.2}}:!1,circle:!1,rectangle:!1,circlemarker:!1,marker:t==="point"?{}:!1},edit:{featureGroup:s.current,remove:!1,edit:!1}};return i.current=new qn.Control.Draw(u),e.addControl(i.current),setTimeout(()=>{const f=document.querySelectorAll(".leaflet-draw-draw-marker, .leaflet-draw-draw-polyline, .leaflet-draw-draw-polygon")[0];f&&f.click()},100),()=>{i.current&&(e.removeControl(i.current),i.current=null)}},[e,t]),null}function C2(e){const{drawingMode:t,setDrawingMode:n}=Qn(),{latitude:o,longitude:i,getCurrentPosition:s,isLoading:l}=Pu(),{createFeature:u}=Vo(),d=bi(),f=async()=>{try{let m=o,w=i;if(!m||!w){const b=await s();m=b.coords.latitude,w=b.coords.longitude}if(m&&w){const b=await u({name:"New Point",geometryType:"Point",geometry:cg(w,m),tags:[]});d(`/feature/${b.id}?edit=true`)}}catch(m){console.error("Failed to get location:",m)}};return t!=="none"?E.jsx("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-[1000]",children:E.jsx("button",{onClick:()=>n("none"),className:"px-6 py-3 bg-red-600 text-white font-medium rounded-full shadow-lg hover:bg-red-700 transition-colors",children:"Cancel Drawing"})}):E.jsx("div",{className:"absolute bottom-24 left-1/2 -translate-x-1/2 z-[1000]",children:E.jsxs("div",{className:"flex gap-2 bg-white rounded-full shadow-lg p-1",children:[E.jsxs("button",{onClick:f,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-primary-600 text-white font-medium rounded-full hover:bg-primary-700 transition-colors min-h-touch",title:"Add point at current location",children:[E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Drop Point"]}),E.jsx("button",{onClick:()=>n("line"),className:"p-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors min-h-touch min-w-touch flex items-center justify-center",title:"Draw line",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 20L20 4"})})}),E.jsx("button",{onClick:()=>n("polygon"),className:"p-2 text-stone-600 hover:bg-stone-100 rounded-full transition-colors min-h-touch min-w-touch flex items-center justify-center",title:"Draw polygon",children:E.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]})})}const nm=[{id:"osm",label:"Street",icon:""},{id:"satellite",label:"Satellite",icon:""},{id:"none",label:"None",icon:""}];function P2(){const[e,t]=H.useState(!1),{basemap:n,setBasemap:o}=Qn(),i=nm.find(s=>s.id===n);return E.jsx("div",{className:"absolute top-4 right-4 z-[1000]",children:E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>t(!e),className:"flex items-center gap-2 px-3 py-2 bg-white rounded-lg shadow-md hover:bg-stone-50 transition-colors min-h-touch",children:[E.jsx("span",{className:"text-lg",children:i?.icon}),E.jsx("span",{className:"text-sm font-medium text-stone-700",children:i?.label}),E.jsx("svg",{className:`w-4 h-4 text-stone-500 transition-transform ${e?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e&&E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"fixed inset-0 z-[-1]",onClick:()=>t(!1)}),E.jsx("div",{className:"absolute right-0 mt-2 bg-white rounded-lg shadow-lg overflow-hidden animate-fade-in",children:nm.map(s=>E.jsxs("button",{onClick:()=>{o(s.id),t(!1)},className:`
                    w-full flex items-center gap-3 px-4 py-3 text-left
                    hover:bg-stone-50 transition-colors min-h-touch
                    ${n===s.id?"bg-primary-50 text-primary-700":"text-stone-700"}
                  `,children:[E.jsx("span",{className:"text-lg",children:s.icon}),E.jsx("span",{className:"font-medium",children:s.label}),n===s.id&&E.jsx("svg",{className:"w-5 h-5 ml-auto text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},s.id))})]})]})})}function M2(){return E.jsxs(E.Fragment,{children:[E.jsx(O2,{}),E.jsx(C2,{onAddPoint:()=>{}})]})}function N2(){const e=ga(),{showGpsLocation:t,toggleGpsLocation:n}=Qn(),{getCurrentPosition:o,isLoading:i,error:s}=Pu(),l=async()=>{t||n();try{const u=await o();u&&e.setView([u.coords.latitude,u.coords.longitude],Math.max(e.getZoom(),16))}catch{}};return E.jsx("div",{className:"absolute bottom-4 right-4 z-[1000]",children:E.jsx("button",{onClick:l,disabled:i,className:`
          p-3 bg-white rounded-lg shadow-md
          hover:bg-stone-50 active:bg-stone-100
          transition-colors min-h-touch min-w-touch
          flex items-center justify-center
          ${t?"text-primary-600":"text-stone-600"}
          ${i?"animate-pulse":""}
        `,title:s||"Center on my location",children:E.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})})})}function O2(){const{visibleGeometryTypes:e,visibleTags:t,resetFilters:n}=Qn(),o=e.size<3||t.size>0;return E.jsx("div",{className:"absolute top-4 left-4 z-[1000]",children:E.jsxs("button",{onClick:n,className:`
          p-3 bg-white rounded-lg shadow-md
          hover:bg-stone-50 active:bg-stone-100
          transition-colors min-h-touch min-w-touch
          flex items-center justify-center
          ${o?"text-primary-600":"text-stone-600"}
        `,title:"Filter features",children:[E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),o&&E.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary-600 rounded-full"})]})})}delete qn.Icon.Default.prototype._getIconUrl;qn.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png"});function D2(){const{setCenter:e,setZoom:t}=Qn();return mx({moveend:n=>{const i=n.target.getCenter();e([i.lat,i.lng])},zoomend:n=>{const o=n.target;t(o.getZoom())}}),null}function I2(){const e=ga(),{center:t,zoom:n}=Qn(),o=H.useRef(!1);return H.useEffect(()=>{o.current||(o.current=!0,e.setView(t,n))},[e,t,n]),null}function z2({type:e}){return e==="none"?null:e==="satellite"?E.jsx(Rp,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",attribution:"Tiles  Esri",maxZoom:19}):E.jsx(Rp,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:19})}function A2(){const{center:e,zoom:t,basemap:n}=Qn(),{features:o,isLoading:i}=t2();return E.jsxs("div",{className:"relative h-full w-full",children:[E.jsxs(yx,{center:e,zoom:t,zoomControl:!1,className:"h-full w-full",attributionControl:!0,children:[E.jsx(D2,{}),E.jsx(I2,{}),E.jsx(kx,{position:"bottomright"}),E.jsx(z2,{type:n}),E.jsx(b2,{features:o,isLoading:i}),E.jsx(S2,{}),E.jsx(T2,{}),E.jsx(N2,{})]}),E.jsx(M2,{}),E.jsx(P2,{})]})}function R2(){const{isOffline:e}=n2();return E.jsxs("div",{className:"h-full relative",children:[e&&E.jsx("div",{className:"absolute top-0 left-0 right-0 z-[1001] bg-amber-500 text-white text-center py-1 text-sm font-medium",children:"Offline Mode"}),E.jsx(A2,{})]})}function j2({feature:e,onSuccess:t,onCancel:n}){const{updateFeature:o}=Vo(),[i,s]=H.useState(e.name),[l,u]=H.useState(e.description||""),[d,f]=H.useState(e.tags.join(", ")),[_,m]=H.useState(!1),[w,b]=H.useState(null),P=async k=>{if(k.preventDefault(),!i.trim()){b("Name is required");return}m(!0),b(null);try{const M=d.split(",").map(y=>y.trim()).filter(y=>y.length>0),g={name:i.trim(),description:l.trim()||void 0,tags:M};await o(e.id,g),t()}catch(M){b(M.message)}finally{m(!1)}};return E.jsxs("form",{onSubmit:P,className:"space-y-4",children:[E.jsx(dr,{label:"Name",value:i,onChange:k=>s(k.target.value),placeholder:"Feature name",required:!0,autoFocus:!0}),E.jsx(Go,{label:"Description",value:l,onChange:k=>u(k.target.value),placeholder:"Optional description...",rows:3}),E.jsx(dr,{label:"Tags",value:d,onChange:k=>f(k.target.value),placeholder:"tag1, tag2, tag3",helperText:"Separate tags with commas"}),w&&E.jsx("p",{className:"text-sm text-red-600",children:w}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx(Wt,{type:"button",variant:"secondary",onClick:n,className:"flex-1",children:"Cancel"}),E.jsx(Wt,{type:"submit",isLoading:_,className:"flex-1",children:"Save Changes"})]})]})}function F2({observations:e,measurements:t,tasks:n,media:o}){const i=H.useMemo(()=>[...e.map(u=>({id:u.id,type:"observation",date:u.recordedAt,data:u})),...t.map(u=>({id:u.id,type:"measurement",date:u.recordedAt,data:u})),...n.map(u=>({id:u.id,type:"task",date:u.createdAt,data:u}))].sort((u,d)=>d.date.getTime()-u.date.getTime()),[e,t,n]),s=H.useMemo(()=>{const l=new Map;for(const u of o)if(u.observationId){const d=l.get(u.observationId)||[];d.push(u),l.set(u.observationId,d)}return l},[o]);return i.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[E.jsx("svg",{className:"w-16 h-16 text-stone-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),E.jsx("p",{className:"text-stone-500 text-center",children:"No entries yet"}),E.jsx("p",{className:"text-stone-400 text-sm text-center mt-1",children:"Add observations, measurements, or tasks to build a timeline"})]}):E.jsx("div",{className:"divide-y divide-stone-200",children:i.map(l=>E.jsx(B2,{entry:l,media:l.type==="observation"?s.get(l.id):void 0},`${l.type}-${l.id}`))})}function B2({entry:e,media:t}){switch(e.type){case"observation":return E.jsx(U2,{observation:e.data,media:t});case"measurement":return E.jsx(W2,{measurement:e.data});case"task":return E.jsx(H2,{task:e.data});default:return null}}function U2({observation:e,media:t}){return E.jsx("div",{className:"bg-white px-4 py-3",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:E.jsxs("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-medium text-blue-600 uppercase",children:"Observation"}),E.jsx("span",{className:"text-xs text-stone-500",children:zh(e.recordedAt)})]}),e.notes&&E.jsx("p",{className:"text-stone-900 mt-1",children:e.notes}),e.tags.length>0&&E.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:e.tags.map(n=>E.jsx("span",{className:"px-2 py-0.5 bg-stone-100 text-stone-600 text-xs rounded-full",children:n},n))}),t&&t.length>0&&E.jsx("div",{className:"flex gap-2 mt-2 overflow-x-auto",children:t.map(n=>E.jsx("div",{className:"w-16 h-16 bg-stone-200 rounded flex-shrink-0"},n.id))})]})]})})}function W2({measurement:e}){return E.jsx("div",{className:"bg-white px-4 py-3",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:E.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-medium text-purple-600 uppercase",children:"Measurement"}),E.jsx("span",{className:"text-xs text-stone-500",children:zh(e.recordedAt)})]}),E.jsxs("div",{className:"mt-1",children:[E.jsxs("span",{className:"text-stone-600",children:[e.metric,": "]}),E.jsxs("span",{className:"font-semibold text-stone-900",children:[e.value," ",e.unit]}),E.jsxs("span",{className:"text-xs text-stone-500 ml-2",children:["(",e.method,")"]})]}),e.notes&&E.jsx("p",{className:"text-sm text-stone-500 mt-1",children:e.notes})]})]})})}function H2({task:e}){const t={planned:"bg-stone-100 text-stone-600",active:"bg-blue-100 text-blue-600",done:"bg-green-100 text-green-600",abandoned:"bg-red-100 text-red-600"};return E.jsx("div",{className:"bg-white px-4 py-3",children:E.jsxs("div",{className:"flex items-start gap-3",children:[E.jsx("div",{className:"w-8 h-8 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0",children:E.jsx("svg",{className:"w-4 h-4 text-amber-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-medium text-amber-600 uppercase",children:"Task"}),E.jsx("span",{className:"text-xs text-stone-500",children:zh(e.createdAt)})]}),E.jsx("p",{className:`font-medium mt-1 ${e.status==="done"?"text-stone-400 line-through":"text-stone-900"}`,children:e.title}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t[e.status]}`,children:e.status}),e.priority&&E.jsxs("span",{className:"text-xs text-stone-500",children:["Priority ",e.priority]})]})]})]})})}function Z2({featureId:e,onSuccess:t,onCancel:n}){const{db:o}=jr(),{latitude:i,longitude:s,accuracy:l}=Pu(),[u,d]=H.useState(""),[f,_]=H.useState(""),[m,w]=H.useState(!1),[b,P]=H.useState(null),k=async M=>{if(M.preventDefault(),!o){P("Database not available");return}w(!0),P(null);try{const g=f.split(",").map(y=>y.trim()).filter(y=>y.length>0);await ng(o,{featureId:e,notes:u.trim()||void 0,tags:g,observerLatitude:i,observerLongitude:s,observerAccuracy:l}),t()}catch(g){P(g.message)}finally{w(!1)}};return E.jsxs("form",{onSubmit:k,className:"space-y-4",children:[E.jsx(Go,{label:"Notes",value:u,onChange:M=>d(M.target.value),placeholder:"What did you observe?",rows:4,autoFocus:!0}),E.jsx(dr,{label:"Tags",value:f,onChange:M=>_(M.target.value),placeholder:"condition, weather, growth",helperText:"Separate tags with commas"}),i&&s&&E.jsxs("p",{className:"text-xs text-stone-500",children:["Recording location: ",i.toFixed(5),", ",s.toFixed(5),l&&` (${l.toFixed(0)}m)`]}),b&&E.jsx("p",{className:"text-sm text-red-600",children:b}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx(Wt,{type:"button",variant:"secondary",onClick:n,className:"flex-1",children:"Cancel"}),E.jsx(Wt,{type:"submit",isLoading:m,className:"flex-1",children:"Save Observation"})]})]})}const Qr={length:["m","cm","mm","km","ft","in"],area:["m","ha","acre","km","ft"],volume:["L","mL","m","gal"],mass:["kg","g","lb","oz"],rate:["L/min","L/hr","m/hr"],percentage:["%"],count:["count","units"],temperature:["C","F"]},q2=["height","width","diameter","depth","length","area","volume","flow_rate","temperature","count"];function G2({featureId:e,onSuccess:t,onCancel:n}){const{db:o}=jr(),[i,s]=H.useState(""),[l,u]=H.useState(""),[d,f]=H.useState("m"),[_,m]=H.useState("estimated"),[w,b]=H.useState(""),[P,k]=H.useState(!1),[M,g]=H.useState(null),y=async I=>{if(I.preventDefault(),!o){g("Database not available");return}if(!i.trim()){g("Metric is required");return}const z=parseFloat(l);if(isNaN(z)){g("Value must be a number");return}k(!0),g(null);try{await rg(o,{featureId:e,metric:i.trim(),value:z,unit:d,method:_,notes:w.trim()||void 0}),t()}catch(q){g(q.message)}finally{k(!1)}},T=[...Qr.length,...Qr.area,...Qr.volume,...Qr.mass,...Qr.rate,...Qr.temperature,...Qr.percentage,...Qr.count];return E.jsxs("form",{onSubmit:y,className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Metric"}),E.jsx("input",{type:"text",value:i,onChange:I=>s(I.target.value),placeholder:"What are you measuring?",list:"metrics",className:"w-full px-3 py-2 min-h-touch bg-white border border-stone-300 rounded-lg text-stone-900 focus:outline-none focus:ring-2 focus:ring-primary-500",autoFocus:!0}),E.jsx("datalist",{id:"metrics",children:q2.map(I=>E.jsx("option",{value:I},I))})]}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("div",{className:"flex-1",children:E.jsx(dr,{label:"Value",type:"number",step:"any",value:l,onChange:I=>u(I.target.value),placeholder:"0",required:!0})}),E.jsxs("div",{className:"w-24",children:[E.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Unit"}),E.jsx("select",{value:d,onChange:I=>f(I.target.value),className:"w-full px-3 py-2 min-h-touch bg-white border border-stone-300 rounded-lg text-stone-900 focus:outline-none focus:ring-2 focus:ring-primary-500",children:T.map(I=>E.jsx("option",{value:I,children:I},I))})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Method"}),E.jsx("div",{className:"flex gap-2",children:["estimated","measured","derived"].map(I=>E.jsx("button",{type:"button",onClick:()=>m(I),className:`
                flex-1 py-2 px-3 rounded-lg text-sm font-medium capitalize transition-colors
                ${_===I?"bg-primary-100 text-primary-700 border-2 border-primary-500":"bg-stone-100 text-stone-600 border-2 border-transparent"}
              `,children:I},I))})]}),E.jsx(Go,{label:"Notes (optional)",value:w,onChange:I=>b(I.target.value),placeholder:"Any additional details...",rows:2}),M&&E.jsx("p",{className:"text-sm text-red-600",children:M}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx(Wt,{type:"button",variant:"secondary",onClick:n,className:"flex-1",children:"Cancel"}),E.jsx(Wt,{type:"submit",isLoading:P,className:"flex-1",children:"Save Measurement"})]})]})}function V2({featureId:e,onSuccess:t,onCancel:n,initialTitle:o=""}){const{db:i}=jr(),[s,l]=H.useState(o),[u,d]=H.useState(""),[f,_]=H.useState(void 0),[m,w]=H.useState(""),[b,P]=H.useState(""),[k,M]=H.useState(!1),[g,y]=H.useState(null),T=async I=>{if(I.preventDefault(),!i){y("Database not available");return}if(!s.trim()){y("Title is required");return}M(!0),y(null);try{const z=b.split(",").map(q=>q.trim()).filter(q=>q.length>0);await ig(i,{featureId:e,title:s.trim(),description:u.trim()||void 0,priority:f,dueDate:m?new Date(m):void 0,tags:z,status:"planned"}),t()}catch(z){y(z.message)}finally{M(!1)}};return E.jsxs("form",{onSubmit:T,className:"space-y-4",children:[E.jsx(dr,{label:"Title",value:s,onChange:I=>l(I.target.value),placeholder:"What needs to be done?",required:!0,autoFocus:!0}),E.jsx(Go,{label:"Description (optional)",value:u,onChange:I=>d(I.target.value),placeholder:"Add more details...",rows:2}),E.jsx("div",{className:"flex gap-3",children:E.jsxs("div",{className:"flex-1",children:[E.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Priority"}),E.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(I=>E.jsx("button",{type:"button",onClick:()=>_(f===I?void 0:I),className:`
                  flex-1 py-2 rounded-lg text-sm font-medium transition-colors
                  ${f===I?"bg-primary-100 text-primary-700 border-2 border-primary-500":"bg-stone-100 text-stone-600 border-2 border-transparent"}
                `,children:I},I))})]})}),E.jsx(dr,{label:"Due Date (optional)",type:"date",value:m,onChange:I=>w(I.target.value)}),E.jsx(dr,{label:"Tags",value:b,onChange:I=>P(I.target.value),placeholder:"maintenance, seasonal, urgent",helperText:"Separate tags with commas"}),g&&E.jsx("p",{className:"text-sm text-red-600",children:g}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx(Wt,{type:"button",variant:"secondary",onClick:n,className:"flex-1",children:"Cancel"}),E.jsx(Wt,{type:"submit",isLoading:k,className:"flex-1",children:"Create Task"})]})]})}function $2(){const{id:e}=Gw(),t=bi(),[n]=E1(),{db:o,isReady:i}=jr(),{features:s,deleteFeature:l,loadFeatures:u}=Vo(),[d,f]=H.useState(null),[_,m]=H.useState([]),[w,b]=H.useState([]),[P,k]=H.useState([]),[M,g]=H.useState([]),[y,T]=H.useState(!0),[I,z]=H.useState(n.get("edit")==="true"),[q,U]=H.useState(!1),[V,$]=H.useState(!1),[ne,se]=H.useState(!1),[j,X]=H.useState(!1);H.useEffect(()=>{if(!i||!o||!e)return;async function J(){T(!0);try{let ie=s.find(Q=>Q.id===e);if(ie||(await u(),ie=s.find(Q=>Q.id===e)),ie){f(ie);const[Q,W,Z,we]=await Promise.all([Vp(o,e),$p(o,e),Yp(o,e),Xp(o,e)]);m(Q),b(W),k(Z),g(we)}}catch(ie){console.error("Failed to load feature:",ie)}finally{T(!1)}}J()},[i,o,e,s,u]);const N=async()=>{if(e)try{await l(e),t("/")}catch(J){console.error("Failed to delete feature:",J)}},ue=()=>{t(-1)},xe=async()=>{if(!o||!e)return;const[J,ie,Q,W]=await Promise.all([Vp(o,e),$p(o,e),Yp(o,e),Xp(o,e)]);m(J),b(ie),k(Q),g(W)};if(y)return E.jsx("div",{className:"h-full flex items-center justify-center",children:E.jsx(ku,{size:"lg"})});if(!d)return E.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-4",children:[E.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-2",children:"Feature Not Found"}),E.jsx("p",{className:"text-stone-600 mb-4",children:"This feature may have been deleted."}),E.jsx(Wt,{onClick:()=>t("/"),children:"Back to Map"})]});const de=Y2(d);return E.jsxs("div",{className:"h-full flex flex-col bg-stone-50",children:[E.jsxs("header",{className:"bg-white border-b border-stone-200 px-4 py-3 safe-top",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("button",{onClick:ue,className:"p-2 -ml-2 hover:bg-stone-100 rounded-lg transition-colors",children:E.jsx("svg",{className:"w-6 h-6 text-stone-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsx("h1",{className:"text-lg font-semibold text-stone-900 truncate",children:d.name}),E.jsxs("p",{className:"text-sm text-stone-500",children:[d.geometryType,"  ",de]})]}),E.jsx("button",{onClick:()=>z(!0),className:"p-2 hover:bg-stone-100 rounded-lg transition-colors",children:E.jsx("svg",{className:"w-6 h-6 text-stone-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]}),d.tags.length>0&&E.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:d.tags.map(J=>E.jsx("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:J},J))}),d.description&&E.jsx("p",{className:"text-sm text-stone-600 mt-2",children:d.description})]}),E.jsx("div",{className:"bg-white border-b border-stone-200 px-4 py-2",children:E.jsxs("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:[E.jsxs("button",{onClick:()=>U(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-stone-100 text-stone-700 rounded-full text-sm font-medium hover:bg-stone-200 whitespace-nowrap",children:[E.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Add Observation"]}),E.jsxs("button",{onClick:()=>$(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-stone-100 text-stone-700 rounded-full text-sm font-medium hover:bg-stone-200 whitespace-nowrap",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add Measurement"]}),E.jsxs("button",{onClick:()=>se(!0),className:"flex items-center gap-2 px-3 py-1.5 bg-stone-100 text-stone-700 rounded-full text-sm font-medium hover:bg-stone-200 whitespace-nowrap",children:[E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Add Task"]})]})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:E.jsx(F2,{observations:_,measurements:w,tasks:P,media:M,onRefresh:xe})}),E.jsx("div",{className:"bg-white border-t border-stone-200 px-4 py-3 safe-bottom",children:E.jsx("button",{onClick:()=>X(!0),className:"w-full text-red-600 text-sm font-medium py-2 hover:bg-red-50 rounded-lg transition-colors",children:"Delete Feature"})}),E.jsx(bo,{isOpen:I,onClose:()=>z(!1),title:"Edit Feature",children:E.jsx(j2,{feature:d,onSuccess:()=>{z(!1),u()},onCancel:()=>z(!1)})}),E.jsx(bo,{isOpen:q,onClose:()=>U(!1),title:"Add Observation",children:E.jsx(Z2,{featureId:d.id,onSuccess:()=>{U(!1),xe()},onCancel:()=>U(!1)})}),E.jsx(bo,{isOpen:V,onClose:()=>$(!1),title:"Add Measurement",children:E.jsx(G2,{featureId:d.id,onSuccess:()=>{$(!1),xe()},onCancel:()=>$(!1)})}),E.jsx(bo,{isOpen:ne,onClose:()=>se(!1),title:"Add Task",children:E.jsx(V2,{featureId:d.id,onSuccess:()=>{se(!1),xe()},onCancel:()=>se(!1)})}),E.jsx(Q1,{isOpen:j,onClose:()=>X(!1),onConfirm:N,title:"Delete Feature",message:`Are you sure you want to delete "${d.name}"? This will also delete all observations, measurements, and tasks associated with this feature.`,confirmText:"Delete",variant:"danger"})]})}function Y2(e){switch(e.geometryType){case"Point":const t=e.geometry.coordinates;return`${t[1].toFixed(5)}, ${t[0].toFixed(5)}`;case"LineString":const n=v2(e.geometry);return y2(n);case"Polygon":const o=m2(e.geometry);return g2(o);default:return""}}const dg=[{value:"active",label:"Active",color:"bg-blue-100 text-blue-700"},{value:"planned",label:"Planned",color:"bg-stone-100 text-stone-700"},{value:"done",label:"Done",color:"bg-green-100 text-green-700"},{value:"abandoned",label:"Abandoned",color:"bg-red-100 text-red-700"}];function X2(){const{db:e,isReady:t}=jr(),n=bi(),[o,i]=H.useState([]),[s,l]=H.useState(!0),[u,d]=H.useState(["active","planned"]);H.useEffect(()=>{if(!t||!e)return;async function m(){l(!0);try{const w={status:u.length>0?u:void 0},b=await ZL(e,w);i(b)}catch(w){console.error("Failed to load tasks:",w)}finally{l(!1)}}m()},[t,e,u]);const f=async(m,w)=>{if(e)try{await qL(e,m.id,{status:w}),i(b=>b.map(P=>P.id===m.id?{...P,status:w}:P))}catch(b){console.error("Failed to update task:",b)}},_=m=>{d(w=>w.includes(m)?w.filter(b=>b!==m):[...w,m])};return E.jsxs("div",{className:"h-full flex flex-col bg-stone-50",children:[E.jsx("header",{className:"bg-white border-b border-stone-200 px-4 py-3 safe-top",children:E.jsx("h1",{className:"text-xl font-semibold text-stone-900",children:"Tasks"})}),E.jsx("div",{className:"bg-white border-b border-stone-200 px-4 py-2",children:E.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:dg.map(m=>E.jsx("button",{onClick:()=>_(m.value),className:`
                px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap
                transition-colors
                ${u.includes(m.value)?m.color:"bg-stone-100 text-stone-400"}
              `,children:m.label},m.value))})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:s?E.jsx("div",{className:"flex items-center justify-center py-12",children:E.jsx(ku,{})}):o.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[E.jsx("svg",{className:"w-16 h-16 text-stone-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),E.jsx("p",{className:"text-stone-500 text-center",children:"No tasks found"}),E.jsx("p",{className:"text-stone-400 text-sm text-center mt-1",children:"Create tasks from feature detail pages"})]}):E.jsx("div",{className:"divide-y divide-stone-200",children:o.map(m=>E.jsx(Q2,{task:m,onStatusChange:f,onNavigate:()=>n(`/feature/${m.featureId}`)},m.id))})})]})}function Q2({task:e,onStatusChange:t,onNavigate:n}){const o=dg.find(l=>l.value===e.status),i=e.dueDate&&new Date(e.dueDate)<new Date&&e.status!=="done"&&e.status!=="abandoned",s=()=>{switch(e.status){case"planned":return"active";case"active":return"done";case"done":return"planned";case"abandoned":return"planned";default:return"planned"}};return E.jsxs("div",{className:"bg-white px-4 py-3 flex items-start gap-3",children:[E.jsx("button",{onClick:()=>t(e,s()),className:`
          mt-0.5 w-6 h-6 rounded-full border-2 flex items-center justify-center
          transition-colors flex-shrink-0
          ${e.status==="done"?"bg-green-500 border-green-500 text-white":e.status==="active"?"border-blue-500 text-blue-500":e.status==="abandoned"?"border-red-300 text-red-300 line-through":"border-stone-300"}
        `,children:e.status==="done"&&E.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),E.jsxs("div",{className:"flex-1 min-w-0",onClick:n,children:[E.jsx("p",{className:`font-medium ${e.status==="done"||e.status==="abandoned"?"text-stone-400 line-through":"text-stone-900"}`,children:e.title}),e.description&&E.jsx("p",{className:"text-sm text-stone-500 line-clamp-1 mt-0.5",children:e.description}),E.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[E.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${o?.color}`,children:o?.label}),e.dueDate&&E.jsxs("span",{className:`text-xs ${i?"text-red-600 font-medium":"text-stone-500"}`,children:["Due ",RL(e.dueDate)]}),e.priority&&E.jsxs("span",{className:"text-xs text-stone-500",children:["P",e.priority]})]})]}),E.jsx("svg",{className:"w-5 h-5 text-stone-400 flex-shrink-0 mt-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}const K2=[{id:"generic-feature",name:"Generic Feature",description:"A general-purpose feature for any location",icon:"",schema:{geometryTypes:["Point","LineString","Polygon"],defaultTags:[],measurements:[],suggestedTasks:["Inspect","Photograph","Mark boundary"],properties:{}}},{id:"tree",name:"Tree",description:"Individual tree or significant woody plant",icon:"",schema:{geometryTypes:["Point"],defaultTags:["tree","planting"],measurements:[{metric:"height",label:"Height",unit:"m",defaultMethod:"estimated"},{metric:"dbh",label:"Diameter at Breast Height",unit:"cm",defaultMethod:"measured"},{metric:"canopy_diameter",label:"Canopy Diameter",unit:"m",defaultMethod:"estimated"}],suggestedTasks:["Water","Mulch","Prune","Stake","Fertilize","Check health"],properties:{species:{type:"string",label:"Species"},commonName:{type:"string",label:"Common Name"},plantedDate:{type:"date",label:"Date Planted"},source:{type:"select",label:"Source",options:["Nursery","Seed","Cutting","Volunteer","Unknown"]},isNative:{type:"boolean",label:"Native Species",defaultValue:!1}}}},{id:"planting-row",name:"Planting Row",description:"A row of plants or crop line",icon:"",schema:{geometryTypes:["LineString"],defaultTags:["planting","row"],measurements:[{metric:"length",label:"Row Length",unit:"m",defaultMethod:"measured"},{metric:"spacing",label:"Plant Spacing",unit:"cm",defaultMethod:"measured"},{metric:"plant_count",label:"Plant Count",unit:"count",defaultMethod:"measured"}],suggestedTasks:["Plant","Weed","Irrigate","Harvest","Replant gaps"],properties:{crop:{type:"string",label:"Crop/Species"},plantedDate:{type:"date",label:"Date Planted"},rowNumber:{type:"number",label:"Row Number"}}}},{id:"water-point",name:"Water Point",description:"Spring, well, tank, or other water source",icon:"",schema:{geometryTypes:["Point"],defaultTags:["water"],measurements:[{metric:"flow_rate",label:"Flow Rate",unit:"L/min",defaultMethod:"measured"},{metric:"depth",label:"Depth",unit:"m",defaultMethod:"measured"},{metric:"capacity",label:"Capacity",unit:"L",defaultMethod:"measured"},{metric:"ph",label:"pH Level",unit:"pH",defaultMethod:"measured"}],suggestedTasks:["Test water quality","Clean","Repair","Monitor level"],properties:{waterType:{type:"select",label:"Water Type",options:["Spring","Well","Tank","Dam","Creek","Bore","Other"]},isPotable:{type:"boolean",label:"Potable",defaultValue:!1},isPerennial:{type:"boolean",label:"Perennial",defaultValue:!0}}}},{id:"soil-pit",name:"Soil Pit",description:"Soil test location or observation pit",icon:"",schema:{geometryTypes:["Point"],defaultTags:["soil","test"],measurements:[{metric:"depth",label:"Pit Depth",unit:"cm",defaultMethod:"measured"},{metric:"topsoil_depth",label:"Topsoil Depth",unit:"cm",defaultMethod:"measured"},{metric:"ph",label:"pH Level",unit:"pH",defaultMethod:"measured"}],suggestedTasks:["Collect sample","Send for testing","Photograph layers","Backfill"],properties:{soilTexture:{type:"select",label:"Soil Texture",options:["Sand","Sandy Loam","Loam","Clay Loam","Clay","Silt"]},drainage:{type:"select",label:"Drainage",options:["Excellent","Good","Moderate","Poor","Very Poor"]},color:{type:"string",label:"Soil Color"}}}},{id:"weed-patch",name:"Weed Patch",description:"Area of weeds or invasive species",icon:"",schema:{geometryTypes:["Point","Polygon"],defaultTags:["weed","invasive"],measurements:[{metric:"area",label:"Affected Area",unit:"m",defaultMethod:"estimated"},{metric:"density",label:"Density",unit:"%",defaultMethod:"estimated"},{metric:"height",label:"Average Height",unit:"cm",defaultMethod:"estimated"}],suggestedTasks:["Remove manually","Spray","Mulch","Monitor regrowth","Revegetate"],properties:{species:{type:"string",label:"Weed Species"},severity:{type:"select",label:"Severity",options:["Low","Medium","High","Critical"]},isSpreading:{type:"boolean",label:"Actively Spreading",defaultValue:!1}}}}];async function J2(e){if(!(await VL(e)>0))for(const n of K2)try{await nu(e,n.id)||await Fh(e,n,!0)}catch(o){console.error(`Failed to load template ${n.id}:`,o)}}const ek={geometryTypes:["Point"],defaultTags:[],measurements:[],suggestedTasks:[],properties:{}};function tk({template:e,onSave:t,onCancel:n}){const{db:o}=jr(),i=!!e,s=e?.isBuiltin??!1,[l,u]=H.useState(e?.name??""),[d,f]=H.useState(e?.description??""),[_,m]=H.useState(e?.icon??""),[w,b]=H.useState(JSON.stringify(e?.schema??ek,null,2)),[P,k]=H.useState(!1),[M,g]=H.useState(null),y=async T=>{if(T.preventDefault(),!o){g("Database not available");return}if(!l.trim()){g("Name is required");return}let I;try{I=JSON.parse(w)}catch{g("Invalid JSON schema");return}if(!I.geometryTypes||!Array.isArray(I.geometryTypes)){g("Schema must include geometryTypes array");return}k(!0),g(null);try{i&&e?await GL(o,e.id,{name:l.trim(),description:d.trim()||void 0,icon:_.trim()||void 0,schema:I}):await Fh(o,{id:ya(),name:l.trim(),description:d.trim()||void 0,icon:_.trim()||void 0,schema:I}),t()}catch(z){g(z.message)}finally{k(!1)}};return E.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s&&E.jsx("div",{className:"p-3 bg-amber-50 text-amber-800 text-sm rounded-lg",children:"This is a built-in template and cannot be modified. You can view its schema below."}),E.jsx(dr,{label:"Name",value:l,onChange:T=>u(T.target.value),placeholder:"Template name",required:!0,disabled:s}),E.jsx(Go,{label:"Description",value:d,onChange:T=>f(T.target.value),placeholder:"What is this template for?",rows:2,disabled:s}),E.jsx(dr,{label:"Icon (emoji)",value:_,onChange:T=>m(T.target.value),placeholder:"",disabled:s}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-1",children:"Schema (JSON)"}),E.jsx("textarea",{value:w,onChange:T=>b(T.target.value),rows:12,disabled:s,className:`
            w-full px-3 py-2 font-mono text-sm
            bg-stone-50 border border-stone-300 rounded-lg
            text-stone-900 focus:outline-none focus:ring-2 focus:ring-primary-500
            disabled:bg-stone-100 disabled:text-stone-500
          `}),E.jsx("p",{className:"text-xs text-stone-500 mt-1",children:"Define geometryTypes, defaultTags, measurements, suggestedTasks, and properties."})]}),M&&E.jsx("p",{className:"text-sm text-red-600",children:M}),E.jsxs("div",{className:"flex gap-3 pt-2",children:[E.jsx(Wt,{type:"button",variant:"secondary",onClick:n,className:"flex-1",children:s?"Close":"Cancel"}),!s&&E.jsx(Wt,{type:"submit",isLoading:P,className:"flex-1",children:i?"Update Template":"Create Template"})]})]})}function nk(){const{db:e,isReady:t}=jr(),[n,o]=H.useState([]),[i,s]=H.useState(!0),[l,u]=H.useState(null),[d,f]=H.useState(!1);H.useEffect(()=>{if(!t||!e)return;async function m(){s(!0);try{await J2(e);const w=await Id(e);o(w)}catch(w){console.error("Failed to load templates:",w)}finally{s(!1)}}m()},[t,e]);const _=async()=>{if(!e)return;const m=await Id(e);o(m)};return E.jsxs("div",{className:"h-full flex flex-col bg-stone-50",children:[E.jsx("header",{className:"bg-white border-b border-stone-200 px-4 py-3 safe-top",children:E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("h1",{className:"text-xl font-semibold text-stone-900",children:"Templates"}),E.jsx(Wt,{size:"sm",onClick:()=>{u(null),f(!0)},children:"New Template"})]})}),E.jsx("div",{className:"flex-1 overflow-y-auto",children:i?E.jsx("div",{className:"flex items-center justify-center py-12",children:E.jsx(ku,{})}):n.length===0?E.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4",children:[E.jsx("svg",{className:"w-16 h-16 text-stone-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6z"})}),E.jsx("p",{className:"text-stone-500 text-center",children:"No templates found"})]}):E.jsx("div",{className:"divide-y divide-stone-200",children:n.map(m=>E.jsx(rk,{template:m,onClick:()=>{u(m),f(!0)}},m.id))})}),E.jsx(bo,{isOpen:d,onClose:()=>f(!1),title:l?`Edit: ${l.name}`:"New Template",size:"lg",children:E.jsx(tk,{template:l,onSave:()=>{f(!1),_()},onCancel:()=>f(!1)})})]})}function rk({template:e,onClick:t}){const n={Point:"",LineString:"",Polygon:""};return E.jsxs("div",{onClick:t,className:"bg-white px-4 py-3 flex items-center gap-3 cursor-pointer hover:bg-stone-50 transition-colors",children:[E.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center text-lg",children:e.icon||""}),E.jsxs("div",{className:"flex-1 min-w-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("p",{className:"font-medium text-stone-900",children:e.name}),e.isBuiltin&&E.jsx("span",{className:"text-xs px-1.5 py-0.5 bg-stone-100 text-stone-500 rounded",children:"Built-in"})]}),e.description&&E.jsx("p",{className:"text-sm text-stone-500 line-clamp-1",children:e.description}),E.jsx("div",{className:"flex items-center gap-2 mt-1",children:e.schema.geometryTypes.map(o=>E.jsxs("span",{className:"text-xs text-stone-400",children:[n[o]," ",o]},o))})]}),E.jsx("svg",{className:"w-5 h-5 text-stone-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}function fl(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var hg={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(o,i,s){function l(f,_){if(!i[f]){if(!o[f]){var m=typeof fl=="function"&&fl;if(!_&&m)return m(f,!0);if(u)return u(f,!0);var w=new Error("Cannot find module '"+f+"'");throw w.code="MODULE_NOT_FOUND",w}var b=i[f]={exports:{}};o[f][0].call(b.exports,function(P){var k=o[f][1][P];return l(k||P)},b,b.exports,n,o,i,s)}return i[f].exports}for(var u=typeof fl=="function"&&fl,d=0;d<s.length;d++)l(s[d]);return l}({1:[function(n,o,i){var s=n("./utils"),l=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var f,_,m,w,b,P,k,M=[],g=0,y=d.length,T=y,I=s.getTypeOf(d)!=="string";g<d.length;)T=y-g,m=I?(f=d[g++],_=g<y?d[g++]:0,g<y?d[g++]:0):(f=d.charCodeAt(g++),_=g<y?d.charCodeAt(g++):0,g<y?d.charCodeAt(g++):0),w=f>>2,b=(3&f)<<4|_>>4,P=1<T?(15&_)<<2|m>>6:64,k=2<T?63&m:64,M.push(u.charAt(w)+u.charAt(b)+u.charAt(P)+u.charAt(k));return M.join("")},i.decode=function(d){var f,_,m,w,b,P,k=0,M=0,g="data:";if(d.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,T=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&T--,d.charAt(d.length-2)===u.charAt(64)&&T--,T%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=l.uint8array?new Uint8Array(0|T):new Array(0|T);k<d.length;)f=u.indexOf(d.charAt(k++))<<2|(w=u.indexOf(d.charAt(k++)))>>4,_=(15&w)<<4|(b=u.indexOf(d.charAt(k++)))>>2,m=(3&b)<<6|(P=u.indexOf(d.charAt(k++))),y[M++]=f,b!==64&&(y[M++]=_),P!==64&&(y[M++]=m);return y}},{"./support":30,"./utils":32}],2:[function(n,o,i){var s=n("./external"),l=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function f(_,m,w,b,P){this.compressedSize=_,this.uncompressedSize=m,this.crc32=w,this.compression=b,this.compressedContent=P}f.prototype={getContentWorker:function(){var _=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),m=this;return _.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(_,m,w){return _.pipe(new u).pipe(new d("uncompressedSize")).pipe(m.compressWorker(w)).pipe(new d("compressedSize")).withStreamInfo("compression",m)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,i){var s=n("./utils"),l=function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var _=0;_<8;_++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d}();o.exports=function(u,d){return u!==void 0&&u.length?s.getTypeOf(u)!=="string"?function(f,_,m,w){var b=l,P=w+m;f^=-1;for(var k=w;k<P;k++)f=f>>>8^b[255&(f^_[k])];return-1^f}(0|d,u,u.length,0):function(f,_,m,w){var b=l,P=w+m;f^=-1;for(var k=w;k<P;k++)f=f>>>8^b[255&(f^_.charCodeAt(k))];return-1^f}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,o,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:s}},{lie:37}],7:[function(n,o,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),f=s?"uint8array":"array";function _(m,w){d.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=w,this.meta={}}i.magic="\b\0",u.inherits(_,d),_.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,m.data),!1)},_.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(w){m.push({data:w,meta:m.meta})}},i.compressWorker=function(m){return new _("Deflate",m)},i.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,i){function s(b,P){var k,M="";for(k=0;k<P;k++)M+=String.fromCharCode(255&b),b>>>=8;return M}function l(b,P,k,M,g,y){var T,I,z=b.file,q=b.compression,U=y!==f.utf8encode,V=u.transformTo("string",y(z.name)),$=u.transformTo("string",f.utf8encode(z.name)),ne=z.comment,se=u.transformTo("string",y(ne)),j=u.transformTo("string",f.utf8encode(ne)),X=$.length!==z.name.length,N=j.length!==ne.length,ue="",xe="",de="",J=z.dir,ie=z.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};P&&!k||(Q.crc32=b.crc32,Q.compressedSize=b.compressedSize,Q.uncompressedSize=b.uncompressedSize);var W=0;P&&(W|=8),U||!X&&!N||(W|=2048);var Z=0,we=0;J&&(Z|=16),g==="UNIX"?(we=798,Z|=function(le,Le){var Ue=le;return le||(Ue=Le?16893:33204),(65535&Ue)<<16}(z.unixPermissions,J)):(we=20,Z|=function(le){return 63&(le||0)}(z.dosPermissions)),T=ie.getUTCHours(),T<<=6,T|=ie.getUTCMinutes(),T<<=5,T|=ie.getUTCSeconds()/2,I=ie.getUTCFullYear()-1980,I<<=4,I|=ie.getUTCMonth()+1,I<<=5,I|=ie.getUTCDate(),X&&(xe=s(1,1)+s(_(V),4)+$,ue+="up"+s(xe.length,2)+xe),N&&(de=s(1,1)+s(_(se),4)+j,ue+="uc"+s(de.length,2)+de);var me="";return me+=`
\0`,me+=s(W,2),me+=q.magic,me+=s(T,2),me+=s(I,2),me+=s(Q.crc32,4),me+=s(Q.compressedSize,4),me+=s(Q.uncompressedSize,4),me+=s(V.length,2),me+=s(ue.length,2),{fileRecord:m.LOCAL_FILE_HEADER+me+V+ue,dirRecord:m.CENTRAL_FILE_HEADER+s(we,2)+me+s(se.length,2)+"\0\0\0\0"+s(Z,4)+s(M,4)+V+ue+se}}var u=n("../utils"),d=n("../stream/GenericWorker"),f=n("../utf8"),_=n("../crc32"),m=n("../signature");function w(b,P,k,M){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=P,this.zipPlatform=k,this.encodeFileName=M,this.streamFiles=b,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(w,d),w.prototype.push=function(b){var P=b.meta.percent||0,k=this.entriesCount,M=this._sources.length;this.accumulate?this.contentBuffer.push(b):(this.bytesWritten+=b.data.length,d.prototype.push.call(this,{data:b.data,meta:{currentFile:this.currentFile,percent:k?(P+100*(k-M-1))/k:100}}))},w.prototype.openedSource=function(b){this.currentSourceOffset=this.bytesWritten,this.currentFile=b.file.name;var P=this.streamFiles&&!b.file.dir;if(P){var k=l(b,P,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:k.fileRecord,meta:{percent:0}})}else this.accumulate=!0},w.prototype.closedSource=function(b){this.accumulate=!1;var P=this.streamFiles&&!b.file.dir,k=l(b,P,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(k.dirRecord),P)this.push({data:function(M){return m.DATA_DESCRIPTOR+s(M.crc32,4)+s(M.compressedSize,4)+s(M.uncompressedSize,4)}(b),meta:{percent:100}});else for(this.push({data:k.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},w.prototype.flush=function(){for(var b=this.bytesWritten,P=0;P<this.dirRecords.length;P++)this.push({data:this.dirRecords[P],meta:{percent:100}});var k=this.bytesWritten-b,M=function(g,y,T,I,z){var q=u.transformTo("string",z(I));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(y,4)+s(T,4)+s(q.length,2)+q}(this.dirRecords.length,k,b,this.zipComment,this.encodeFileName);this.push({data:M,meta:{percent:100}})},w.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},w.prototype.registerPrevious=function(b){this._sources.push(b);var P=this;return b.on("data",function(k){P.processChunk(k)}),b.on("end",function(){P.closedSource(P.previous.streamInfo),P._sources.length?P.prepareNextSource():P.end()}),b.on("error",function(k){P.error(k)}),this},w.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},w.prototype.error=function(b){var P=this._sources;if(!d.prototype.error.call(this,b))return!1;for(var k=0;k<P.length;k++)try{P[k].error(b)}catch{}return!0},w.prototype.lock=function(){d.prototype.lock.call(this);for(var b=this._sources,P=0;P<b.length;P++)b[P].lock()},o.exports=w},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,i){var s=n("../compressions"),l=n("./ZipFileWorker");i.generateWorker=function(u,d,f){var _=new l(d.streamFiles,f,d.platform,d.encodeFileName),m=0;try{u.forEach(function(w,b){m++;var P=function(y,T){var I=y||T,z=s[I];if(!z)throw new Error(I+" is not a valid compression method !");return z}(b.options.compression,d.compression),k=b.options.compressionOptions||d.compressionOptions||{},M=b.dir,g=b.date;b._compressWorker(P,k).withStreamInfo("file",{name:w,dir:M,date:g,comment:b.comment||"",unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions}).pipe(_)}),_.entriesCount=m}catch(w){_.error(w)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var u in this)typeof this[u]!="function"&&(l[u]=this[u]);return l}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(l,u){return new s().loadAsync(l,u)},s.external=n("./external"),o.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,i){var s=n("./utils"),l=n("./external"),u=n("./utf8"),d=n("./zipEntries"),f=n("./stream/Crc32Probe"),_=n("./nodejsUtils");function m(w){return new l.Promise(function(b,P){var k=w.decompressed.getContentWorker().pipe(new f);k.on("error",function(M){P(M)}).on("end",function(){k.streamInfo.crc32!==w.decompressed.crc32?P(new Error("Corrupted zip : CRC32 mismatch")):b()}).resume()})}o.exports=function(w,b){var P=this;return b=s.extend(b||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),_.isNode&&_.isStream(w)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",w,!0,b.optimizedBinaryString,b.base64).then(function(k){var M=new d(b);return M.load(k),M}).then(function(k){var M=[l.Promise.resolve(k)],g=k.files;if(b.checkCRC32)for(var y=0;y<g.length;y++)M.push(m(g[y]));return l.Promise.all(M)}).then(function(k){for(var M=k.shift(),g=M.files,y=0;y<g.length;y++){var T=g[y],I=T.fileNameStr,z=s.resolve(T.fileNameStr);P.file(z,T.decompressed,{binary:!0,optimizedBinaryString:!0,date:T.date,dir:T.dir,comment:T.fileCommentStr.length?T.fileCommentStr:null,unixPermissions:T.unixPermissions,dosPermissions:T.dosPermissions,createFolders:b.createFolders}),T.dir||(P.file(z).unsafeOriginalName=I)}return M.zipComment.length&&(P.comment=M.zipComment),P})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,i){var s=n("../utils"),l=n("../stream/GenericWorker");function u(d,f){l.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(u,l),u.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(_){f.push({data:_,meta:{percent:0}})}).on("error",function(_){f.isPaused?this.generatedError=_:f.error(_)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,i){var s=n("readable-stream").Readable;function l(u,d,f){s.call(this,d),this._helper=u;var _=this;u.on("data",function(m,w){_.push(m)||_._helper.pause(),f&&f(w)}).on("error",function(m){_.emit("error",m)}).on("end",function(){_.push(null)})}n("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},o.exports=l},{"../utils":32,"readable-stream":16}],14:[function(n,o,i){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,o,i){function s(z,q,U){var V,$=u.getTypeOf(q),ne=u.extend(U||{},_);ne.date=ne.date||new Date,ne.compression!==null&&(ne.compression=ne.compression.toUpperCase()),typeof ne.unixPermissions=="string"&&(ne.unixPermissions=parseInt(ne.unixPermissions,8)),ne.unixPermissions&&16384&ne.unixPermissions&&(ne.dir=!0),ne.dosPermissions&&16&ne.dosPermissions&&(ne.dir=!0),ne.dir&&(z=g(z)),ne.createFolders&&(V=M(z))&&y.call(this,V,!0);var se=$==="string"&&ne.binary===!1&&ne.base64===!1;U&&U.binary!==void 0||(ne.binary=!se),(q instanceof m&&q.uncompressedSize===0||ne.dir||!q||q.length===0)&&(ne.base64=!1,ne.binary=!0,q="",ne.compression="STORE",$="string");var j=null;j=q instanceof m||q instanceof d?q:P.isNode&&P.isStream(q)?new k(z,q):u.prepareContent(z,q,ne.binary,ne.optimizedBinaryString,ne.base64);var X=new w(z,j,ne);this.files[z]=X}var l=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),_=n("./defaults"),m=n("./compressedObject"),w=n("./zipObject"),b=n("./generate"),P=n("./nodejsUtils"),k=n("./nodejs/NodejsStreamInputAdapter"),M=function(z){z.slice(-1)==="/"&&(z=z.substring(0,z.length-1));var q=z.lastIndexOf("/");return 0<q?z.substring(0,q):""},g=function(z){return z.slice(-1)!=="/"&&(z+="/"),z},y=function(z,q){return q=q!==void 0?q:_.createFolders,z=g(z),this.files[z]||s.call(this,z,null,{dir:!0,createFolders:q}),this.files[z]};function T(z){return Object.prototype.toString.call(z)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(z){var q,U,V;for(q in this.files)V=this.files[q],(U=q.slice(this.root.length,q.length))&&q.slice(0,this.root.length)===this.root&&z(U,V)},filter:function(z){var q=[];return this.forEach(function(U,V){z(U,V)&&q.push(V)}),q},file:function(z,q,U){if(arguments.length!==1)return z=this.root+z,s.call(this,z,q,U),this;if(T(z)){var V=z;return this.filter(function(ne,se){return!se.dir&&V.test(ne)})}var $=this.files[this.root+z];return $&&!$.dir?$:null},folder:function(z){if(!z)return this;if(T(z))return this.filter(function($,ne){return ne.dir&&z.test($)});var q=this.root+z,U=y.call(this,q),V=this.clone();return V.root=U.name,V},remove:function(z){z=this.root+z;var q=this.files[z];if(q||(z.slice(-1)!=="/"&&(z+="/"),q=this.files[z]),q&&!q.dir)delete this.files[z];else for(var U=this.filter(function($,ne){return ne.name.slice(0,z.length)===z}),V=0;V<U.length;V++)delete this.files[U[V].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(z){var q,U={};try{if((U=u.extend(z||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=U.type.toLowerCase(),U.compression=U.compression.toUpperCase(),U.type==="binarystring"&&(U.type="string"),!U.type)throw new Error("No output type specified.");u.checkSupport(U.type),U.platform!=="darwin"&&U.platform!=="freebsd"&&U.platform!=="linux"&&U.platform!=="sunos"||(U.platform="UNIX"),U.platform==="win32"&&(U.platform="DOS");var V=U.comment||this.comment||"";q=b.generateWorker(this,U,V)}catch($){(q=new d("error")).error($)}return new f(q,U.type||"string",U.mimeType)},generateAsync:function(z,q){return this.generateInternalStream(z).accumulate(q)},generateNodeStream:function(z,q){return(z=z||{}).type||(z.type="nodebuffer"),this.generateInternalStream(z).toNodejsStream(q)}};o.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,i){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,i){var s=n("./DataReader");function l(u){s.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data[this.zero+u]},l.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),f=u.charCodeAt(1),_=u.charCodeAt(2),m=u.charCodeAt(3),w=this.length-4;0<=w;--w)if(this.data[w]===d&&this.data[w+1]===f&&this.data[w+2]===_&&this.data[w+3]===m)return w-this.zero;return-1},l.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),f=u.charCodeAt(1),_=u.charCodeAt(2),m=u.charCodeAt(3),w=this.readData(4);return d===w[0]&&f===w[1]&&_===w[2]&&m===w[3]},l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=l},{"../utils":32,"./DataReader":18}],18:[function(n,o,i){var s=n("../utils");function l(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,f=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=u,f},readString:function(u){return s.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},o.exports=l},{"../utils":32}],19:[function(n,o,i){var s=n("./Uint8ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,i){var s=n("./DataReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},l.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},l.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},l.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=l},{"../utils":32,"./DataReader":18}],21:[function(n,o,i){var s=n("./ArrayReader");function l(u){s.call(this,u)}n("../utils").inherits(l,s),l.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,i){var s=n("../utils"),l=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),f=n("./NodeBufferReader"),_=n("./Uint8ArrayReader");o.exports=function(m){var w=s.getTypeOf(m);return s.checkSupport(w),w!=="string"||l.uint8array?w==="nodebuffer"?new f(m):l.uint8array?new _(s.transformTo("uint8array",m)):new u(s.transformTo("array",m)):new d(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,i){var s=n("./GenericWorker"),l=n("../utils");function u(d){s.call(this,"ConvertWorker to "+d),this.destType=d}l.inherits(u,s),u.prototype.processChunk=function(d){this.push({data:l.transformTo(this.destType,d.data),meta:d.meta})},o.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,i){var s=n("./GenericWorker"),l=n("../crc32");function u(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,s),u.prototype.processChunk=function(d){this.streamInfo.crc32=l(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}s.inherits(u,l),u.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}l.prototype.processChunk.call(this,d)},o.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,i){var s=n("../utils"),l=n("./GenericWorker");function u(d){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(_){f.dataIsReady=!0,f.data=_,f.max=_&&_.length||0,f.type=s.getTypeOf(_),f.isPaused||f._tickAndRepeat()},function(_){f.error(_)})}s.inherits(u,l),u.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,u){return this._listeners[l].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,u){if(this._listeners[l])for(var d=0;d<this._listeners[l].length;d++)this._listeners[l][d].call(this,u)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var u=this;return l.on("data",function(d){u.processChunk(d)}),l.on("end",function(){u.end()}),l.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,u){return this.extraStreamInfo[l]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},o.exports=s},{}],29:[function(n,o,i){var s=n("../utils"),l=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),f=n("../support"),_=n("../external"),m=null;if(f.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function w(P,k){return new _.Promise(function(M,g){var y=[],T=P._internalType,I=P._outputType,z=P._mimeType;P.on("data",function(q,U){y.push(q),k&&k(U)}).on("error",function(q){y=[],g(q)}).on("end",function(){try{var q=function(U,V,$){switch(U){case"blob":return s.newBlob(s.transformTo("arraybuffer",V),$);case"base64":return d.encode(V);default:return s.transformTo(U,V)}}(I,function(U,V){var $,ne=0,se=null,j=0;for($=0;$<V.length;$++)j+=V[$].length;switch(U){case"string":return V.join("");case"array":return Array.prototype.concat.apply([],V);case"uint8array":for(se=new Uint8Array(j),$=0;$<V.length;$++)se.set(V[$],ne),ne+=V[$].length;return se;case"nodebuffer":return Buffer.concat(V);default:throw new Error("concat : unsupported type '"+U+"'")}}(T,y),z);M(q)}catch(U){g(U)}y=[]}).resume()})}function b(P,k,M){var g=k;switch(k){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=k,this._mimeType=M,s.checkSupport(g),this._worker=P.pipe(new l(g)),P.lock()}catch(y){this._worker=new u("error"),this._worker.error(y)}}b.prototype={accumulate:function(P){return w(this,P)},on:function(P,k){var M=this;return P==="data"?this._worker.on(P,function(g){k.call(M,g.data,g.meta)}):this._worker.on(P,function(){s.delay(k,arguments,M)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(P){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},P)}},o.exports=b},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,i){for(var s=n("./utils"),l=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),f=new Array(256),_=0;_<256;_++)f[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;f[254]=f[254]=1;function m(){d.call(this,"utf-8 decode"),this.leftOver=null}function w(){d.call(this,"utf-8 encode")}i.utf8encode=function(b){return l.nodebuffer?u.newBufferFrom(b,"utf-8"):function(P){var k,M,g,y,T,I=P.length,z=0;for(y=0;y<I;y++)(64512&(M=P.charCodeAt(y)))==55296&&y+1<I&&(64512&(g=P.charCodeAt(y+1)))==56320&&(M=65536+(M-55296<<10)+(g-56320),y++),z+=M<128?1:M<2048?2:M<65536?3:4;for(k=l.uint8array?new Uint8Array(z):new Array(z),y=T=0;T<z;y++)(64512&(M=P.charCodeAt(y)))==55296&&y+1<I&&(64512&(g=P.charCodeAt(y+1)))==56320&&(M=65536+(M-55296<<10)+(g-56320),y++),M<128?k[T++]=M:(M<2048?k[T++]=192|M>>>6:(M<65536?k[T++]=224|M>>>12:(k[T++]=240|M>>>18,k[T++]=128|M>>>12&63),k[T++]=128|M>>>6&63),k[T++]=128|63&M);return k}(b)},i.utf8decode=function(b){return l.nodebuffer?s.transformTo("nodebuffer",b).toString("utf-8"):function(P){var k,M,g,y,T=P.length,I=new Array(2*T);for(k=M=0;k<T;)if((g=P[k++])<128)I[M++]=g;else if(4<(y=f[g]))I[M++]=65533,k+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&k<T;)g=g<<6|63&P[k++],y--;1<y?I[M++]=65533:g<65536?I[M++]=g:(g-=65536,I[M++]=55296|g>>10&1023,I[M++]=56320|1023&g)}return I.length!==M&&(I.subarray?I=I.subarray(0,M):I.length=M),s.applyFromCharCode(I)}(b=s.transformTo(l.uint8array?"uint8array":"array",b))},s.inherits(m,d),m.prototype.processChunk=function(b){var P=s.transformTo(l.uint8array?"uint8array":"array",b.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var k=P;(P=new Uint8Array(k.length+this.leftOver.length)).set(this.leftOver,0),P.set(k,this.leftOver.length)}else P=this.leftOver.concat(P);this.leftOver=null}var M=function(y,T){var I;for((T=T||y.length)>y.length&&(T=y.length),I=T-1;0<=I&&(192&y[I])==128;)I--;return I<0||I===0?T:I+f[y[I]]>T?I:T}(P),g=P;M!==P.length&&(l.uint8array?(g=P.subarray(0,M),this.leftOver=P.subarray(M,P.length)):(g=P.slice(0,M),this.leftOver=P.slice(M,P.length))),this.push({data:i.utf8decode(g),meta:b.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(w,d),w.prototype.processChunk=function(b){this.push({data:i.utf8encode(b.data),meta:b.meta})},i.Utf8EncodeWorker=w},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,i){var s=n("./support"),l=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function f(k){return k}function _(k,M){for(var g=0;g<k.length;++g)M[g]=255&k.charCodeAt(g);return M}n("setimmediate"),i.newBlob=function(k,M){i.checkSupport("blob");try{return new Blob([k],{type:M})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(k),g.getBlob(M)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(k,M,g){var y=[],T=0,I=k.length;if(I<=g)return String.fromCharCode.apply(null,k);for(;T<I;)M==="array"||M==="nodebuffer"?y.push(String.fromCharCode.apply(null,k.slice(T,Math.min(T+g,I)))):y.push(String.fromCharCode.apply(null,k.subarray(T,Math.min(T+g,I)))),T+=g;return y.join("")},stringifyByChar:function(k){for(var M="",g=0;g<k.length;g++)M+=String.fromCharCode(k[g]);return M},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function w(k){var M=65536,g=i.getTypeOf(k),y=!0;if(g==="uint8array"?y=m.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=m.applyCanBeUsed.nodebuffer),y)for(;1<M;)try{return m.stringifyByChunk(k,g,M)}catch{M=Math.floor(M/2)}return m.stringifyByChar(k)}function b(k,M){for(var g=0;g<k.length;g++)M[g]=k[g];return M}i.applyFromCharCode=w;var P={};P.string={string:f,array:function(k){return _(k,new Array(k.length))},arraybuffer:function(k){return P.string.uint8array(k).buffer},uint8array:function(k){return _(k,new Uint8Array(k.length))},nodebuffer:function(k){return _(k,u.allocBuffer(k.length))}},P.array={string:w,array:f,arraybuffer:function(k){return new Uint8Array(k).buffer},uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return u.newBufferFrom(k)}},P.arraybuffer={string:function(k){return w(new Uint8Array(k))},array:function(k){return b(new Uint8Array(k),new Array(k.byteLength))},arraybuffer:f,uint8array:function(k){return new Uint8Array(k)},nodebuffer:function(k){return u.newBufferFrom(new Uint8Array(k))}},P.uint8array={string:w,array:function(k){return b(k,new Array(k.length))},arraybuffer:function(k){return k.buffer},uint8array:f,nodebuffer:function(k){return u.newBufferFrom(k)}},P.nodebuffer={string:w,array:function(k){return b(k,new Array(k.length))},arraybuffer:function(k){return P.nodebuffer.uint8array(k).buffer},uint8array:function(k){return b(k,new Uint8Array(k.length))},nodebuffer:f},i.transformTo=function(k,M){if(M=M||"",!k)return M;i.checkSupport(k);var g=i.getTypeOf(M);return P[g][k](M)},i.resolve=function(k){for(var M=k.split("/"),g=[],y=0;y<M.length;y++){var T=M[y];T==="."||T===""&&y!==0&&y!==M.length-1||(T===".."?g.pop():g.push(T))}return g.join("/")},i.getTypeOf=function(k){return typeof k=="string"?"string":Object.prototype.toString.call(k)==="[object Array]"?"array":s.nodebuffer&&u.isBuffer(k)?"nodebuffer":s.uint8array&&k instanceof Uint8Array?"uint8array":s.arraybuffer&&k instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(k){if(!s[k.toLowerCase()])throw new Error(k+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(k){var M,g,y="";for(g=0;g<(k||"").length;g++)y+="\\x"+((M=k.charCodeAt(g))<16?"0":"")+M.toString(16).toUpperCase();return y},i.delay=function(k,M,g){setImmediate(function(){k.apply(g||null,M||[])})},i.inherits=function(k,M){function g(){}g.prototype=M.prototype,k.prototype=new g},i.extend=function(){var k,M,g={};for(k=0;k<arguments.length;k++)for(M in arguments[k])Object.prototype.hasOwnProperty.call(arguments[k],M)&&g[M]===void 0&&(g[M]=arguments[k][M]);return g},i.prepareContent=function(k,M,g,y,T){return d.Promise.resolve(M).then(function(I){return s.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new d.Promise(function(z,q){var U=new FileReader;U.onload=function(V){z(V.target.result)},U.onerror=function(V){q(V.target.error)},U.readAsArrayBuffer(I)}):I}).then(function(I){var z=i.getTypeOf(I);return z?(z==="arraybuffer"?I=i.transformTo("uint8array",I):z==="string"&&(T?I=l.decode(I):g&&y!==!0&&(I=function(q){return _(q,s.uint8array?new Uint8Array(q.length):new Array(q.length))}(I))),I):d.Promise.reject(new Error("Can't read the data of '"+k+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./signature"),d=n("./zipEntry"),f=n("./support");function _(m){this.files=[],this.loadOptions=m}_.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var w=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(w)+", expected "+l.pretty(m)+")")}},isSignature:function(m,w){var b=this.reader.index;this.reader.setIndex(m);var P=this.reader.readString(4)===w;return this.reader.setIndex(b),P},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),w=f.uint8array?"uint8array":"array",b=l.transformTo(w,m);this.zipComment=this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,w,b,P=this.zip64EndOfCentralSize-44;0<P;)m=this.reader.readInt(2),w=this.reader.readInt(4),b=this.reader.readData(w),this.zip64ExtensibleData[m]={id:m,length:w,value:b}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,w;for(m=0;m<this.files.length;m++)w=this.files[m],this.reader.setIndex(w.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),w.readLocalPart(this.reader),w.handleUTF8(),w.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(m=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var w=m;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b+=20,b+=12+this.zip64EndOfCentralSize);var P=w-b;if(0<P)this.isSignature(w,u.CENTRAL_FILE_HEADER)||(this.reader.zero=P);else if(P<0)throw new Error("Corrupted zip: missing "+Math.abs(P)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,i){var s=n("./reader/readerFor"),l=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),f=n("./utf8"),_=n("./compressions"),m=n("./support");function w(b,P){this.options=b,this.loadOptions=P}w.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(b){var P,k;if(b.skip(22),this.fileNameLength=b.readInt(2),k=b.readInt(2),this.fileName=b.readData(this.fileNameLength),b.skip(k),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((P=function(M){for(var g in _)if(Object.prototype.hasOwnProperty.call(_,g)&&_[g].magic===M)return _[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,P,b.readData(this.compressedSize))},readCentralPart:function(b){this.versionMadeBy=b.readInt(2),b.skip(2),this.bitFlag=b.readInt(2),this.compressionMethod=b.readString(2),this.date=b.readDate(),this.crc32=b.readInt(4),this.compressedSize=b.readInt(4),this.uncompressedSize=b.readInt(4);var P=b.readInt(2);if(this.extraFieldsLength=b.readInt(2),this.fileCommentLength=b.readInt(2),this.diskNumberStart=b.readInt(2),this.internalFileAttributes=b.readInt(2),this.externalFileAttributes=b.readInt(4),this.localHeaderOffset=b.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");b.skip(P),this.readExtraFields(b),this.parseZIP64ExtraField(b),this.fileComment=b.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var b=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),b==0&&(this.dosPermissions=63&this.externalFileAttributes),b==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var b=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=b.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=b.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=b.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=b.readInt(4))}},readExtraFields:function(b){var P,k,M,g=b.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});b.index+4<g;)P=b.readInt(2),k=b.readInt(2),M=b.readData(k),this.extraFields[P]={id:P,length:k,value:M};b.setIndex(g)},handleUTF8:function(){var b=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var P=this.findExtraFieldUnicodePath();if(P!==null)this.fileNameStr=P;else{var k=l.transformTo(b,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(k)}var M=this.findExtraFieldUnicodeComment();if(M!==null)this.fileCommentStr=M;else{var g=l.transformTo(b,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var b=this.extraFields[28789];if(b){var P=s(b.value);return P.readInt(1)!==1||d(this.fileName)!==P.readInt(4)?null:f.utf8decode(P.readData(b.length-5))}return null},findExtraFieldUnicodeComment:function(){var b=this.extraFields[25461];if(b){var P=s(b.value);return P.readInt(1)!==1||d(this.fileComment)!==P.readInt(4)?null:f.utf8decode(P.readData(b.length-5))}return null}},o.exports=w},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,i){function s(P,k,M){this.name=P,this.dir=M.dir,this.date=M.date,this.comment=M.comment,this.unixPermissions=M.unixPermissions,this.dosPermissions=M.dosPermissions,this._data=k,this._dataBinary=M.binary,this.options={compression:M.compression,compressionOptions:M.compressionOptions}}var l=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),f=n("./compressedObject"),_=n("./stream/GenericWorker");s.prototype={internalStream:function(P){var k=null,M="string";try{if(!P)throw new Error("No output type specified.");var g=(M=P.toLowerCase())==="string"||M==="text";M!=="binarystring"&&M!=="text"||(M="string"),k=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(k=k.pipe(new d.Utf8EncodeWorker)),!y&&g&&(k=k.pipe(new d.Utf8DecodeWorker))}catch(T){(k=new _("error")).error(T)}return new l(k,M,"")},async:function(P,k){return this.internalStream(P).accumulate(k)},nodeStream:function(P,k){return this.internalStream(P||"nodebuffer").toNodejsStream(k)},_compressWorker:function(P,k){if(this._data instanceof f&&this._data.compression.magic===P.magic)return this._data.getCompressedWorker();var M=this._decompressWorker();return this._dataBinary||(M=M.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(M,P,k)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof _?this._data:new u(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],w=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<m.length;b++)s.prototype[m[b]]=w;o.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,i){(function(s){var l,u,d=s.MutationObserver||s.WebKitMutationObserver;if(d){var f=0,_=new d(P),m=s.document.createTextNode("");_.observe(m,{characterData:!0}),l=function(){m.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var k=s.document.createElement("script");k.onreadystatechange=function(){P(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},s.document.documentElement.appendChild(k)}:function(){setTimeout(P,0)};else{var w=new s.MessageChannel;w.port1.onmessage=P,l=function(){w.port2.postMessage(0)}}var b=[];function P(){var k,M;u=!0;for(var g=b.length;g;){for(M=b,b=[],k=-1;++k<g;)M[k]();g=b.length}u=!1}o.exports=function(k){b.push(k)!==1||u||l()}}).call(this,typeof Cs<"u"?Cs:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,i){var s=n("immediate");function l(){}var u={},d=["REJECTED"],f=["FULFILLED"],_=["PENDING"];function m(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,g!==l&&k(this,g)}function w(g,y,T){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}function b(g,y,T){s(function(){var I;try{I=y(T)}catch(z){return u.reject(g,z)}I===g?u.reject(g,new TypeError("Cannot resolve promise with itself")):u.resolve(g,I)})}function P(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function k(g,y){var T=!1;function I(U){T||(T=!0,u.reject(g,U))}function z(U){T||(T=!0,u.resolve(g,U))}var q=M(function(){y(z,I)});q.status==="error"&&I(q.value)}function M(g,y){var T={};try{T.value=g(y),T.status="success"}catch(I){T.status="error",T.value=I}return T}(o.exports=m).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(T){return y.resolve(g()).then(function(){return T})},function(T){return y.resolve(g()).then(function(){throw T})})},m.prototype.catch=function(g){return this.then(null,g)},m.prototype.then=function(g,y){if(typeof g!="function"&&this.state===f||typeof y!="function"&&this.state===d)return this;var T=new this.constructor(l);return this.state!==_?b(T,this.state===f?g:y,this.outcome):this.queue.push(new w(T,g,y)),T},w.prototype.callFulfilled=function(g){u.resolve(this.promise,g)},w.prototype.otherCallFulfilled=function(g){b(this.promise,this.onFulfilled,g)},w.prototype.callRejected=function(g){u.reject(this.promise,g)},w.prototype.otherCallRejected=function(g){b(this.promise,this.onRejected,g)},u.resolve=function(g,y){var T=M(P,y);if(T.status==="error")return u.reject(g,T.value);var I=T.value;if(I)k(g,I);else{g.state=f,g.outcome=y;for(var z=-1,q=g.queue.length;++z<q;)g.queue[z].callFulfilled(y)}return g},u.reject=function(g,y){g.state=d,g.outcome=y;for(var T=-1,I=g.queue.length;++T<I;)g.queue[T].callRejected(y);return g},m.resolve=function(g){return g instanceof this?g:u.resolve(new this(l),g)},m.reject=function(g){var y=new this(l);return u.reject(y,g)},m.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=g.length,I=!1;if(!T)return this.resolve([]);for(var z=new Array(T),q=0,U=-1,V=new this(l);++U<T;)$(g[U],U);return V;function $(ne,se){y.resolve(ne).then(function(j){z[se]=j,++q!==T||I||(I=!0,u.resolve(V,z))},function(j){I||(I=!0,u.reject(V,j))})}},m.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=g.length,I=!1;if(!T)return this.resolve([]);for(var z=-1,q=new this(l);++z<T;)U=g[z],y.resolve(U).then(function(V){I||(I=!0,u.resolve(q,V))},function(V){I||(I=!0,u.reject(q,V))});var U;return q}},{immediate:36}],38:[function(n,o,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,i){var s=n("./zlib/deflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),f=n("./zlib/zstream"),_=Object.prototype.toString,m=0,w=-1,b=0,P=8;function k(g){if(!(this instanceof k))return new k(g);this.options=l.assign({level:w,method:P,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var T=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(T!==m)throw new Error(d[T]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var I;if(I=typeof y.dictionary=="string"?u.string2buf(y.dictionary):_.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(T=s.deflateSetDictionary(this.strm,I))!==m)throw new Error(d[T]);this._dict_set=!0}}function M(g,y){var T=new k(y);if(T.push(g,!0),T.err)throw T.msg||d[T.err];return T.result}k.prototype.push=function(g,y){var T,I,z=this.strm,q=this.options.chunkSize;if(this.ended)return!1;I=y===~~y?y:y===!0?4:0,typeof g=="string"?z.input=u.string2buf(g):_.call(g)==="[object ArrayBuffer]"?z.input=new Uint8Array(g):z.input=g,z.next_in=0,z.avail_in=z.input.length;do{if(z.avail_out===0&&(z.output=new l.Buf8(q),z.next_out=0,z.avail_out=q),(T=s.deflate(z,I))!==1&&T!==m)return this.onEnd(T),!(this.ended=!0);z.avail_out!==0&&(z.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(l.shrinkBuf(z.output,z.next_out))):this.onData(l.shrinkBuf(z.output,z.next_out)))}while((0<z.avail_in||z.avail_out===0)&&T!==1);return I===4?(T=s.deflateEnd(this.strm),this.onEnd(T),this.ended=!0,T===m):I!==2||(this.onEnd(m),!(z.avail_out=0))},k.prototype.onData=function(g){this.chunks.push(g)},k.prototype.onEnd=function(g){g===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=k,i.deflate=M,i.deflateRaw=function(g,y){return(y=y||{}).raw=!0,M(g,y)},i.gzip=function(g,y){return(y=y||{}).gzip=!0,M(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,i){var s=n("./zlib/inflate"),l=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),f=n("./zlib/messages"),_=n("./zlib/zstream"),m=n("./zlib/gzheader"),w=Object.prototype.toString;function b(k){if(!(this instanceof b))return new b(k);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},k||{});var M=this.options;M.raw&&0<=M.windowBits&&M.windowBits<16&&(M.windowBits=-M.windowBits,M.windowBits===0&&(M.windowBits=-15)),!(0<=M.windowBits&&M.windowBits<16)||k&&k.windowBits||(M.windowBits+=32),15<M.windowBits&&M.windowBits<48&&!(15&M.windowBits)&&(M.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,M.windowBits);if(g!==d.Z_OK)throw new Error(f[g]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function P(k,M){var g=new b(M);if(g.push(k,!0),g.err)throw g.msg||f[g.err];return g.result}b.prototype.push=function(k,M){var g,y,T,I,z,q,U=this.strm,V=this.options.chunkSize,$=this.options.dictionary,ne=!1;if(this.ended)return!1;y=M===~~M?M:M===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof k=="string"?U.input=u.binstring2buf(k):w.call(k)==="[object ArrayBuffer]"?U.input=new Uint8Array(k):U.input=k,U.next_in=0,U.avail_in=U.input.length;do{if(U.avail_out===0&&(U.output=new l.Buf8(V),U.next_out=0,U.avail_out=V),(g=s.inflate(U,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&$&&(q=typeof $=="string"?u.string2buf($):w.call($)==="[object ArrayBuffer]"?new Uint8Array($):$,g=s.inflateSetDictionary(this.strm,q)),g===d.Z_BUF_ERROR&&ne===!0&&(g=d.Z_OK,ne=!1),g!==d.Z_STREAM_END&&g!==d.Z_OK)return this.onEnd(g),!(this.ended=!0);U.next_out&&(U.avail_out!==0&&g!==d.Z_STREAM_END&&(U.avail_in!==0||y!==d.Z_FINISH&&y!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(T=u.utf8border(U.output,U.next_out),I=U.next_out-T,z=u.buf2string(U.output,T),U.next_out=I,U.avail_out=V-I,I&&l.arraySet(U.output,U.output,T,I,0),this.onData(z)):this.onData(l.shrinkBuf(U.output,U.next_out)))),U.avail_in===0&&U.avail_out===0&&(ne=!0)}while((0<U.avail_in||U.avail_out===0)&&g!==d.Z_STREAM_END);return g===d.Z_STREAM_END&&(y=d.Z_FINISH),y===d.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===d.Z_OK):y!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(U.avail_out=0))},b.prototype.onData=function(k){this.chunks.push(k)},b.prototype.onEnd=function(k){k===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},i.Inflate=b,i.inflate=P,i.inflateRaw=function(k,M){return(M=M||{}).raw=!0,P(k,M)},i.ungzip=P},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var _=f.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var m in _)_.hasOwnProperty(m)&&(d[m]=_[m])}}return d},i.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var l={arraySet:function(d,f,_,m,w){if(f.subarray&&d.subarray)d.set(f.subarray(_,_+m),w);else for(var b=0;b<m;b++)d[w+b]=f[_+b]},flattenChunks:function(d){var f,_,m,w,b,P;for(f=m=0,_=d.length;f<_;f++)m+=d[f].length;for(P=new Uint8Array(m),f=w=0,_=d.length;f<_;f++)b=d[f],P.set(b,w),w+=b.length;return P}},u={arraySet:function(d,f,_,m,w){for(var b=0;b<m;b++)d[w+b]=f[_+b]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(s)},{}],42:[function(n,o,i){var s=n("./common"),l=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new s.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function _(m,w){if(w<65537&&(m.subarray&&u||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,w));for(var b="",P=0;P<w;P++)b+=String.fromCharCode(m[P]);return b}d[254]=d[254]=1,i.string2buf=function(m){var w,b,P,k,M,g=m.length,y=0;for(k=0;k<g;k++)(64512&(b=m.charCodeAt(k)))==55296&&k+1<g&&(64512&(P=m.charCodeAt(k+1)))==56320&&(b=65536+(b-55296<<10)+(P-56320),k++),y+=b<128?1:b<2048?2:b<65536?3:4;for(w=new s.Buf8(y),k=M=0;M<y;k++)(64512&(b=m.charCodeAt(k)))==55296&&k+1<g&&(64512&(P=m.charCodeAt(k+1)))==56320&&(b=65536+(b-55296<<10)+(P-56320),k++),b<128?w[M++]=b:(b<2048?w[M++]=192|b>>>6:(b<65536?w[M++]=224|b>>>12:(w[M++]=240|b>>>18,w[M++]=128|b>>>12&63),w[M++]=128|b>>>6&63),w[M++]=128|63&b);return w},i.buf2binstring=function(m){return _(m,m.length)},i.binstring2buf=function(m){for(var w=new s.Buf8(m.length),b=0,P=w.length;b<P;b++)w[b]=m.charCodeAt(b);return w},i.buf2string=function(m,w){var b,P,k,M,g=w||m.length,y=new Array(2*g);for(b=P=0;b<g;)if((k=m[b++])<128)y[P++]=k;else if(4<(M=d[k]))y[P++]=65533,b+=M-1;else{for(k&=M===2?31:M===3?15:7;1<M&&b<g;)k=k<<6|63&m[b++],M--;1<M?y[P++]=65533:k<65536?y[P++]=k:(k-=65536,y[P++]=55296|k>>10&1023,y[P++]=56320|1023&k)}return _(y,P)},i.utf8border=function(m,w){var b;for((w=w||m.length)>m.length&&(w=m.length),b=w-1;0<=b&&(192&m[b])==128;)b--;return b<0||b===0?w:b+d[m[b]]>w?b:w}},{"./common":41}],43:[function(n,o,i){o.exports=function(s,l,u,d){for(var f=65535&s|0,_=s>>>16&65535|0,m=0;u!==0;){for(u-=m=2e3<u?2e3:u;_=_+(f=f+l[d++]|0)|0,--m;);f%=65521,_%=65521}return f|_<<16|0}},{}],44:[function(n,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,i){var s=function(){for(var l,u=[],d=0;d<256;d++){l=d;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;u[d]=l}return u}();o.exports=function(l,u,d,f){var _=s,m=f+d;l^=-1;for(var w=f;w<m;w++)l=l>>>8^_[255&(l^u[w])];return-1^l}},{}],46:[function(n,o,i){var s,l=n("../utils/common"),u=n("./trees"),d=n("./adler32"),f=n("./crc32"),_=n("./messages"),m=0,w=4,b=0,P=-2,k=-1,M=4,g=2,y=8,T=9,I=286,z=30,q=19,U=2*I+1,V=15,$=3,ne=258,se=ne+$+1,j=42,X=113,N=1,ue=2,xe=3,de=4;function J(S,ce){return S.msg=_[ce],ce}function ie(S){return(S<<1)-(4<S?9:0)}function Q(S){for(var ce=S.length;0<=--ce;)S[ce]=0}function W(S){var ce=S.state,te=ce.pending;te>S.avail_out&&(te=S.avail_out),te!==0&&(l.arraySet(S.output,ce.pending_buf,ce.pending_out,te,S.next_out),S.next_out+=te,ce.pending_out+=te,S.total_out+=te,S.avail_out-=te,ce.pending-=te,ce.pending===0&&(ce.pending_out=0))}function Z(S,ce){u._tr_flush_block(S,0<=S.block_start?S.block_start:-1,S.strstart-S.block_start,ce),S.block_start=S.strstart,W(S.strm)}function we(S,ce){S.pending_buf[S.pending++]=ce}function me(S,ce){S.pending_buf[S.pending++]=ce>>>8&255,S.pending_buf[S.pending++]=255&ce}function le(S,ce){var te,R,A=S.max_chain_length,G=S.strstart,he=S.prev_length,pe=S.nice_match,re=S.strstart>S.w_size-se?S.strstart-(S.w_size-se):0,ge=S.window,ke=S.w_mask,ye=S.prev,Pe=S.strstart+ne,He=ge[G+he-1],We=ge[G+he];S.prev_length>=S.good_match&&(A>>=2),pe>S.lookahead&&(pe=S.lookahead);do if(ge[(te=ce)+he]===We&&ge[te+he-1]===He&&ge[te]===ge[G]&&ge[++te]===ge[G+1]){G+=2,te++;do;while(ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&ge[++G]===ge[++te]&&G<Pe);if(R=ne-(Pe-G),G=Pe-ne,he<R){if(S.match_start=ce,pe<=(he=R))break;He=ge[G+he-1],We=ge[G+he]}}while((ce=ye[ce&ke])>re&&--A!=0);return he<=S.lookahead?he:S.lookahead}function Le(S){var ce,te,R,A,G,he,pe,re,ge,ke,ye=S.w_size;do{if(A=S.window_size-S.lookahead-S.strstart,S.strstart>=ye+(ye-se)){for(l.arraySet(S.window,S.window,ye,ye,0),S.match_start-=ye,S.strstart-=ye,S.block_start-=ye,ce=te=S.hash_size;R=S.head[--ce],S.head[ce]=ye<=R?R-ye:0,--te;);for(ce=te=ye;R=S.prev[--ce],S.prev[ce]=ye<=R?R-ye:0,--te;);A+=ye}if(S.strm.avail_in===0)break;if(he=S.strm,pe=S.window,re=S.strstart+S.lookahead,ge=A,ke=void 0,ke=he.avail_in,ge<ke&&(ke=ge),te=ke===0?0:(he.avail_in-=ke,l.arraySet(pe,he.input,he.next_in,ke,re),he.state.wrap===1?he.adler=d(he.adler,pe,ke,re):he.state.wrap===2&&(he.adler=f(he.adler,pe,ke,re)),he.next_in+=ke,he.total_in+=ke,ke),S.lookahead+=te,S.lookahead+S.insert>=$)for(G=S.strstart-S.insert,S.ins_h=S.window[G],S.ins_h=(S.ins_h<<S.hash_shift^S.window[G+1])&S.hash_mask;S.insert&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[G+$-1])&S.hash_mask,S.prev[G&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=G,G++,S.insert--,!(S.lookahead+S.insert<$)););}while(S.lookahead<se&&S.strm.avail_in!==0)}function Ue(S,ce){for(var te,R;;){if(S.lookahead<se){if(Le(S),S.lookahead<se&&ce===m)return N;if(S.lookahead===0)break}if(te=0,S.lookahead>=$&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+$-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),te!==0&&S.strstart-te<=S.w_size-se&&(S.match_length=le(S,te)),S.match_length>=$)if(R=u._tr_tally(S,S.strstart-S.match_start,S.match_length-$),S.lookahead-=S.match_length,S.match_length<=S.max_lazy_match&&S.lookahead>=$){for(S.match_length--;S.strstart++,S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+$-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart,--S.match_length!=0;);S.strstart++}else S.strstart+=S.match_length,S.match_length=0,S.ins_h=S.window[S.strstart],S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+1])&S.hash_mask;else R=u._tr_tally(S,0,S.window[S.strstart]),S.lookahead--,S.strstart++;if(R&&(Z(S,!1),S.strm.avail_out===0))return N}return S.insert=S.strstart<$-1?S.strstart:$-1,ce===w?(Z(S,!0),S.strm.avail_out===0?xe:de):S.last_lit&&(Z(S,!1),S.strm.avail_out===0)?N:ue}function Ae(S,ce){for(var te,R,A;;){if(S.lookahead<se){if(Le(S),S.lookahead<se&&ce===m)return N;if(S.lookahead===0)break}if(te=0,S.lookahead>=$&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+$-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),S.prev_length=S.match_length,S.prev_match=S.match_start,S.match_length=$-1,te!==0&&S.prev_length<S.max_lazy_match&&S.strstart-te<=S.w_size-se&&(S.match_length=le(S,te),S.match_length<=5&&(S.strategy===1||S.match_length===$&&4096<S.strstart-S.match_start)&&(S.match_length=$-1)),S.prev_length>=$&&S.match_length<=S.prev_length){for(A=S.strstart+S.lookahead-$,R=u._tr_tally(S,S.strstart-1-S.prev_match,S.prev_length-$),S.lookahead-=S.prev_length-1,S.prev_length-=2;++S.strstart<=A&&(S.ins_h=(S.ins_h<<S.hash_shift^S.window[S.strstart+$-1])&S.hash_mask,te=S.prev[S.strstart&S.w_mask]=S.head[S.ins_h],S.head[S.ins_h]=S.strstart),--S.prev_length!=0;);if(S.match_available=0,S.match_length=$-1,S.strstart++,R&&(Z(S,!1),S.strm.avail_out===0))return N}else if(S.match_available){if((R=u._tr_tally(S,0,S.window[S.strstart-1]))&&Z(S,!1),S.strstart++,S.lookahead--,S.strm.avail_out===0)return N}else S.match_available=1,S.strstart++,S.lookahead--}return S.match_available&&(R=u._tr_tally(S,0,S.window[S.strstart-1]),S.match_available=0),S.insert=S.strstart<$-1?S.strstart:$-1,ce===w?(Z(S,!0),S.strm.avail_out===0?xe:de):S.last_lit&&(Z(S,!1),S.strm.avail_out===0)?N:ue}function Ve(S,ce,te,R,A){this.good_length=S,this.max_lazy=ce,this.nice_length=te,this.max_chain=R,this.func=A}function lt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*U),this.dyn_dtree=new l.Buf16(2*(2*z+1)),this.bl_tree=new l.Buf16(2*(2*q+1)),Q(this.dyn_ltree),Q(this.dyn_dtree),Q(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(V+1),this.heap=new l.Buf16(2*I+1),Q(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*I+1),Q(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function tt(S){var ce;return S&&S.state?(S.total_in=S.total_out=0,S.data_type=g,(ce=S.state).pending=0,ce.pending_out=0,ce.wrap<0&&(ce.wrap=-ce.wrap),ce.status=ce.wrap?j:X,S.adler=ce.wrap===2?0:1,ce.last_flush=m,u._tr_init(ce),b):J(S,P)}function nt(S){var ce=tt(S);return ce===b&&function(te){te.window_size=2*te.w_size,Q(te.head),te.max_lazy_match=s[te.level].max_lazy,te.good_match=s[te.level].good_length,te.nice_match=s[te.level].nice_length,te.max_chain_length=s[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=$-1,te.match_available=0,te.ins_h=0}(S.state),ce}function Et(S,ce,te,R,A,G){if(!S)return P;var he=1;if(ce===k&&(ce=6),R<0?(he=0,R=-R):15<R&&(he=2,R-=16),A<1||T<A||te!==y||R<8||15<R||ce<0||9<ce||G<0||M<G)return J(S,P);R===8&&(R=9);var pe=new lt;return(S.state=pe).strm=S,pe.wrap=he,pe.gzhead=null,pe.w_bits=R,pe.w_size=1<<pe.w_bits,pe.w_mask=pe.w_size-1,pe.hash_bits=A+7,pe.hash_size=1<<pe.hash_bits,pe.hash_mask=pe.hash_size-1,pe.hash_shift=~~((pe.hash_bits+$-1)/$),pe.window=new l.Buf8(2*pe.w_size),pe.head=new l.Buf16(pe.hash_size),pe.prev=new l.Buf16(pe.w_size),pe.lit_bufsize=1<<A+6,pe.pending_buf_size=4*pe.lit_bufsize,pe.pending_buf=new l.Buf8(pe.pending_buf_size),pe.d_buf=1*pe.lit_bufsize,pe.l_buf=3*pe.lit_bufsize,pe.level=ce,pe.strategy=G,pe.method=te,nt(S)}s=[new Ve(0,0,0,0,function(S,ce){var te=65535;for(te>S.pending_buf_size-5&&(te=S.pending_buf_size-5);;){if(S.lookahead<=1){if(Le(S),S.lookahead===0&&ce===m)return N;if(S.lookahead===0)break}S.strstart+=S.lookahead,S.lookahead=0;var R=S.block_start+te;if((S.strstart===0||S.strstart>=R)&&(S.lookahead=S.strstart-R,S.strstart=R,Z(S,!1),S.strm.avail_out===0)||S.strstart-S.block_start>=S.w_size-se&&(Z(S,!1),S.strm.avail_out===0))return N}return S.insert=0,ce===w?(Z(S,!0),S.strm.avail_out===0?xe:de):(S.strstart>S.block_start&&(Z(S,!1),S.strm.avail_out),N)}),new Ve(4,4,8,4,Ue),new Ve(4,5,16,8,Ue),new Ve(4,6,32,32,Ue),new Ve(4,4,16,16,Ae),new Ve(8,16,32,32,Ae),new Ve(8,16,128,128,Ae),new Ve(8,32,128,256,Ae),new Ve(32,128,258,1024,Ae),new Ve(32,258,258,4096,Ae)],i.deflateInit=function(S,ce){return Et(S,ce,y,15,8,0)},i.deflateInit2=Et,i.deflateReset=nt,i.deflateResetKeep=tt,i.deflateSetHeader=function(S,ce){return S&&S.state?S.state.wrap!==2?P:(S.state.gzhead=ce,b):P},i.deflate=function(S,ce){var te,R,A,G;if(!S||!S.state||5<ce||ce<0)return S?J(S,P):P;if(R=S.state,!S.output||!S.input&&S.avail_in!==0||R.status===666&&ce!==w)return J(S,S.avail_out===0?-5:P);if(R.strm=S,te=R.last_flush,R.last_flush=ce,R.status===j)if(R.wrap===2)S.adler=0,we(R,31),we(R,139),we(R,8),R.gzhead?(we(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),we(R,255&R.gzhead.time),we(R,R.gzhead.time>>8&255),we(R,R.gzhead.time>>16&255),we(R,R.gzhead.time>>24&255),we(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),we(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(we(R,255&R.gzhead.extra.length),we(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(S.adler=f(S.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(we(R,0),we(R,0),we(R,0),we(R,0),we(R,0),we(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),we(R,3),R.status=X);else{var he=y+(R.w_bits-8<<4)<<8;he|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(he|=32),he+=31-he%31,R.status=X,me(R,he),R.strstart!==0&&(me(R,S.adler>>>16),me(R,65535&S.adler)),S.adler=1}if(R.status===69)if(R.gzhead.extra){for(A=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>A&&(S.adler=f(S.adler,R.pending_buf,R.pending-A,A)),W(S),A=R.pending,R.pending!==R.pending_buf_size));)we(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>A&&(S.adler=f(S.adler,R.pending_buf,R.pending-A,A)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){A=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>A&&(S.adler=f(S.adler,R.pending_buf,R.pending-A,A)),W(S),A=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,we(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>A&&(S.adler=f(S.adler,R.pending_buf,R.pending-A,A)),G===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){A=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>A&&(S.adler=f(S.adler,R.pending_buf,R.pending-A,A)),W(S),A=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,we(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>A&&(S.adler=f(S.adler,R.pending_buf,R.pending-A,A)),G===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&W(S),R.pending+2<=R.pending_buf_size&&(we(R,255&S.adler),we(R,S.adler>>8&255),S.adler=0,R.status=X)):R.status=X),R.pending!==0){if(W(S),S.avail_out===0)return R.last_flush=-1,b}else if(S.avail_in===0&&ie(ce)<=ie(te)&&ce!==w)return J(S,-5);if(R.status===666&&S.avail_in!==0)return J(S,-5);if(S.avail_in!==0||R.lookahead!==0||ce!==m&&R.status!==666){var pe=R.strategy===2?function(re,ge){for(var ke;;){if(re.lookahead===0&&(Le(re),re.lookahead===0)){if(ge===m)return N;break}if(re.match_length=0,ke=u._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++,ke&&(Z(re,!1),re.strm.avail_out===0))return N}return re.insert=0,ge===w?(Z(re,!0),re.strm.avail_out===0?xe:de):re.last_lit&&(Z(re,!1),re.strm.avail_out===0)?N:ue}(R,ce):R.strategy===3?function(re,ge){for(var ke,ye,Pe,He,We=re.window;;){if(re.lookahead<=ne){if(Le(re),re.lookahead<=ne&&ge===m)return N;if(re.lookahead===0)break}if(re.match_length=0,re.lookahead>=$&&0<re.strstart&&(ye=We[Pe=re.strstart-1])===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]){He=re.strstart+ne;do;while(ye===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]&&ye===We[++Pe]&&Pe<He);re.match_length=ne-(He-Pe),re.match_length>re.lookahead&&(re.match_length=re.lookahead)}if(re.match_length>=$?(ke=u._tr_tally(re,1,re.match_length-$),re.lookahead-=re.match_length,re.strstart+=re.match_length,re.match_length=0):(ke=u._tr_tally(re,0,re.window[re.strstart]),re.lookahead--,re.strstart++),ke&&(Z(re,!1),re.strm.avail_out===0))return N}return re.insert=0,ge===w?(Z(re,!0),re.strm.avail_out===0?xe:de):re.last_lit&&(Z(re,!1),re.strm.avail_out===0)?N:ue}(R,ce):s[R.level].func(R,ce);if(pe!==xe&&pe!==de||(R.status=666),pe===N||pe===xe)return S.avail_out===0&&(R.last_flush=-1),b;if(pe===ue&&(ce===1?u._tr_align(R):ce!==5&&(u._tr_stored_block(R,0,0,!1),ce===3&&(Q(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),W(S),S.avail_out===0))return R.last_flush=-1,b}return ce!==w?b:R.wrap<=0?1:(R.wrap===2?(we(R,255&S.adler),we(R,S.adler>>8&255),we(R,S.adler>>16&255),we(R,S.adler>>24&255),we(R,255&S.total_in),we(R,S.total_in>>8&255),we(R,S.total_in>>16&255),we(R,S.total_in>>24&255)):(me(R,S.adler>>>16),me(R,65535&S.adler)),W(S),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?b:1)},i.deflateEnd=function(S){var ce;return S&&S.state?(ce=S.state.status)!==j&&ce!==69&&ce!==73&&ce!==91&&ce!==103&&ce!==X&&ce!==666?J(S,P):(S.state=null,ce===X?J(S,-3):b):P},i.deflateSetDictionary=function(S,ce){var te,R,A,G,he,pe,re,ge,ke=ce.length;if(!S||!S.state||(G=(te=S.state).wrap)===2||G===1&&te.status!==j||te.lookahead)return P;for(G===1&&(S.adler=d(S.adler,ce,ke,0)),te.wrap=0,ke>=te.w_size&&(G===0&&(Q(te.head),te.strstart=0,te.block_start=0,te.insert=0),ge=new l.Buf8(te.w_size),l.arraySet(ge,ce,ke-te.w_size,te.w_size,0),ce=ge,ke=te.w_size),he=S.avail_in,pe=S.next_in,re=S.input,S.avail_in=ke,S.next_in=0,S.input=ce,Le(te);te.lookahead>=$;){for(R=te.strstart,A=te.lookahead-($-1);te.ins_h=(te.ins_h<<te.hash_shift^te.window[R+$-1])&te.hash_mask,te.prev[R&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=R,R++,--A;);te.strstart=R,te.lookahead=$-1,Le(te)}return te.strstart+=te.lookahead,te.block_start=te.strstart,te.insert=te.lookahead,te.lookahead=0,te.match_length=te.prev_length=$-1,te.match_available=0,S.next_in=pe,S.input=re,S.avail_in=he,te.wrap=G,b},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,i){o.exports=function(s,l){var u,d,f,_,m,w,b,P,k,M,g,y,T,I,z,q,U,V,$,ne,se,j,X,N,ue;u=s.state,d=s.next_in,N=s.input,f=d+(s.avail_in-5),_=s.next_out,ue=s.output,m=_-(l-s.avail_out),w=_+(s.avail_out-257),b=u.dmax,P=u.wsize,k=u.whave,M=u.wnext,g=u.window,y=u.hold,T=u.bits,I=u.lencode,z=u.distcode,q=(1<<u.lenbits)-1,U=(1<<u.distbits)-1;e:do{T<15&&(y+=N[d++]<<T,T+=8,y+=N[d++]<<T,T+=8),V=I[y&q];t:for(;;){if(y>>>=$=V>>>24,T-=$,($=V>>>16&255)===0)ue[_++]=65535&V;else{if(!(16&$)){if(!(64&$)){V=I[(65535&V)+(y&(1<<$)-1)];continue t}if(32&$){u.mode=12;break e}s.msg="invalid literal/length code",u.mode=30;break e}ne=65535&V,($&=15)&&(T<$&&(y+=N[d++]<<T,T+=8),ne+=y&(1<<$)-1,y>>>=$,T-=$),T<15&&(y+=N[d++]<<T,T+=8,y+=N[d++]<<T,T+=8),V=z[y&U];n:for(;;){if(y>>>=$=V>>>24,T-=$,!(16&($=V>>>16&255))){if(!(64&$)){V=z[(65535&V)+(y&(1<<$)-1)];continue n}s.msg="invalid distance code",u.mode=30;break e}if(se=65535&V,T<($&=15)&&(y+=N[d++]<<T,(T+=8)<$&&(y+=N[d++]<<T,T+=8)),b<(se+=y&(1<<$)-1)){s.msg="invalid distance too far back",u.mode=30;break e}if(y>>>=$,T-=$,($=_-m)<se){if(k<($=se-$)&&u.sane){s.msg="invalid distance too far back",u.mode=30;break e}if(X=g,(j=0)===M){if(j+=P-$,$<ne){for(ne-=$;ue[_++]=g[j++],--$;);j=_-se,X=ue}}else if(M<$){if(j+=P+M-$,($-=M)<ne){for(ne-=$;ue[_++]=g[j++],--$;);if(j=0,M<ne){for(ne-=$=M;ue[_++]=g[j++],--$;);j=_-se,X=ue}}}else if(j+=M-$,$<ne){for(ne-=$;ue[_++]=g[j++],--$;);j=_-se,X=ue}for(;2<ne;)ue[_++]=X[j++],ue[_++]=X[j++],ue[_++]=X[j++],ne-=3;ne&&(ue[_++]=X[j++],1<ne&&(ue[_++]=X[j++]))}else{for(j=_-se;ue[_++]=ue[j++],ue[_++]=ue[j++],ue[_++]=ue[j++],2<(ne-=3););ne&&(ue[_++]=ue[j++],1<ne&&(ue[_++]=ue[j++]))}break}}break}}while(d<f&&_<w);d-=ne=T>>3,y&=(1<<(T-=ne<<3))-1,s.next_in=d,s.next_out=_,s.avail_in=d<f?f-d+5:5-(d-f),s.avail_out=_<w?w-_+257:257-(_-w),u.hold=y,u.bits=T}},{}],49:[function(n,o,i){var s=n("../utils/common"),l=n("./adler32"),u=n("./crc32"),d=n("./inffast"),f=n("./inftrees"),_=1,m=2,w=0,b=-2,P=1,k=852,M=592;function g(j){return(j>>>24&255)+(j>>>8&65280)+((65280&j)<<8)+((255&j)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function T(j){var X;return j&&j.state?(X=j.state,j.total_in=j.total_out=X.total=0,j.msg="",X.wrap&&(j.adler=1&X.wrap),X.mode=P,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(k),X.distcode=X.distdyn=new s.Buf32(M),X.sane=1,X.back=-1,w):b}function I(j){var X;return j&&j.state?((X=j.state).wsize=0,X.whave=0,X.wnext=0,T(j)):b}function z(j,X){var N,ue;return j&&j.state?(ue=j.state,X<0?(N=0,X=-X):(N=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?b:(ue.window!==null&&ue.wbits!==X&&(ue.window=null),ue.wrap=N,ue.wbits=X,I(j))):b}function q(j,X){var N,ue;return j?(ue=new y,(j.state=ue).window=null,(N=z(j,X))!==w&&(j.state=null),N):b}var U,V,$=!0;function ne(j){if($){var X;for(U=new s.Buf32(512),V=new s.Buf32(32),X=0;X<144;)j.lens[X++]=8;for(;X<256;)j.lens[X++]=9;for(;X<280;)j.lens[X++]=7;for(;X<288;)j.lens[X++]=8;for(f(_,j.lens,0,288,U,0,j.work,{bits:9}),X=0;X<32;)j.lens[X++]=5;f(m,j.lens,0,32,V,0,j.work,{bits:5}),$=!1}j.lencode=U,j.lenbits=9,j.distcode=V,j.distbits=5}function se(j,X,N,ue){var xe,de=j.state;return de.window===null&&(de.wsize=1<<de.wbits,de.wnext=0,de.whave=0,de.window=new s.Buf8(de.wsize)),ue>=de.wsize?(s.arraySet(de.window,X,N-de.wsize,de.wsize,0),de.wnext=0,de.whave=de.wsize):(ue<(xe=de.wsize-de.wnext)&&(xe=ue),s.arraySet(de.window,X,N-ue,xe,de.wnext),(ue-=xe)?(s.arraySet(de.window,X,N-ue,ue,0),de.wnext=ue,de.whave=de.wsize):(de.wnext+=xe,de.wnext===de.wsize&&(de.wnext=0),de.whave<de.wsize&&(de.whave+=xe))),0}i.inflateReset=I,i.inflateReset2=z,i.inflateResetKeep=T,i.inflateInit=function(j){return q(j,15)},i.inflateInit2=q,i.inflate=function(j,X){var N,ue,xe,de,J,ie,Q,W,Z,we,me,le,Le,Ue,Ae,Ve,lt,tt,nt,Et,S,ce,te,R,A=0,G=new s.Buf8(4),he=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!j||!j.state||!j.output||!j.input&&j.avail_in!==0)return b;(N=j.state).mode===12&&(N.mode=13),J=j.next_out,xe=j.output,Q=j.avail_out,de=j.next_in,ue=j.input,ie=j.avail_in,W=N.hold,Z=N.bits,we=ie,me=Q,ce=w;e:for(;;)switch(N.mode){case P:if(N.wrap===0){N.mode=13;break}for(;Z<16;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(2&N.wrap&&W===35615){G[N.check=0]=255&W,G[1]=W>>>8&255,N.check=u(N.check,G,2,0),Z=W=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&W)<<8)+(W>>8))%31){j.msg="incorrect header check",N.mode=30;break}if((15&W)!=8){j.msg="unknown compression method",N.mode=30;break}if(Z-=4,S=8+(15&(W>>>=4)),N.wbits===0)N.wbits=S;else if(S>N.wbits){j.msg="invalid window size",N.mode=30;break}N.dmax=1<<S,j.adler=N.check=1,N.mode=512&W?10:12,Z=W=0;break;case 2:for(;Z<16;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(N.flags=W,(255&N.flags)!=8){j.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){j.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=W>>8&1),512&N.flags&&(G[0]=255&W,G[1]=W>>>8&255,N.check=u(N.check,G,2,0)),Z=W=0,N.mode=3;case 3:for(;Z<32;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}N.head&&(N.head.time=W),512&N.flags&&(G[0]=255&W,G[1]=W>>>8&255,G[2]=W>>>16&255,G[3]=W>>>24&255,N.check=u(N.check,G,4,0)),Z=W=0,N.mode=4;case 4:for(;Z<16;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}N.head&&(N.head.xflags=255&W,N.head.os=W>>8),512&N.flags&&(G[0]=255&W,G[1]=W>>>8&255,N.check=u(N.check,G,2,0)),Z=W=0,N.mode=5;case 5:if(1024&N.flags){for(;Z<16;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}N.length=W,N.head&&(N.head.extra_len=W),512&N.flags&&(G[0]=255&W,G[1]=W>>>8&255,N.check=u(N.check,G,2,0)),Z=W=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(ie<(le=N.length)&&(le=ie),le&&(N.head&&(S=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,ue,de,le,S)),512&N.flags&&(N.check=u(N.check,ue,le,de)),ie-=le,de+=le,N.length-=le),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(ie===0)break e;for(le=0;S=ue[de+le++],N.head&&S&&N.length<65536&&(N.head.name+=String.fromCharCode(S)),S&&le<ie;);if(512&N.flags&&(N.check=u(N.check,ue,le,de)),ie-=le,de+=le,S)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(ie===0)break e;for(le=0;S=ue[de+le++],N.head&&S&&N.length<65536&&(N.head.comment+=String.fromCharCode(S)),S&&le<ie;);if(512&N.flags&&(N.check=u(N.check,ue,le,de)),ie-=le,de+=le,S)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;Z<16;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(W!==(65535&N.check)){j.msg="header crc mismatch",N.mode=30;break}Z=W=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),j.adler=N.check=0,N.mode=12;break;case 10:for(;Z<32;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}j.adler=N.check=g(W),Z=W=0,N.mode=11;case 11:if(N.havedict===0)return j.next_out=J,j.avail_out=Q,j.next_in=de,j.avail_in=ie,N.hold=W,N.bits=Z,2;j.adler=N.check=1,N.mode=12;case 12:if(X===5||X===6)break e;case 13:if(N.last){W>>>=7&Z,Z-=7&Z,N.mode=27;break}for(;Z<3;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}switch(N.last=1&W,Z-=1,3&(W>>>=1)){case 0:N.mode=14;break;case 1:if(ne(N),N.mode=20,X!==6)break;W>>>=2,Z-=2;break e;case 2:N.mode=17;break;case 3:j.msg="invalid block type",N.mode=30}W>>>=2,Z-=2;break;case 14:for(W>>>=7&Z,Z-=7&Z;Z<32;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if((65535&W)!=(W>>>16^65535)){j.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&W,Z=W=0,N.mode=15,X===6)break e;case 15:N.mode=16;case 16:if(le=N.length){if(ie<le&&(le=ie),Q<le&&(le=Q),le===0)break e;s.arraySet(xe,ue,de,le,J),ie-=le,de+=le,Q-=le,J+=le,N.length-=le;break}N.mode=12;break;case 17:for(;Z<14;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(N.nlen=257+(31&W),W>>>=5,Z-=5,N.ndist=1+(31&W),W>>>=5,Z-=5,N.ncode=4+(15&W),W>>>=4,Z-=4,286<N.nlen||30<N.ndist){j.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;Z<3;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}N.lens[he[N.have++]]=7&W,W>>>=3,Z-=3}for(;N.have<19;)N.lens[he[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,te={bits:N.lenbits},ce=f(0,N.lens,0,19,N.lencode,0,N.work,te),N.lenbits=te.bits,ce){j.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;Ve=(A=N.lencode[W&(1<<N.lenbits)-1])>>>16&255,lt=65535&A,!((Ae=A>>>24)<=Z);){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(lt<16)W>>>=Ae,Z-=Ae,N.lens[N.have++]=lt;else{if(lt===16){for(R=Ae+2;Z<R;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(W>>>=Ae,Z-=Ae,N.have===0){j.msg="invalid bit length repeat",N.mode=30;break}S=N.lens[N.have-1],le=3+(3&W),W>>>=2,Z-=2}else if(lt===17){for(R=Ae+3;Z<R;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}Z-=Ae,S=0,le=3+(7&(W>>>=Ae)),W>>>=3,Z-=3}else{for(R=Ae+7;Z<R;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}Z-=Ae,S=0,le=11+(127&(W>>>=Ae)),W>>>=7,Z-=7}if(N.have+le>N.nlen+N.ndist){j.msg="invalid bit length repeat",N.mode=30;break}for(;le--;)N.lens[N.have++]=S}}if(N.mode===30)break;if(N.lens[256]===0){j.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,te={bits:N.lenbits},ce=f(_,N.lens,0,N.nlen,N.lencode,0,N.work,te),N.lenbits=te.bits,ce){j.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,te={bits:N.distbits},ce=f(m,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,te),N.distbits=te.bits,ce){j.msg="invalid distances set",N.mode=30;break}if(N.mode=20,X===6)break e;case 20:N.mode=21;case 21:if(6<=ie&&258<=Q){j.next_out=J,j.avail_out=Q,j.next_in=de,j.avail_in=ie,N.hold=W,N.bits=Z,d(j,me),J=j.next_out,xe=j.output,Q=j.avail_out,de=j.next_in,ue=j.input,ie=j.avail_in,W=N.hold,Z=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;Ve=(A=N.lencode[W&(1<<N.lenbits)-1])>>>16&255,lt=65535&A,!((Ae=A>>>24)<=Z);){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(Ve&&!(240&Ve)){for(tt=Ae,nt=Ve,Et=lt;Ve=(A=N.lencode[Et+((W&(1<<tt+nt)-1)>>tt)])>>>16&255,lt=65535&A,!(tt+(Ae=A>>>24)<=Z);){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}W>>>=tt,Z-=tt,N.back+=tt}if(W>>>=Ae,Z-=Ae,N.back+=Ae,N.length=lt,Ve===0){N.mode=26;break}if(32&Ve){N.back=-1,N.mode=12;break}if(64&Ve){j.msg="invalid literal/length code",N.mode=30;break}N.extra=15&Ve,N.mode=22;case 22:if(N.extra){for(R=N.extra;Z<R;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}N.length+=W&(1<<N.extra)-1,W>>>=N.extra,Z-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;Ve=(A=N.distcode[W&(1<<N.distbits)-1])>>>16&255,lt=65535&A,!((Ae=A>>>24)<=Z);){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(!(240&Ve)){for(tt=Ae,nt=Ve,Et=lt;Ve=(A=N.distcode[Et+((W&(1<<tt+nt)-1)>>tt)])>>>16&255,lt=65535&A,!(tt+(Ae=A>>>24)<=Z);){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}W>>>=tt,Z-=tt,N.back+=tt}if(W>>>=Ae,Z-=Ae,N.back+=Ae,64&Ve){j.msg="invalid distance code",N.mode=30;break}N.offset=lt,N.extra=15&Ve,N.mode=24;case 24:if(N.extra){for(R=N.extra;Z<R;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}N.offset+=W&(1<<N.extra)-1,W>>>=N.extra,Z-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){j.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(Q===0)break e;if(le=me-Q,N.offset>le){if((le=N.offset-le)>N.whave&&N.sane){j.msg="invalid distance too far back",N.mode=30;break}Le=le>N.wnext?(le-=N.wnext,N.wsize-le):N.wnext-le,le>N.length&&(le=N.length),Ue=N.window}else Ue=xe,Le=J-N.offset,le=N.length;for(Q<le&&(le=Q),Q-=le,N.length-=le;xe[J++]=Ue[Le++],--le;);N.length===0&&(N.mode=21);break;case 26:if(Q===0)break e;xe[J++]=N.length,Q--,N.mode=21;break;case 27:if(N.wrap){for(;Z<32;){if(ie===0)break e;ie--,W|=ue[de++]<<Z,Z+=8}if(me-=Q,j.total_out+=me,N.total+=me,me&&(j.adler=N.check=N.flags?u(N.check,xe,me,J-me):l(N.check,xe,me,J-me)),me=Q,(N.flags?W:g(W))!==N.check){j.msg="incorrect data check",N.mode=30;break}Z=W=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;Z<32;){if(ie===0)break e;ie--,W+=ue[de++]<<Z,Z+=8}if(W!==(4294967295&N.total)){j.msg="incorrect length check",N.mode=30;break}Z=W=0}N.mode=29;case 29:ce=1;break e;case 30:ce=-3;break e;case 31:return-4;case 32:default:return b}return j.next_out=J,j.avail_out=Q,j.next_in=de,j.avail_in=ie,N.hold=W,N.bits=Z,(N.wsize||me!==j.avail_out&&N.mode<30&&(N.mode<27||X!==4))&&se(j,j.output,j.next_out,me-j.avail_out)?(N.mode=31,-4):(we-=j.avail_in,me-=j.avail_out,j.total_in+=we,j.total_out+=me,N.total+=me,N.wrap&&me&&(j.adler=N.check=N.flags?u(N.check,xe,me,j.next_out-me):l(N.check,xe,me,j.next_out-me)),j.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(we==0&&me===0||X===4)&&ce===w&&(ce=-5),ce)},i.inflateEnd=function(j){if(!j||!j.state)return b;var X=j.state;return X.window&&(X.window=null),j.state=null,w},i.inflateGetHeader=function(j,X){var N;return j&&j.state&&2&(N=j.state).wrap?((N.head=X).done=!1,w):b},i.inflateSetDictionary=function(j,X){var N,ue=X.length;return j&&j.state?(N=j.state).wrap!==0&&N.mode!==11?b:N.mode===11&&l(1,X,ue,0)!==N.check?-3:se(j,X,ue,ue)?(N.mode=31,-4):(N.havedict=1,w):b},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,i){var s=n("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(_,m,w,b,P,k,M,g){var y,T,I,z,q,U,V,$,ne,se=g.bits,j=0,X=0,N=0,ue=0,xe=0,de=0,J=0,ie=0,Q=0,W=0,Z=null,we=0,me=new s.Buf16(16),le=new s.Buf16(16),Le=null,Ue=0;for(j=0;j<=15;j++)me[j]=0;for(X=0;X<b;X++)me[m[w+X]]++;for(xe=se,ue=15;1<=ue&&me[ue]===0;ue--);if(ue<xe&&(xe=ue),ue===0)return P[k++]=20971520,P[k++]=20971520,g.bits=1,0;for(N=1;N<ue&&me[N]===0;N++);for(xe<N&&(xe=N),j=ie=1;j<=15;j++)if(ie<<=1,(ie-=me[j])<0)return-1;if(0<ie&&(_===0||ue!==1))return-1;for(le[1]=0,j=1;j<15;j++)le[j+1]=le[j]+me[j];for(X=0;X<b;X++)m[w+X]!==0&&(M[le[m[w+X]]++]=X);if(U=_===0?(Z=Le=M,19):_===1?(Z=l,we-=257,Le=u,Ue-=257,256):(Z=d,Le=f,-1),j=N,q=k,J=X=W=0,I=-1,z=(Q=1<<(de=xe))-1,_===1&&852<Q||_===2&&592<Q)return 1;for(;;){for(V=j-J,ne=M[X]<U?($=0,M[X]):M[X]>U?($=Le[Ue+M[X]],Z[we+M[X]]):($=96,0),y=1<<j-J,N=T=1<<de;P[q+(W>>J)+(T-=y)]=V<<24|$<<16|ne|0,T!==0;);for(y=1<<j-1;W&y;)y>>=1;if(y!==0?(W&=y-1,W+=y):W=0,X++,--me[j]==0){if(j===ue)break;j=m[w+M[X]]}if(xe<j&&(W&z)!==I){for(J===0&&(J=xe),q+=N,ie=1<<(de=j-J);de+J<ue&&!((ie-=me[de+J])<=0);)de++,ie<<=1;if(Q+=1<<de,_===1&&852<Q||_===2&&592<Q)return 1;P[I=W&z]=xe<<24|de<<16|q-k|0}}return W!==0&&(P[q+W]=j-J<<24|64<<16|0),g.bits=xe,0}},{"../utils/common":41}],51:[function(n,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,i){var s=n("../utils/common"),l=0,u=1;function d(A){for(var G=A.length;0<=--G;)A[G]=0}var f=0,_=29,m=256,w=m+1+_,b=30,P=19,k=2*w+1,M=15,g=16,y=7,T=256,I=16,z=17,q=18,U=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],V=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],$=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],se=new Array(2*(w+2));d(se);var j=new Array(2*b);d(j);var X=new Array(512);d(X);var N=new Array(256);d(N);var ue=new Array(_);d(ue);var xe,de,J,ie=new Array(b);function Q(A,G,he,pe,re){this.static_tree=A,this.extra_bits=G,this.extra_base=he,this.elems=pe,this.max_length=re,this.has_stree=A&&A.length}function W(A,G){this.dyn_tree=A,this.max_code=0,this.stat_desc=G}function Z(A){return A<256?X[A]:X[256+(A>>>7)]}function we(A,G){A.pending_buf[A.pending++]=255&G,A.pending_buf[A.pending++]=G>>>8&255}function me(A,G,he){A.bi_valid>g-he?(A.bi_buf|=G<<A.bi_valid&65535,we(A,A.bi_buf),A.bi_buf=G>>g-A.bi_valid,A.bi_valid+=he-g):(A.bi_buf|=G<<A.bi_valid&65535,A.bi_valid+=he)}function le(A,G,he){me(A,he[2*G],he[2*G+1])}function Le(A,G){for(var he=0;he|=1&A,A>>>=1,he<<=1,0<--G;);return he>>>1}function Ue(A,G,he){var pe,re,ge=new Array(M+1),ke=0;for(pe=1;pe<=M;pe++)ge[pe]=ke=ke+he[pe-1]<<1;for(re=0;re<=G;re++){var ye=A[2*re+1];ye!==0&&(A[2*re]=Le(ge[ye]++,ye))}}function Ae(A){var G;for(G=0;G<w;G++)A.dyn_ltree[2*G]=0;for(G=0;G<b;G++)A.dyn_dtree[2*G]=0;for(G=0;G<P;G++)A.bl_tree[2*G]=0;A.dyn_ltree[2*T]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function Ve(A){8<A.bi_valid?we(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function lt(A,G,he,pe){var re=2*G,ge=2*he;return A[re]<A[ge]||A[re]===A[ge]&&pe[G]<=pe[he]}function tt(A,G,he){for(var pe=A.heap[he],re=he<<1;re<=A.heap_len&&(re<A.heap_len&&lt(G,A.heap[re+1],A.heap[re],A.depth)&&re++,!lt(G,pe,A.heap[re],A.depth));)A.heap[he]=A.heap[re],he=re,re<<=1;A.heap[he]=pe}function nt(A,G,he){var pe,re,ge,ke,ye=0;if(A.last_lit!==0)for(;pe=A.pending_buf[A.d_buf+2*ye]<<8|A.pending_buf[A.d_buf+2*ye+1],re=A.pending_buf[A.l_buf+ye],ye++,pe===0?le(A,re,G):(le(A,(ge=N[re])+m+1,G),(ke=U[ge])!==0&&me(A,re-=ue[ge],ke),le(A,ge=Z(--pe),he),(ke=V[ge])!==0&&me(A,pe-=ie[ge],ke)),ye<A.last_lit;);le(A,T,G)}function Et(A,G){var he,pe,re,ge=G.dyn_tree,ke=G.stat_desc.static_tree,ye=G.stat_desc.has_stree,Pe=G.stat_desc.elems,He=-1;for(A.heap_len=0,A.heap_max=k,he=0;he<Pe;he++)ge[2*he]!==0?(A.heap[++A.heap_len]=He=he,A.depth[he]=0):ge[2*he+1]=0;for(;A.heap_len<2;)ge[2*(re=A.heap[++A.heap_len]=He<2?++He:0)]=1,A.depth[re]=0,A.opt_len--,ye&&(A.static_len-=ke[2*re+1]);for(G.max_code=He,he=A.heap_len>>1;1<=he;he--)tt(A,ge,he);for(re=Pe;he=A.heap[1],A.heap[1]=A.heap[A.heap_len--],tt(A,ge,1),pe=A.heap[1],A.heap[--A.heap_max]=he,A.heap[--A.heap_max]=pe,ge[2*re]=ge[2*he]+ge[2*pe],A.depth[re]=(A.depth[he]>=A.depth[pe]?A.depth[he]:A.depth[pe])+1,ge[2*he+1]=ge[2*pe+1]=re,A.heap[1]=re++,tt(A,ge,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(We,Ot){var Fn,Zt,fr,rt,De,pr,qt=Ot.dyn_tree,Bn=Ot.max_code,Kn=Ot.stat_desc.static_tree,$o=Ot.stat_desc.has_stree,dn=Ot.stat_desc.extra_bits,Fr=Ot.stat_desc.extra_base,Un=Ot.stat_desc.max_length,mr=0;for(rt=0;rt<=M;rt++)We.bl_count[rt]=0;for(qt[2*We.heap[We.heap_max]+1]=0,Fn=We.heap_max+1;Fn<k;Fn++)Un<(rt=qt[2*qt[2*(Zt=We.heap[Fn])+1]+1]+1)&&(rt=Un,mr++),qt[2*Zt+1]=rt,Bn<Zt||(We.bl_count[rt]++,De=0,Fr<=Zt&&(De=dn[Zt-Fr]),pr=qt[2*Zt],We.opt_len+=pr*(rt+De),$o&&(We.static_len+=pr*(Kn[2*Zt+1]+De)));if(mr!==0){do{for(rt=Un-1;We.bl_count[rt]===0;)rt--;We.bl_count[rt]--,We.bl_count[rt+1]+=2,We.bl_count[Un]--,mr-=2}while(0<mr);for(rt=Un;rt!==0;rt--)for(Zt=We.bl_count[rt];Zt!==0;)Bn<(fr=We.heap[--Fn])||(qt[2*fr+1]!==rt&&(We.opt_len+=(rt-qt[2*fr+1])*qt[2*fr],qt[2*fr+1]=rt),Zt--)}}(A,G),Ue(ge,He,A.bl_count)}function S(A,G,he){var pe,re,ge=-1,ke=G[1],ye=0,Pe=7,He=4;for(ke===0&&(Pe=138,He=3),G[2*(he+1)+1]=65535,pe=0;pe<=he;pe++)re=ke,ke=G[2*(pe+1)+1],++ye<Pe&&re===ke||(ye<He?A.bl_tree[2*re]+=ye:re!==0?(re!==ge&&A.bl_tree[2*re]++,A.bl_tree[2*I]++):ye<=10?A.bl_tree[2*z]++:A.bl_tree[2*q]++,ge=re,He=(ye=0)===ke?(Pe=138,3):re===ke?(Pe=6,3):(Pe=7,4))}function ce(A,G,he){var pe,re,ge=-1,ke=G[1],ye=0,Pe=7,He=4;for(ke===0&&(Pe=138,He=3),pe=0;pe<=he;pe++)if(re=ke,ke=G[2*(pe+1)+1],!(++ye<Pe&&re===ke)){if(ye<He)for(;le(A,re,A.bl_tree),--ye!=0;);else re!==0?(re!==ge&&(le(A,re,A.bl_tree),ye--),le(A,I,A.bl_tree),me(A,ye-3,2)):ye<=10?(le(A,z,A.bl_tree),me(A,ye-3,3)):(le(A,q,A.bl_tree),me(A,ye-11,7));ge=re,He=(ye=0)===ke?(Pe=138,3):re===ke?(Pe=6,3):(Pe=7,4)}}d(ie);var te=!1;function R(A,G,he,pe){me(A,(f<<1)+(pe?1:0),3),function(re,ge,ke,ye){Ve(re),we(re,ke),we(re,~ke),s.arraySet(re.pending_buf,re.window,ge,ke,re.pending),re.pending+=ke}(A,G,he)}i._tr_init=function(A){te||(function(){var G,he,pe,re,ge,ke=new Array(M+1);for(re=pe=0;re<_-1;re++)for(ue[re]=pe,G=0;G<1<<U[re];G++)N[pe++]=re;for(N[pe-1]=re,re=ge=0;re<16;re++)for(ie[re]=ge,G=0;G<1<<V[re];G++)X[ge++]=re;for(ge>>=7;re<b;re++)for(ie[re]=ge<<7,G=0;G<1<<V[re]-7;G++)X[256+ge++]=re;for(he=0;he<=M;he++)ke[he]=0;for(G=0;G<=143;)se[2*G+1]=8,G++,ke[8]++;for(;G<=255;)se[2*G+1]=9,G++,ke[9]++;for(;G<=279;)se[2*G+1]=7,G++,ke[7]++;for(;G<=287;)se[2*G+1]=8,G++,ke[8]++;for(Ue(se,w+1,ke),G=0;G<b;G++)j[2*G+1]=5,j[2*G]=Le(G,5);xe=new Q(se,U,m+1,w,M),de=new Q(j,V,0,b,M),J=new Q(new Array(0),$,0,P,y)}(),te=!0),A.l_desc=new W(A.dyn_ltree,xe),A.d_desc=new W(A.dyn_dtree,de),A.bl_desc=new W(A.bl_tree,J),A.bi_buf=0,A.bi_valid=0,Ae(A)},i._tr_stored_block=R,i._tr_flush_block=function(A,G,he,pe){var re,ge,ke=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(ye){var Pe,He=4093624447;for(Pe=0;Pe<=31;Pe++,He>>>=1)if(1&He&&ye.dyn_ltree[2*Pe]!==0)return l;if(ye.dyn_ltree[18]!==0||ye.dyn_ltree[20]!==0||ye.dyn_ltree[26]!==0)return u;for(Pe=32;Pe<m;Pe++)if(ye.dyn_ltree[2*Pe]!==0)return u;return l}(A)),Et(A,A.l_desc),Et(A,A.d_desc),ke=function(ye){var Pe;for(S(ye,ye.dyn_ltree,ye.l_desc.max_code),S(ye,ye.dyn_dtree,ye.d_desc.max_code),Et(ye,ye.bl_desc),Pe=P-1;3<=Pe&&ye.bl_tree[2*ne[Pe]+1]===0;Pe--);return ye.opt_len+=3*(Pe+1)+5+5+4,Pe}(A),re=A.opt_len+3+7>>>3,(ge=A.static_len+3+7>>>3)<=re&&(re=ge)):re=ge=he+5,he+4<=re&&G!==-1?R(A,G,he,pe):A.strategy===4||ge===re?(me(A,2+(pe?1:0),3),nt(A,se,j)):(me(A,4+(pe?1:0),3),function(ye,Pe,He,We){var Ot;for(me(ye,Pe-257,5),me(ye,He-1,5),me(ye,We-4,4),Ot=0;Ot<We;Ot++)me(ye,ye.bl_tree[2*ne[Ot]+1],3);ce(ye,ye.dyn_ltree,Pe-1),ce(ye,ye.dyn_dtree,He-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,ke+1),nt(A,A.dyn_ltree,A.dyn_dtree)),Ae(A),pe&&Ve(A)},i._tr_tally=function(A,G,he){return A.pending_buf[A.d_buf+2*A.last_lit]=G>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&G,A.pending_buf[A.l_buf+A.last_lit]=255&he,A.last_lit++,G===0?A.dyn_ltree[2*he]++:(A.matches++,G--,A.dyn_ltree[2*(N[he]+m+1)]++,A.dyn_dtree[2*Z(G)]++),A.last_lit===A.lit_bufsize-1},i._tr_align=function(A){me(A,2,3),le(A,T,se),function(G){G.bi_valid===16?(we(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(n,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,i){(function(s){(function(l,u){if(!l.setImmediate){var d,f,_,m,w=1,b={},P=!1,k=l.document,M=Object.getPrototypeOf&&Object.getPrototypeOf(l);M=M&&M.setTimeout?M:l,d={}.toString.call(l.process)==="[object process]"?function(I){process.nextTick(function(){y(I)})}:function(){if(l.postMessage&&!l.importScripts){var I=!0,z=l.onmessage;return l.onmessage=function(){I=!1},l.postMessage("","*"),l.onmessage=z,I}}()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",T,!1):l.attachEvent("onmessage",T),function(I){l.postMessage(m+I,"*")}):l.MessageChannel?((_=new MessageChannel).port1.onmessage=function(I){y(I.data)},function(I){_.port2.postMessage(I)}):k&&"onreadystatechange"in k.createElement("script")?(f=k.documentElement,function(I){var z=k.createElement("script");z.onreadystatechange=function(){y(I),z.onreadystatechange=null,f.removeChild(z),z=null},f.appendChild(z)}):function(I){setTimeout(y,0,I)},M.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var z=new Array(arguments.length-1),q=0;q<z.length;q++)z[q]=arguments[q+1];var U={callback:I,args:z};return b[w]=U,d(w),w++},M.clearImmediate=g}function g(I){delete b[I]}function y(I){if(P)setTimeout(y,0,I);else{var z=b[I];if(z){P=!0;try{(function(q){var U=q.callback,V=q.args;switch(V.length){case 0:U();break;case 1:U(V[0]);break;case 2:U(V[0],V[1]);break;case 3:U(V[0],V[1],V[2]);break;default:U.apply(u,V)}})(z)}finally{g(I),P=!1}}}}function T(I){I.source===l&&typeof I.data=="string"&&I.data.indexOf(m)===0&&y(+I.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Cs<"u"?Cs:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(hg);var ik=hg.exports;const fg=ua(ik);class ok{constructor(t){this.db=t}async exportProject(){const t=new fg,[n,o,i,s,l,u]=await Promise.all([Ah(this.db),BL(this.db),WL(this.db),HL(this.db),Id(this.db),$L(this.db)]),d={version:"1.0",exportedAt:new Date().toISOString(),appVersion:"1.0.0",statistics:{featureCount:n.length,observationCount:o.length,measurementCount:i.length,taskCount:s.length,mediaCount:u.length,templateCount:l.length}};t.file("manifest.json",JSON.stringify(d,null,2));const f={features:n,observations:o,measurements:i,tasks:s,templates:l.filter(_=>!_.isBuiltin),media:u.map(_=>({..._,storagePath:_.storagePath}))};return t.file("data.json",JSON.stringify(f,null,2)),t.generateAsync({type:"blob"})}}class sk{constructor(t){this.db=t}async importProject(t,n){const o=await fg.loadAsync(t),i=o.file("manifest.json");if(!i)throw new Error("Invalid export file: missing manifest.json");const s=await i.async("text"),l=JSON.parse(s);if(!l.version||l.version!=="1.0")throw new Error(`Unsupported export version: ${l.version}`);const u=o.file("data.json");if(!u)throw new Error("Invalid export file: missing data.json");const d=await u.async("text"),f=JSON.parse(d);if(n==="replace"){const m=await Ah(this.db);for(const w of m)await tg(this.db,w.id)}const _={featuresImported:0,observationsImported:0,measurementsImported:0,tasksImported:0,templatesImported:0};for(const m of f.templates||[])try{await Fh(this.db,{id:m.id,name:m.name,description:m.description,icon:m.icon,schema:m.schema}),_.templatesImported++}catch(w){console.warn("Failed to import template:",m.id,w)}for(const m of f.features||[])try{await eg(this.db,{name:m.name,description:m.description,geometryType:m.geometryType,geometry:m.geometry,templateId:m.templateId,tags:m.tags,properties:m.properties}),_.featuresImported++}catch(w){console.warn("Failed to import feature:",m.id,w)}for(const m of f.observations||[])try{await ng(this.db,{featureId:m.featureId,notes:m.notes,tags:m.tags,recordedAt:new Date(m.recordedAt),observerLatitude:m.observerLatitude,observerLongitude:m.observerLongitude,observerAccuracy:m.observerAccuracy}),_.observationsImported++}catch(w){console.warn("Failed to import observation:",m.id,w)}for(const m of f.measurements||[])try{await rg(this.db,{featureId:m.featureId,metric:m.metric,value:m.value,unit:m.unit,method:m.method,accuracy:m.accuracy,confidence:m.confidence,notes:m.notes,recordedAt:new Date(m.recordedAt)}),_.measurementsImported++}catch(w){console.warn("Failed to import measurement:",m.id,w)}for(const m of f.tasks||[])try{await ig(this.db,{featureId:m.featureId,title:m.title,description:m.description,status:m.status,priority:m.priority,dueDate:m.dueDate?new Date(m.dueDate):void 0,tags:m.tags}),_.tasksImported++}catch(w){console.warn("Failed to import task:",m.id,w)}return _}}function ak(){const{db:e}=jr(),[t,n]=H.useState(!1),[o,i]=H.useState(!1),[s,l]=H.useState(null),u=async()=>{if(e){n(!0),l(null);try{const _=await new ok(e).exportProject(),m=URL.createObjectURL(_),w=document.createElement("a");w.href=m,w.download=`landmark-export-${new Date().toISOString().split("T")[0]}.zip`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(m),l({type:"success",text:"Project exported successfully!"})}catch(f){console.error("Export failed:",f),l({type:"error",text:"Failed to export project. Please try again."})}finally{n(!1)}}},d=async f=>{if(!e)return;const _=document.createElement("input");_.type="file",_.accept=".zip",_.onchange=async m=>{const w=m.target.files?.[0];if(w){i(!0),l(null);try{const P=await new sk(e).importProject(w,f);l({type:"success",text:`Imported ${P.featuresImported} features, ${P.observationsImported} observations, ${P.measurementsImported} measurements, ${P.tasksImported} tasks.`}),setTimeout(()=>{window.location.reload()},2e3)}catch(b){console.error("Import failed:",b),l({type:"error",text:"Failed to import project. Please check the file format."})}finally{i(!1)}}},_.click()};return E.jsxs("div",{className:"h-full flex flex-col bg-stone-50",children:[E.jsx("header",{className:"bg-white border-b border-stone-200 px-4 py-3 safe-top",children:E.jsx("h1",{className:"text-xl font-semibold text-stone-900",children:"Export & Import"})}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[E.jsxs("section",{className:"bg-white rounded-lg p-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-2",children:"Export Project"}),E.jsx("p",{className:"text-sm text-stone-600 mb-4",children:"Download your entire project as a ZIP file. This includes all features, observations, measurements, tasks, and media files."}),E.jsx(Wt,{onClick:u,isLoading:t,className:"w-full",children:t?"Exporting...":"Export Project"})]}),E.jsxs("section",{className:"bg-white rounded-lg p-4",children:[E.jsx("h2",{className:"text-lg font-semibold text-stone-900 mb-2",children:"Import Project"}),E.jsx("p",{className:"text-sm text-stone-600 mb-4",children:"Import a previously exported Landmark project."}),E.jsxs("div",{className:"space-y-3",children:[E.jsx(Wt,{variant:"secondary",onClick:()=>d("merge"),isLoading:o,className:"w-full",children:"Import & Merge"}),E.jsx("p",{className:"text-xs text-stone-500 text-center",children:"Adds imported data to existing data (recommended)"}),E.jsxs("div",{className:"border-t border-stone-200 pt-3 mt-3",children:[E.jsx(Wt,{variant:"danger",onClick:()=>d("replace"),isLoading:o,className:"w-full",children:"Import & Replace"}),E.jsx("p",{className:"text-xs text-stone-500 text-center mt-1",children:"Replaces all existing data with imported data"})]})]})]}),s&&E.jsx("div",{className:`p-4 rounded-lg ${s.type==="success"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:s.text}),E.jsxs("section",{className:"text-sm text-stone-500 space-y-2",children:[E.jsxs("p",{children:[E.jsx("strong",{children:"Export format:"})," ZIP archive containing JSON data and media files."]}),E.jsxs("p",{children:[E.jsx("strong",{children:"Data portability:"})," Your data is stored in open formats (JSON, SQLite) with no proprietary lock-in."]})]})]})]})}function lk(){const{unitsSystem:e,dateFormat:t,hapticFeedback:n,highContrast:o,setUnitsSystem:i,setDateFormat:s,setHapticFeedback:l,setHighContrast:u}=e2();return E.jsxs("div",{className:"h-full flex flex-col bg-stone-50",children:[E.jsx("header",{className:"bg-white border-b border-stone-200 px-4 py-3 safe-top",children:E.jsx("h1",{className:"text-xl font-semibold text-stone-900",children:"Settings"})}),E.jsxs("div",{className:"flex-1 overflow-y-auto",children:[E.jsxs("section",{className:"bg-white mt-4",children:[E.jsx("h2",{className:"px-4 py-2 text-sm font-medium text-stone-500 uppercase tracking-wide",children:"Units"}),E.jsxs("div",{className:"divide-y divide-stone-100",children:[E.jsx(Ts,{label:"Metric",description:"Meters, hectares, kilograms",selected:e==="metric",onClick:()=>i("metric")}),E.jsx(Ts,{label:"Imperial",description:"Feet, acres, pounds",selected:e==="imperial",onClick:()=>i("imperial")})]})]}),E.jsxs("section",{className:"bg-white mt-4",children:[E.jsx("h2",{className:"px-4 py-2 text-sm font-medium text-stone-500 uppercase tracking-wide",children:"Date Format"}),E.jsxs("div",{className:"divide-y divide-stone-100",children:[E.jsx(Ts,{label:"Relative",description:"2 days ago, in 3 weeks",selected:t==="relative",onClick:()=>s("relative")}),E.jsx(Ts,{label:"ISO",description:"2024-01-15",selected:t==="iso",onClick:()=>s("iso")}),E.jsx(Ts,{label:"Local",description:"15 Jan 2024",selected:t==="local",onClick:()=>s("local")})]})]}),E.jsxs("section",{className:"bg-white mt-4",children:[E.jsx("h2",{className:"px-4 py-2 text-sm font-medium text-stone-500 uppercase tracking-wide",children:"Accessibility"}),E.jsxs("div",{className:"divide-y divide-stone-100",children:[E.jsx(rm,{label:"Haptic Feedback",description:"Vibration on button presses",enabled:n,onToggle:()=>l(!n)}),E.jsx(rm,{label:"High Contrast",description:"Increase visual contrast",enabled:o,onToggle:()=>u(!o)})]})]}),E.jsxs("section",{className:"bg-white mt-4 mb-4",children:[E.jsx("h2",{className:"px-4 py-2 text-sm font-medium text-stone-500 uppercase tracking-wide",children:"About"}),E.jsxs("div",{className:"px-4 py-3",children:[E.jsx("p",{className:"font-medium text-stone-900",children:"Landmark"}),E.jsx("p",{className:"text-sm text-stone-500",children:"Version 1.0.0"}),E.jsx("p",{className:"text-sm text-stone-500 mt-2",children:"Offline-first field notebook and land-planning system."})]})]})]})]})}function Ts({label:e,description:t,selected:n,onClick:o}){return E.jsxs("button",{onClick:o,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-stone-50 transition-colors",children:[E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"font-medium text-stone-900",children:e}),E.jsx("p",{className:"text-sm text-stone-500",children:t})]}),n&&E.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"currentColor",viewBox:"0 0 20 20",children:E.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})}function rm({label:e,description:t,enabled:n,onToggle:o}){return E.jsxs("button",{onClick:o,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-stone-50 transition-colors",children:[E.jsxs("div",{className:"text-left",children:[E.jsx("p",{className:"font-medium text-stone-900",children:e}),E.jsx("p",{className:"text-sm text-stone-500",children:t})]}),E.jsx("div",{className:`
          w-11 h-6 rounded-full relative transition-colors
          ${n?"bg-primary-600":"bg-stone-300"}
        `,children:E.jsx("div",{className:`
            absolute top-1 w-4 h-4 rounded-full bg-white shadow transition-transform
            ${n?"translate-x-6":"translate-x-1"}
          `})})]})}const uk=[{path:"/",label:"Map",icon:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})},{path:"/tasks",label:"Tasks",icon:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})})},{path:"/templates",label:"Templates",icon:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"})})},{path:"/settings",label:"Settings",icon:E.jsxs("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}];function ck(){return xi().pathname.startsWith("/feature/")?null:E.jsx("nav",{className:"bg-white border-t border-stone-200 safe-bottom",children:E.jsx("div",{className:"flex justify-around",children:uk.map(t=>E.jsxs(b1,{to:t.path,className:({isActive:n})=>`
              flex flex-col items-center justify-center
              py-2 px-4 min-h-[56px]
              transition-colors
              ${n?"text-primary-600":"text-stone-500 hover:text-stone-700"}
            `,children:[t.icon,E.jsx("span",{className:"text-xs mt-1 font-medium",children:t.label})]},t.path))})})}console.log("[App.tsx] Module loaded");function dk(){console.log("[App] Component rendering...");const[e,t]=H.useState(!1),[n,o]=H.useState(null);return H.useEffect(()=>{console.log("[App] Starting initialization...");const i=setTimeout(async()=>{try{console.log("[App] Calling getDatabase()..."),await xo(),console.log("[App] Database initialized successfully"),t(!0)}catch(s){console.error("Failed to initialize app:",s);const l=s instanceof Error?s.message:String(s??"Unknown error");o(l)}},0);return()=>clearTimeout(i)},[]),n?E.jsxs("div",{className:"h-full flex flex-col items-center justify-center p-4",children:[E.jsx("div",{className:"text-red-600 mb-4",children:E.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),E.jsx("h1",{className:"text-xl font-semibold text-stone-900 mb-2",children:"Failed to Initialize"}),E.jsx("p",{className:"text-stone-600 text-center mb-4",children:n}),E.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg font-medium hover:bg-primary-700",children:"Retry"})]}):e?E.jsxs("div",{className:"h-full flex flex-col",children:[E.jsx("main",{className:"flex-1 overflow-hidden",children:E.jsxs(u1,{children:[E.jsx(Kr,{path:"/",element:E.jsx(R2,{})}),E.jsx(Kr,{path:"/feature/:id",element:E.jsx($2,{})}),E.jsx(Kr,{path:"/tasks",element:E.jsx(X2,{})}),E.jsx(Kr,{path:"/templates",element:E.jsx(nk,{})}),E.jsx(Kr,{path:"/export",element:E.jsx(ak,{})}),E.jsx(Kr,{path:"/settings",element:E.jsx(lk,{})}),E.jsx(Kr,{path:"*",element:E.jsx(a1,{to:"/",replace:!0})})]})}),E.jsx(ck,{})]}):E.jsx(nx,{message:"Initializing Landmark..."})}console.log("[main.tsx] Module loaded");const pg="/Landmark/pr/12/".replace(/\/$/,"")||"/";console.log("[main.tsx] basename:",pg);console.log("[main.tsx] Rendering React app...");Nc.createRoot(document.getElementById("root")).render(E.jsx(Po.StrictMode,{children:E.jsx(g1,{basename:pg,children:E.jsx(J1,{children:E.jsx(dk,{})})})}));export{N_ as W};
